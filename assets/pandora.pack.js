/*
 * jq1.8.2
 */
(function(a4,aD){var x,ah,o=a4.document,aK=a4.location,d=a4.navigator,bi=a4.jQuery,K=a4.$,ao=Array.prototype.push,a6=Array.prototype.slice,aM=Array.prototype.indexOf,B=Object.prototype.toString,X=Object.prototype.hasOwnProperty,aQ=String.prototype.trim,bI=function(e,b1){return new bI.fn.init(e,b1,x)},bz=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,ac=/\S/,aX=/\s+/,E=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,bq=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,a=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,bh=/^[\],:{}\s]*$/,bk=/(?:^|:|,)(?:\s*\[)+/g,bF=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,a2=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,bR=/^-ms-/,aW=/-([\da-z])/gi,P=function(e,b1){return(b1+"").toUpperCase()},aH=function(){if(o.addEventListener){o.removeEventListener("DOMContentLoaded",aH,false);bI.ready()}else{if(o.readyState==="complete"){o.detachEvent("onreadystatechange",aH);bI.ready()}}},ab={};bI.fn=bI.prototype={constructor:bI,init:function(e,b4,b3){var b2,b5,b1,b6;if(!e){return this}if(e.nodeType){this.context=this[0]=e;this.length=1;return this}if(typeof e==="string"){if(e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3){b2=[null,e,null]}else{b2=bq.exec(e)}if(b2&&(b2[1]||!b4)){if(b2[1]){b4=b4 instanceof bI?b4[0]:b4;b6=(b4&&b4.nodeType?b4.ownerDocument||b4:o);e=bI.parseHTML(b2[1],b6,true);if(a.test(b2[1])&&bI.isPlainObject(b4)){this.attr.call(e,b4,true)}return bI.merge(this,e)}else{b5=o.getElementById(b2[2]);if(b5&&b5.parentNode){if(b5.id!==b2[2]){return b3.find(e)}this.length=1;this[0]=b5}this.context=o;this.selector=e;return this}}else{if(!b4||b4.jquery){return(b4||b3).find(e)}else{return this.constructor(b4).find(e)}}}else{if(bI.isFunction(e)){return b3.ready(e)}}if(e.selector!==aD){this.selector=e.selector;this.context=e.context}return bI.makeArray(e,this)},selector:"",jquery:"1.8.2",length:0,size:function(){return this.length},toArray:function(){return a6.call(this)},get:function(e){return e==null?this.toArray():(e<0?this[this.length+e]:this[e])},pushStack:function(b1,b3,e){var b2=bI.merge(this.constructor(),b1);b2.prevObject=this;b2.context=this.context;if(b3==="find"){b2.selector=this.selector+(this.selector?" ":"")+e}else{if(b3){b2.selector=this.selector+"."+b3+"("+e+")"}}return b2},each:function(b1,e){return bI.each(this,b1,e)},ready:function(e){bI.ready.promise().done(e);return this},eq:function(e){e=+e;return e===-1?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(a6.apply(this,arguments),"slice",a6.call(arguments).join(","))},map:function(e){return this.pushStack(bI.map(this,function(b2,b1){return e.call(b2,b1,b2)}))},end:function(){return this.prevObject||this.constructor(null)},push:ao,sort:[].sort,splice:[].splice};bI.fn.init.prototype=bI.fn;bI.extend=bI.fn.extend=function(){var b9,b2,e,b1,b6,b7,b5=arguments[0]||{},b4=1,b3=arguments.length,b8=false;if(typeof b5==="boolean"){b8=b5;b5=arguments[1]||{};b4=2}if(typeof b5!=="object"&&!bI.isFunction(b5)){b5={}}if(b3===b4){b5=this;--b4}for(;b4<b3;b4++){if((b9=arguments[b4])!=null){for(b2 in b9){e=b5[b2];b1=b9[b2];if(b5===b1){continue}if(b8&&b1&&(bI.isPlainObject(b1)||(b6=bI.isArray(b1)))){if(b6){b6=false;b7=e&&bI.isArray(e)?e:[]}else{b7=e&&bI.isPlainObject(e)?e:{}}b5[b2]=bI.extend(b8,b7,b1)}else{if(b1!==aD){b5[b2]=b1}}}}}return b5};bI.extend({noConflict:function(e){if(a4.$===bI){a4.$=K}if(e&&a4.jQuery===bI){a4.jQuery=bi}return bI},isReady:false,readyWait:1,holdReady:function(e){if(e){bI.readyWait++}else{bI.ready(true)}},ready:function(e){if(e===true?--bI.readyWait:bI.isReady){return}if(!o.body){return setTimeout(bI.ready,1)}bI.isReady=true;if(e!==true&&--bI.readyWait>0){return}ah.resolveWith(o,[bI]);if(bI.fn.trigger){bI(o).trigger("ready").off("ready")}},isFunction:function(e){return bI.type(e)==="function"},isArray:Array.isArray||function(e){return bI.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return !isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):ab[B.call(e)]||"object"},isPlainObject:function(b3){if(!b3||bI.type(b3)!=="object"||b3.nodeType||bI.isWindow(b3)){return false}try{if(b3.constructor&&!X.call(b3,"constructor")&&!X.call(b3.constructor.prototype,"isPrototypeOf")){return false}}catch(b2){return false}var b1;for(b1 in b3){}return b1===aD||X.call(b3,b1)},isEmptyObject:function(b1){var e;for(e in b1){return false}return true},error:function(e){throw new Error(e)},parseHTML:function(b3,b2,e){var b1;if(!b3||typeof b3!=="string"){return null}if(typeof b2==="boolean"){e=b2;b2=0}b2=b2||o;if((b1=a.exec(b3))){return[b2.createElement(b1[1])]}b1=bI.buildFragment([b3],b2,e?null:[]);return bI.merge([],(b1.cacheable?bI.clone(b1.fragment):b1.fragment).childNodes)},parseJSON:function(e){if(!e||typeof e!=="string"){return null}e=bI.trim(e);if(a4.JSON&&a4.JSON.parse){return a4.JSON.parse(e)}if(bh.test(e.replace(bF,"@").replace(a2,"]").replace(bk,""))){return(new Function("return "+e))()}bI.error("Invalid JSON: "+e)},parseXML:function(b3){var b1,b2;if(!b3||typeof b3!=="string"){return null}try{if(a4.DOMParser){b2=new DOMParser();b1=b2.parseFromString(b3,"text/xml")}else{b1=new ActiveXObject("Microsoft.XMLDOM");b1.async="false";b1.loadXML(b3)}}catch(b4){b1=aD}if(!b1||!b1.documentElement||b1.getElementsByTagName("parsererror").length){bI.error("Invalid XML: "+b3)}return b1},noop:function(){},globalEval:function(e){if(e&&ac.test(e)){(a4.execScript||function(b1){a4["eval"].call(a4,b1)})(e)}},camelCase:function(e){return e.replace(bR,"ms-").replace(aW,P)},nodeName:function(b1,e){return b1.nodeName&&b1.nodeName.toLowerCase()===e.toLowerCase()},each:function(b5,b6,b2){var b1,b3=0,b4=b5.length,e=b4===aD||bI.isFunction(b5);if(b2){if(e){for(b1 in b5){if(b6.apply(b5[b1],b2)===false){break}}}else{for(;b3<b4;){if(b6.apply(b5[b3++],b2)===false){break}}}}else{if(e){for(b1 in b5){if(b6.call(b5[b1],b1,b5[b1])===false){break}}}else{for(;b3<b4;){if(b6.call(b5[b3],b3,b5[b3++])===false){break}}}}return b5},trim:aQ&&!aQ.call("\uFEFF\xA0")?function(e){return e==null?"":aQ.call(e)}:function(e){return e==null?"":(e+"").replace(E,"")},makeArray:function(e,b2){var b3,b1=b2||[];if(e!=null){b3=bI.type(e);if(e.length==null||b3==="string"||b3==="function"||b3==="regexp"||bI.isWindow(e)){ao.call(b1,e)}else{bI.merge(b1,e)}}return b1},inArray:function(b3,b1,b2){var e;if(b1){if(aM){return aM.call(b1,b3,b2)}e=b1.length;b2=b2?b2<0?Math.max(0,e+b2):b2:0;for(;b2<e;b2++){if(b2 in b1&&b1[b2]===b3){return b2}}}return -1},merge:function(b4,b2){var e=b2.length,b3=b4.length,b1=0;if(typeof e==="number"){for(;b1<e;b1++){b4[b3++]=b2[b1]}}else{while(b2[b1]!==aD){b4[b3++]=b2[b1++]}}b4.length=b3;return b4},grep:function(b1,b6,e){var b5,b2=[],b3=0,b4=b1.length;e=!!e;for(;b3<b4;b3++){b5=!!b6(b1[b3],b3);if(e!==b5){b2.push(b1[b3])}}return b2},map:function(e,b7,b8){var b5,b6,b4=[],b2=0,b1=e.length,b3=e instanceof bI||b1!==aD&&typeof b1==="number"&&((b1>0&&e[0]&&e[b1-1])||b1===0||bI.isArray(e));if(b3){for(;b2<b1;b2++){b5=b7(e[b2],b2,b8);if(b5!=null){b4[b4.length]=b5}}}else{for(b6 in e){b5=b7(e[b6],b6,b8);if(b5!=null){b4[b4.length]=b5}}}return b4.concat.apply([],b4)},guid:1,proxy:function(b4,b3){var b2,e,b1;if(typeof b3==="string"){b2=b4[b3];b3=b4;b4=b2}if(!bI.isFunction(b4)){return aD}e=a6.call(arguments,2);b1=function(){return b4.apply(b3,e.concat(a6.call(arguments)))};b1.guid=b4.guid=b4.guid||bI.guid++;return b1},access:function(e,b6,b9,b7,b4,ca,b8){var b2,b5=b9==null,b3=0,b1=e.length;if(b9&&typeof b9==="object"){for(b3 in b9){bI.access(e,b6,b3,b9[b3],1,ca,b7)}b4=1}else{if(b7!==aD){b2=b8===aD&&bI.isFunction(b7);if(b5){if(b2){b2=b6;b6=function(cc,cb,cd){return b2.call(bI(cc),cd)}}else{b6.call(e,b7);b6=null}}if(b6){for(;b3<b1;b3++){b6(e[b3],b9,b2?b7.call(e[b3],b3,b6(e[b3],b9)):b7,b8)}}b4=1}}return b4?e:b5?b6.call(e):b1?b6(e[0],b9):ca},now:function(){return(new Date()).getTime()}});bI.ready.promise=function(b4){if(!ah){ah=bI.Deferred();if(o.readyState==="complete"){setTimeout(bI.ready,1)}else{if(o.addEventListener){o.addEventListener("DOMContentLoaded",aH,false);a4.addEventListener("load",bI.ready,false)}else{o.attachEvent("onreadystatechange",aH);a4.attachEvent("onload",bI.ready);var b3=false;try{b3=a4.frameElement==null&&o.documentElement}catch(b2){}if(b3&&b3.doScroll){(function b1(){if(!bI.isReady){try{b3.doScroll("left")}catch(b5){return setTimeout(b1,50)}bI.ready()}})()}}}}return ah.promise(b4)};bI.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(b1,e){ab["[object "+e+"]"]=e.toLowerCase()});x=bI(o);var bW={};function ae(b1){var e=bW[b1]={};bI.each(b1.split(aX),function(b3,b2){e[b2]=true});return e}bI.Callbacks=function(ca){ca=typeof ca==="string"?(bW[ca]||ae(ca)):bI.extend({},ca);var b3,e,b4,b2,b5,b6,b7=[],b8=!ca.once&&[],b1=function(cb){b3=ca.memory&&cb;e=true;b6=b2||0;b2=0;b5=b7.length;b4=true;for(;b7&&b6<b5;b6++){if(b7[b6].apply(cb[0],cb[1])===false&&ca.stopOnFalse){b3=false;break}}b4=false;if(b7){if(b8){if(b8.length){b1(b8.shift())}}else{if(b3){b7=[]}else{b9.disable()}}}},b9={add:function(){if(b7){var cc=b7.length;(function cb(cd){bI.each(cd,function(cf,ce){var cg=bI.type(ce);if(cg==="function"&&(!ca.unique||!b9.has(ce))){b7.push(ce)}else{if(ce&&ce.length&&cg!=="string"){cb(ce)}}})})(arguments);if(b4){b5=b7.length}else{if(b3){b2=cc;b1(b3)}}}return this},remove:function(){if(b7){bI.each(arguments,function(cd,cb){var cc;while((cc=bI.inArray(cb,b7,cc))>-1){b7.splice(cc,1);if(b4){if(cc<=b5){b5--}if(cc<=b6){b6--}}}})}return this},has:function(cb){return bI.inArray(cb,b7)>-1},empty:function(){b7=[];return this},disable:function(){b7=b8=b3=aD;return this},disabled:function(){return !b7},lock:function(){b8=aD;if(!b3){b9.disable()}return this},locked:function(){return !b8},fireWith:function(cc,cb){cb=cb||[];cb=[cc,cb.slice?cb.slice():cb];if(b7&&(!e||b8)){if(b4){b8.push(cb)}else{b1(cb)}}return this},fire:function(){b9.fireWith(this,arguments);return this},fired:function(){return !!e}};return b9};bI.extend({Deferred:function(b2){var b1=[["resolve","done",bI.Callbacks("once memory"),"resolved"],["reject","fail",bI.Callbacks("once memory"),"rejected"],["notify","progress",bI.Callbacks("memory")]],b3="pending",b4={state:function(){return b3},always:function(){e.done(arguments).fail(arguments);return this},then:function(){var b5=arguments;return bI.Deferred(function(b6){bI.each(b1,function(b8,b7){var ca=b7[0],b9=b5[b8];e[b7[1]](bI.isFunction(b9)?function(){var cb=b9.apply(this,arguments);if(cb&&bI.isFunction(cb.promise)){cb.promise().done(b6.resolve).fail(b6.reject).progress(b6.notify)}else{b6[ca+"With"](this===e?b6:this,[cb])}}:b6[ca])});b5=null}).promise()},promise:function(b5){return b5!=null?bI.extend(b5,b4):b4}},e={};b4.pipe=b4.then;bI.each(b1,function(b6,b5){var b8=b5[2],b7=b5[3];b4[b5[1]]=b8.add;if(b7){b8.add(function(){b3=b7},b1[b6^1][2].disable,b1[2][2].lock)}e[b5[0]]=b8.fire;e[b5[0]+"With"]=b8.fireWith});b4.promise(e);if(b2){b2.call(e,e)}return e},when:function(b4){var b2=0,b6=a6.call(arguments),e=b6.length,b1=e!==1||(b4&&bI.isFunction(b4.promise))?e:0,b9=b1===1?b4:bI.Deferred(),b3=function(cb,cc,ca){return function(cd){cc[cb]=this;ca[cb]=arguments.length>1?a6.call(arguments):cd;if(ca===b8){b9.notifyWith(cc,ca)}else{if(!(--b1)){b9.resolveWith(cc,ca)}}}},b8,b5,b7;if(e>1){b8=new Array(e);b5=new Array(e);b7=new Array(e);for(;b2<e;b2++){if(b6[b2]&&bI.isFunction(b6[b2].promise)){b6[b2].promise().done(b3(b2,b7,b6)).fail(b9.reject).progress(b3(b2,b5,b8))}else{--b1}}}if(!b1){b9.resolveWith(b7,b6)}return b9.promise()}});bI.support=(function(){var cd,cc,ca,cb,b4,b9,b8,b6,b5,b3,b1,b2=o.createElement("div");b2.setAttribute("className","t");b2.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";cc=b2.getElementsByTagName("*");ca=b2.getElementsByTagName("a")[0];ca.style.cssText="top:1px;float:left;opacity:.5";if(!cc||!cc.length){return{}}cb=o.createElement("select");b4=cb.appendChild(o.createElement("option"));b9=b2.getElementsByTagName("input")[0];cd={leadingWhitespace:(b2.firstChild.nodeType===3),tbody:!b2.getElementsByTagName("tbody").length,htmlSerialize:!!b2.getElementsByTagName("link").length,style:/top/.test(ca.getAttribute("style")),hrefNormalized:(ca.getAttribute("href")==="/a"),opacity:/^0.5/.test(ca.style.opacity),cssFloat:!!ca.style.cssFloat,checkOn:(b9.value==="on"),optSelected:b4.selected,getSetAttribute:b2.className!=="t",enctype:!!o.createElement("form").enctype,html5Clone:o.createElement("nav").cloneNode(true).outerHTML!=="<:nav></:nav>",boxModel:(o.compatMode==="CSS1Compat"),submitBubbles:true,changeBubbles:true,focusinBubbles:false,deleteExpando:true,noCloneEvent:true,inlineBlockNeedsLayout:false,shrinkWrapBlocks:false,reliableMarginRight:true,boxSizingReliable:true,pixelPosition:false};b9.checked=true;cd.noCloneChecked=b9.cloneNode(true).checked;cb.disabled=true;cd.optDisabled=!b4.disabled;try{delete b2.test}catch(b7){cd.deleteExpando=false}if(!b2.addEventListener&&b2.attachEvent&&b2.fireEvent){b2.attachEvent("onclick",b1=function(){cd.noCloneEvent=false});b2.cloneNode(true).fireEvent("onclick");b2.detachEvent("onclick",b1)}b9=o.createElement("input");b9.value="t";b9.setAttribute("type","radio");cd.radioValue=b9.value==="t";b9.setAttribute("checked","checked");b9.setAttribute("name","t");b2.appendChild(b9);b8=o.createDocumentFragment();b8.appendChild(b2.lastChild);cd.checkClone=b8.cloneNode(true).cloneNode(true).lastChild.checked;cd.appendChecked=b9.checked;b8.removeChild(b9);b8.appendChild(b2);if(b2.attachEvent){for(b5 in {submit:true,change:true,focusin:true}){b6="on"+b5;b3=(b6 in b2);if(!b3){b2.setAttribute(b6,"return;");b3=(typeof b2[b6]==="function")}cd[b5+"Bubbles"]=b3}}bI(function(){var ce,ci,cg,ch,cf="padding:0;margin:0;border:0;display:block;overflow:hidden;",e=o.getElementsByTagName("body")[0];if(!e){return}ce=o.createElement("div");ce.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px";e.insertBefore(ce,e.firstChild);ci=o.createElement("div");ce.appendChild(ci);ci.innerHTML="<table><tr><td></td><td>t</td></tr></table>";cg=ci.getElementsByTagName("td");cg[0].style.cssText="padding:0;margin:0;border:0;display:none";b3=(cg[0].offsetHeight===0);cg[0].style.display="";cg[1].style.display="none";cd.reliableHiddenOffsets=b3&&(cg[0].offsetHeight===0);ci.innerHTML="";ci.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;";cd.boxSizing=(ci.offsetWidth===4);cd.doesNotIncludeMarginInBodyOffset=(e.offsetTop!==1);if(a4.getComputedStyle){cd.pixelPosition=(a4.getComputedStyle(ci,null)||{}).top!=="1%";cd.boxSizingReliable=(a4.getComputedStyle(ci,null)||{width:"4px"}).width==="4px";ch=o.createElement("div");ch.style.cssText=ci.style.cssText=cf;ch.style.marginRight=ch.style.width="0";ci.style.width="1px";ci.appendChild(ch);cd.reliableMarginRight=!parseFloat((a4.getComputedStyle(ch,null)||{}).marginRight)}if(typeof ci.style.zoom!=="undefined"){ci.innerHTML="";ci.style.cssText=cf+"width:1px;padding:1px;display:inline;zoom:1";cd.inlineBlockNeedsLayout=(ci.offsetWidth===3);ci.style.display="block";ci.style.overflow="visible";ci.innerHTML="<div></div>";ci.firstChild.style.width="5px";cd.shrinkWrapBlocks=(ci.offsetWidth!==3);ce.style.zoom=1}e.removeChild(ce);ce=ci=cg=ch=null});b8.removeChild(b2);cc=ca=cb=b4=b9=b8=b2=null;return cd})();var bv=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,aN=/([A-Z])/g;bI.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(bI.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:true,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:true},hasData:function(e){e=e.nodeType?bI.cache[e[bI.expando]]:e[bI.expando];return !!e&&!Q(e)},data:function(b3,b1,b5,b4){if(!bI.acceptData(b3)){return}var b6,b8,b9=bI.expando,b7=typeof b1==="string",ca=b3.nodeType,e=ca?bI.cache:b3,b2=ca?b3[b9]:b3[b9]&&b9;if((!b2||!e[b2]||(!b4&&!e[b2].data))&&b7&&b5===aD){return}if(!b2){if(ca){b3[b9]=b2=bI.deletedIds.pop()||bI.guid++}else{b2=b9}}if(!e[b2]){e[b2]={};if(!ca){e[b2].toJSON=bI.noop}}if(typeof b1==="object"||typeof b1==="function"){if(b4){e[b2]=bI.extend(e[b2],b1)}else{e[b2].data=bI.extend(e[b2].data,b1)}}b6=e[b2];if(!b4){if(!b6.data){b6.data={}}b6=b6.data}if(b5!==aD){b6[bI.camelCase(b1)]=b5}if(b7){b8=b6[b1];if(b8==null){b8=b6[bI.camelCase(b1)]}}else{b8=b6}return b8},removeData:function(b3,b1,b4){if(!bI.acceptData(b3)){return}var b7,b6,b5,b8=b3.nodeType,e=b8?bI.cache:b3,b2=b8?b3[bI.expando]:bI.expando;if(!e[b2]){return}if(b1){b7=b4?e[b2]:e[b2].data;if(b7){if(!bI.isArray(b1)){if(b1 in b7){b1=[b1]}else{b1=bI.camelCase(b1);if(b1 in b7){b1=[b1]}else{b1=b1.split(" ")}}}for(b6=0,b5=b1.length;b6<b5;b6++){delete b7[b1[b6]]}if(!(b4?Q:bI.isEmptyObject)(b7)){return}}}if(!b4){delete e[b2].data;if(!Q(e[b2])){return}}if(b8){bI.cleanData([b3],true)}else{if(bI.support.deleteExpando||e!=e.window){delete e[b2]}else{e[b2]=null}}},_data:function(b1,e,b2){return bI.data(b1,e,b2,true)},acceptData:function(b1){var e=b1.nodeName&&bI.noData[b1.nodeName.toLowerCase()];return !e||e!==true&&b1.getAttribute("classid")===e}});bI.fn.extend({data:function(b9,b8){var b4,b1,b7,e,b3,b2=this[0],b6=0,b5=null;if(b9===aD){if(this.length){b5=bI.data(b2);if(b2.nodeType===1&&!bI._data(b2,"parsedAttrs")){b7=b2.attributes;for(b3=b7.length;b6<b3;b6++){e=b7[b6].name;if(!e.indexOf("data-")){e=bI.camelCase(e.substring(5));bx(b2,e,b5[e])}}bI._data(b2,"parsedAttrs",true)}}return b5}if(typeof b9==="object"){return this.each(function(){bI.data(this,b9)})}b4=b9.split(".",2);b4[1]=b4[1]?"."+b4[1]:"";b1=b4[1]+"!";return bI.access(this,function(ca){if(ca===aD){b5=this.triggerHandler("getData"+b1,[b4[0]]);if(b5===aD&&b2){b5=bI.data(b2,b9);b5=bx(b2,b9,b5)}return b5===aD&&b4[1]?this.data(b4[0]):b5}b4[1]=ca;this.each(function(){var cb=bI(this);cb.triggerHandler("setData"+b1,b4);bI.data(this,b9,ca);cb.triggerHandler("changeData"+b1,b4)})},null,b8,arguments.length>1,null,false)},removeData:function(e){return this.each(function(){bI.removeData(this,e)})}});function bx(b3,b2,b4){if(b4===aD&&b3.nodeType===1){var b1="data-"+b2.replace(aN,"-$1").toLowerCase();b4=b3.getAttribute(b1);if(typeof b4==="string"){try{b4=b4==="true"?true:b4==="false"?false:b4==="null"?null:+b4+""===b4?+b4:bv.test(b4)?bI.parseJSON(b4):b4}catch(b5){}bI.data(b3,b2,b4)}else{b4=aD}}return b4}function Q(b1){var e;for(e in b1){if(e==="data"&&bI.isEmptyObject(b1[e])){continue}if(e!=="toJSON"){return false}}return true}bI.extend({queue:function(b2,b1,b3){var e;if(b2){b1=(b1||"fx")+"queue";e=bI._data(b2,b1);if(b3){if(!e||bI.isArray(b3)){e=bI._data(b2,b1,bI.makeArray(b3))}else{e.push(b3)}}return e||[]}},dequeue:function(b5,b4){b4=b4||"fx";var b1=bI.queue(b5,b4),b6=b1.length,b3=b1.shift(),e=bI._queueHooks(b5,b4),b2=function(){bI.dequeue(b5,b4)};if(b3==="inprogress"){b3=b1.shift();b6--}if(b3){if(b4==="fx"){b1.unshift("inprogress")}delete e.stop;b3.call(b5,b2,e)}if(!b6&&e){e.empty.fire()}},_queueHooks:function(b2,b1){var e=b1+"queueHooks";return bI._data(b2,e)||bI._data(b2,e,{empty:bI.Callbacks("once memory").add(function(){bI.removeData(b2,b1+"queue",true);bI.removeData(b2,e,true)})})}});bI.fn.extend({queue:function(e,b1){var b2=2;if(typeof e!=="string"){b1=e;e="fx";b2--}if(arguments.length<b2){return bI.queue(this[0],e)}return b1===aD?this:this.each(function(){var b3=bI.queue(this,e,b1);bI._queueHooks(this,e);if(e==="fx"&&b3[0]!=="inprogress"){bI.dequeue(this,e)}})},dequeue:function(e){return this.each(function(){bI.dequeue(this,e)})},delay:function(b1,e){b1=bI.fx?bI.fx.speeds[b1]||b1:b1;e=e||"fx";return this.queue(e,function(b3,b2){var b4=setTimeout(b3,b1);b2.stop=function(){clearTimeout(b4)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(b2,b6){var b1,b3=1,b7=bI.Deferred(),b5=this,e=this.length,b4=function(){if(!(--b3)){b7.resolveWith(b5,[b5])}};if(typeof b2!=="string"){b6=b2;b2=aD}b2=b2||"fx";while(e--){b1=bI._data(b5[e],b2+"queueHooks");if(b1&&b1.empty){b3++;b1.empty.add(b4)}}b4();return b7.promise(b6)}});var a9,bX,n,bL=/[\t\r\n]/g,ak=/\r/g,j=/^(?:button|input)$/i,aC=/^(?:button|input|object|select|textarea)$/i,F=/^a(?:rea|)$/i,O=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,bN=bI.support.getSetAttribute;bI.fn.extend({attr:function(e,b1){return bI.access(this,bI.attr,e,b1,arguments.length>1)},removeAttr:function(e){return this.each(function(){bI.removeAttr(this,e)})},prop:function(e,b1){return bI.access(this,bI.prop,e,b1,arguments.length>1)},removeProp:function(e){e=bI.propFix[e]||e;return this.each(function(){try{this[e]=aD;delete this[e]}catch(b1){}})},addClass:function(b4){var b6,b2,b1,b3,b5,b7,e;if(bI.isFunction(b4)){return this.each(function(b8){bI(this).addClass(b4.call(this,b8,this.className))})}if(b4&&typeof b4==="string"){b6=b4.split(aX);for(b2=0,b1=this.length;b2<b1;b2++){b3=this[b2];if(b3.nodeType===1){if(!b3.className&&b6.length===1){b3.className=b4}else{b5=" "+b3.className+" ";for(b7=0,e=b6.length;b7<e;b7++){if(b5.indexOf(" "+b6[b7]+" ")<0){b5+=b6[b7]+" "}}b3.className=bI.trim(b5)}}}}return this},removeClass:function(b6){var b3,b4,b5,b7,b1,b2,e;if(bI.isFunction(b6)){return this.each(function(b8){bI(this).removeClass(b6.call(this,b8,this.className))})}if((b6&&typeof b6==="string")||b6===aD){b3=(b6||"").split(aX);for(b2=0,e=this.length;b2<e;b2++){b5=this[b2];if(b5.nodeType===1&&b5.className){b4=(" "+b5.className+" ").replace(bL," ");for(b7=0,b1=b3.length;b7<b1;b7++){while(b4.indexOf(" "+b3[b7]+" ")>=0){b4=b4.replace(" "+b3[b7]+" "," ")}}b5.className=b6?bI.trim(b4):""}}}return this},toggleClass:function(b3,b1){var b2=typeof b3,e=typeof b1==="boolean";if(bI.isFunction(b3)){return this.each(function(b4){bI(this).toggleClass(b3.call(this,b4,this.className,b1),b1)})}return this.each(function(){if(b2==="string"){var b6,b5=0,b4=bI(this),b7=b1,b8=b3.split(aX);while((b6=b8[b5++])){b7=e?b7:!b4.hasClass(b6);b4[b7?"addClass":"removeClass"](b6)}}else{if(b2==="undefined"||b2==="boolean"){if(this.className){bI._data(this,"__className__",this.className)}this.className=this.className||b3===false?"":bI._data(this,"__className__")||""}}})},hasClass:function(e){var b3=" "+e+" ",b2=0,b1=this.length;for(;b2<b1;b2++){if(this[b2].nodeType===1&&(" "+this[b2].className+" ").replace(bL," ").indexOf(b3)>=0){return true}}return false},val:function(b3){var e,b1,b4,b2=this[0];if(!arguments.length){if(b2){e=bI.valHooks[b2.type]||bI.valHooks[b2.nodeName.toLowerCase()];if(e&&"get" in e&&(b1=e.get(b2,"value"))!==aD){return b1}b1=b2.value;return typeof b1==="string"?b1.replace(ak,""):b1==null?"":b1}return}b4=bI.isFunction(b3);return this.each(function(b6){var b7,b5=bI(this);if(this.nodeType!==1){return}if(b4){b7=b3.call(this,b6,b5.val())}else{b7=b3}if(b7==null){b7=""}else{if(typeof b7==="number"){b7+=""}else{if(bI.isArray(b7)){b7=bI.map(b7,function(b8){return b8==null?"":b8+""})}}}e=bI.valHooks[this.type]||bI.valHooks[this.nodeName.toLowerCase()];if(!e||!("set" in e)||e.set(this,b7,"value")===aD){this.value=b7}})}});bI.extend({valHooks:{option:{get:function(e){var b1=e.attributes.value;return !b1||b1.specified?e.value:e.text}},select:{get:function(e){var b6,b1,b5,b3,b4=e.selectedIndex,b7=[],b8=e.options,b2=e.type==="select-one";if(b4<0){return null}b1=b2?b4:0;b5=b2?b4+1:b8.length;for(;b1<b5;b1++){b3=b8[b1];if(b3.selected&&(bI.support.optDisabled?!b3.disabled:b3.getAttribute("disabled")===null)&&(!b3.parentNode.disabled||!bI.nodeName(b3.parentNode,"optgroup"))){b6=bI(b3).val();if(b2){return b6}b7.push(b6)}}if(b2&&!b7.length&&b8.length){return bI(b8[b4]).val()}return b7},set:function(b1,b2){var e=bI.makeArray(b2);bI(b1).find("option").each(function(){this.selected=bI.inArray(bI(this).val(),e)>=0});if(!e.length){b1.selectedIndex=-1}return e}}},attrFn:{},attr:function(b6,b3,b7,b5){var b2,e,b4,b1=b6.nodeType;if(!b6||b1===3||b1===8||b1===2){return}if(b5&&bI.isFunction(bI.fn[b3])){return bI(b6)[b3](b7)}if(typeof b6.getAttribute==="undefined"){return bI.prop(b6,b3,b7)}b4=b1!==1||!bI.isXMLDoc(b6);if(b4){b3=b3.toLowerCase();e=bI.attrHooks[b3]||(O.test(b3)?bX:a9)}if(b7!==aD){if(b7===null){bI.removeAttr(b6,b3);return}else{if(e&&"set" in e&&b4&&(b2=e.set(b6,b7,b3))!==aD){return b2}else{b6.setAttribute(b3,b7+"");return b7}}}else{if(e&&"get" in e&&b4&&(b2=e.get(b6,b3))!==null){return b2}else{b2=b6.getAttribute(b3);return b2===null?aD:b2}}},removeAttr:function(b3,b5){var b4,b6,b1,e,b2=0;if(b5&&b3.nodeType===1){b6=b5.split(aX);for(;b2<b6.length;b2++){b1=b6[b2];if(b1){b4=bI.propFix[b1]||b1;e=O.test(b1);if(!e){bI.attr(b3,b1,"")}b3.removeAttribute(bN?b1:b4);if(e&&b4 in b3){b3[b4]=false}}}}},attrHooks:{type:{set:function(e,b1){if(j.test(e.nodeName)&&e.parentNode){bI.error("type property can't be changed")}else{if(!bI.support.radioValue&&b1==="radio"&&bI.nodeName(e,"input")){var b2=e.value;e.setAttribute("type",b1);if(b2){e.value=b2}return b1}}}},value:{get:function(b1,e){if(a9&&bI.nodeName(b1,"button")){return a9.get(b1,e)}return e in b1?b1.value:null},set:function(b1,b2,e){if(a9&&bI.nodeName(b1,"button")){return a9.set(b1,b2,e)}b1.value=b2}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(b5,b3,b6){var b2,e,b4,b1=b5.nodeType;if(!b5||b1===3||b1===8||b1===2){return}b4=b1!==1||!bI.isXMLDoc(b5);if(b4){b3=bI.propFix[b3]||b3;e=bI.propHooks[b3]}if(b6!==aD){if(e&&"set" in e&&(b2=e.set(b5,b6,b3))!==aD){return b2}else{return(b5[b3]=b6)}}else{if(e&&"get" in e&&(b2=e.get(b5,b3))!==null){return b2}else{return b5[b3]}}},propHooks:{tabIndex:{get:function(b1){var e=b1.getAttributeNode("tabindex");return e&&e.specified?parseInt(e.value,10):aC.test(b1.nodeName)||F.test(b1.nodeName)&&b1.href?0:aD}}}});bX={get:function(b1,e){var b3,b2=bI.prop(b1,e);return b2===true||typeof b2!=="boolean"&&(b3=b1.getAttributeNode(e))&&b3.nodeValue!==false?e.toLowerCase():aD},set:function(b1,b3,e){var b2;if(b3===false){bI.removeAttr(b1,e)}else{b2=bI.propFix[e]||e;if(b2 in b1){b1[b2]=true}b1.setAttribute(e,e.toLowerCase())}return e}};if(!bN){n={name:true,id:true,coords:true};a9=bI.valHooks.button={get:function(b2,b1){var e;e=b2.getAttributeNode(b1);return e&&(n[b1]?e.value!=="":e.specified)?e.value:aD},set:function(b2,b3,b1){var e=b2.getAttributeNode(b1);if(!e){e=o.createAttribute(b1);b2.setAttributeNode(e)}return(e.value=b3+"")}};bI.each(["width","height"],function(b1,e){bI.attrHooks[e]=bI.extend(bI.attrHooks[e],{set:function(b2,b3){if(b3===""){b2.setAttribute(e,"auto");return b3}}})});bI.attrHooks.contenteditable={get:a9.get,set:function(b1,b2,e){if(b2===""){b2="false"}a9.set(b1,b2,e)}}}if(!bI.support.hrefNormalized){bI.each(["href","src","width","height"],function(b1,e){bI.attrHooks[e]=bI.extend(bI.attrHooks[e],{get:function(b3){var b2=b3.getAttribute(e,2);return b2===null?aD:b2}})})}if(!bI.support.style){bI.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||aD},set:function(e,b1){return(e.style.cssText=b1+"")}}}if(!bI.support.optSelected){bI.propHooks.selected=bI.extend(bI.propHooks.selected,{get:function(b1){var e=b1.parentNode;if(e){e.selectedIndex;if(e.parentNode){e.parentNode.selectedIndex}}return null}})}if(!bI.support.enctype){bI.propFix.enctype="encoding"}if(!bI.support.checkOn){bI.each(["radio","checkbox"],function(){bI.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}})}bI.each(["radio","checkbox"],function(){bI.valHooks[this]=bI.extend(bI.valHooks[this],{set:function(e,b1){if(bI.isArray(b1)){return(e.checked=bI.inArray(bI(e).val(),b1)>=0)}}})});var bG=/^(?:textarea|input|select)$/i,bt=/^([^\.]*|)(?:\.(.+)|)$/,bc=/(?:^|\s)hover(\.\S+|)\b/,a5=/^key/,bM=/^(?:mouse|contextmenu)|click/,bA=/^(?:focusinfocus|focusoutblur)$/,at=function(e){return bI.event.special.hover?e:e.replace(bc,"mouseenter$1 mouseleave$1")};bI.event={add:function(b3,b7,ce,b5,b4){var b8,b6,cf,cd,cc,ca,e,cb,b1,b2,b9;if(b3.nodeType===3||b3.nodeType===8||!b7||!ce||!(b8=bI._data(b3))){return}if(ce.handler){b1=ce;ce=b1.handler;b4=b1.selector}if(!ce.guid){ce.guid=bI.guid++}cf=b8.events;if(!cf){b8.events=cf={}}b6=b8.handle;if(!b6){b8.handle=b6=function(cg){return typeof bI!=="undefined"&&(!cg||bI.event.triggered!==cg.type)?bI.event.dispatch.apply(b6.elem,arguments):aD};b6.elem=b3}b7=bI.trim(at(b7)).split(" ");for(cd=0;cd<b7.length;cd++){cc=bt.exec(b7[cd])||[];ca=cc[1];e=(cc[2]||"").split(".").sort();b9=bI.event.special[ca]||{};ca=(b4?b9.delegateType:b9.bindType)||ca;b9=bI.event.special[ca]||{};cb=bI.extend({type:ca,origType:cc[1],data:b5,handler:ce,guid:ce.guid,selector:b4,needsContext:b4&&bI.expr.match.needsContext.test(b4),namespace:e.join(".")},b1);b2=cf[ca];if(!b2){b2=cf[ca]=[];b2.delegateCount=0;if(!b9.setup||b9.setup.call(b3,b5,e,b6)===false){if(b3.addEventListener){b3.addEventListener(ca,b6,false)}else{if(b3.attachEvent){b3.attachEvent("on"+ca,b6)}}}}if(b9.add){b9.add.call(b3,cb);if(!cb.handler.guid){cb.handler.guid=ce.guid}}if(b4){b2.splice(b2.delegateCount++,0,cb)}else{b2.push(cb)}bI.event.global[ca]=true}b3=null},global:{},remove:function(b3,b8,ce,b4,b7){var cf,cg,cb,b2,b1,b5,b6,cd,ca,e,cc,b9=bI.hasData(b3)&&bI._data(b3);if(!b9||!(cd=b9.events)){return}b8=bI.trim(at(b8||"")).split(" ");for(cf=0;cf<b8.length;cf++){cg=bt.exec(b8[cf])||[];cb=b2=cg[1];b1=cg[2];if(!cb){for(cb in cd){bI.event.remove(b3,cb+b8[cf],ce,b4,true)}continue}ca=bI.event.special[cb]||{};cb=(b4?ca.delegateType:ca.bindType)||cb;e=cd[cb]||[];b5=e.length;b1=b1?new RegExp("(^|\\.)"+b1.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(b6=0;b6<e.length;b6++){cc=e[b6];if((b7||b2===cc.origType)&&(!ce||ce.guid===cc.guid)&&(!b1||b1.test(cc.namespace))&&(!b4||b4===cc.selector||b4==="**"&&cc.selector)){e.splice(b6--,1);if(cc.selector){e.delegateCount--}if(ca.remove){ca.remove.call(b3,cc)}}}if(e.length===0&&b5!==e.length){if(!ca.teardown||ca.teardown.call(b3,b1,b9.handle)===false){bI.removeEvent(b3,cb,b9.handle)}delete cd[cb]}}if(bI.isEmptyObject(cd)){delete b9.handle;bI.removeData(b3,"events",true)}},customEvent:{getData:true,setData:true,changeData:true},trigger:function(b1,b8,b6,cf){if(b6&&(b6.nodeType===3||b6.nodeType===8)){return}var e,b3,b9,cd,b5,b4,cb,ca,b7,ce,cc=b1.type||b1,b2=[];if(bA.test(cc+bI.event.triggered)){return}if(cc.indexOf("!")>=0){cc=cc.slice(0,-1);b3=true}if(cc.indexOf(".")>=0){b2=cc.split(".");cc=b2.shift();b2.sort()}if((!b6||bI.event.customEvent[cc])&&!bI.event.global[cc]){return}b1=typeof b1==="object"?b1[bI.expando]?b1:new bI.Event(cc,b1):new bI.Event(cc);b1.type=cc;b1.isTrigger=true;b1.exclusive=b3;b1.namespace=b2.join(".");b1.namespace_re=b1.namespace?new RegExp("(^|\\.)"+b2.join("\\.(?:.*\\.|)")+"(\\.|$)"):null;b4=cc.indexOf(":")<0?"on"+cc:"";if(!b6){e=bI.cache;for(b9 in e){if(e[b9].events&&e[b9].events[cc]){bI.event.trigger(b1,b8,e[b9].handle.elem,true)}}return}b1.result=aD;if(!b1.target){b1.target=b6}b8=b8!=null?bI.makeArray(b8):[];b8.unshift(b1);cb=bI.event.special[cc]||{};if(cb.trigger&&cb.trigger.apply(b6,b8)===false){return}b7=[[b6,cb.bindType||cc]];if(!cf&&!cb.noBubble&&!bI.isWindow(b6)){ce=cb.delegateType||cc;cd=bA.test(ce+cc)?b6:b6.parentNode;for(b5=b6;cd;cd=cd.parentNode){b7.push([cd,ce]);b5=cd}if(b5===(b6.ownerDocument||o)){b7.push([b5.defaultView||b5.parentWindow||a4,ce])}}for(b9=0;b9<b7.length&&!b1.isPropagationStopped();b9++){cd=b7[b9][0];b1.type=b7[b9][1];ca=(bI._data(cd,"events")||{})[b1.type]&&bI._data(cd,"handle");if(ca){ca.apply(cd,b8)}ca=b4&&cd[b4];if(ca&&bI.acceptData(cd)&&ca.apply&&ca.apply(cd,b8)===false){b1.preventDefault()}}b1.type=cc;if(!cf&&!b1.isDefaultPrevented()){if((!cb._default||cb._default.apply(b6.ownerDocument,b8)===false)&&!(cc==="click"&&bI.nodeName(b6,"a"))&&bI.acceptData(b6)){if(b4&&b6[cc]&&((cc!=="focus"&&cc!=="blur")||b1.target.offsetWidth!==0)&&!bI.isWindow(b6)){b5=b6[b4];if(b5){b6[b4]=null}bI.event.triggered=cc;b6[cc]();bI.event.triggered=aD;if(b5){b6[b4]=b5}}}}return b1.result},dispatch:function(e){e=bI.event.fix(e||a4.event);var b7,b6,cg,ca,b9,b1,b8,ce,b3,cf,b4=((bI._data(this,"events")||{})[e.type]||[]),b5=b4.delegateCount,cc=a6.call(arguments),b2=!e.exclusive&&!e.namespace,cb=bI.event.special[e.type]||{},cd=[];cc[0]=e;e.delegateTarget=this;if(cb.preDispatch&&cb.preDispatch.call(this,e)===false){return}if(b5&&!(e.button&&e.type==="click")){for(cg=e.target;cg!=this;cg=cg.parentNode||this){if(cg.disabled!==true||e.type!=="click"){b9={};b8=[];for(b7=0;b7<b5;b7++){ce=b4[b7];b3=ce.selector;if(b9[b3]===aD){b9[b3]=ce.needsContext?bI(b3,this).index(cg)>=0:bI.find(b3,this,null,[cg]).length}if(b9[b3]){b8.push(ce)}}if(b8.length){cd.push({elem:cg,matches:b8})}}}}if(b4.length>b5){cd.push({elem:this,matches:b4.slice(b5)})}for(b7=0;b7<cd.length&&!e.isPropagationStopped();b7++){b1=cd[b7];e.currentTarget=b1.elem;for(b6=0;b6<b1.matches.length&&!e.isImmediatePropagationStopped();b6++){ce=b1.matches[b6];if(b2||(!e.namespace&&!ce.namespace)||e.namespace_re&&e.namespace_re.test(ce.namespace)){e.data=ce.data;e.handleObj=ce;ca=((bI.event.special[ce.origType]||{}).handle||ce.handler).apply(b1.elem,cc);if(ca!==aD){e.result=ca;if(ca===false){e.preventDefault();e.stopPropagation()}}}}}if(cb.postDispatch){cb.postDispatch.call(this,e)}return e.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(b1,e){if(b1.which==null){b1.which=e.charCode!=null?e.charCode:e.keyCode}return b1}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(b3,b2){var b4,b5,e,b1=b2.button,b6=b2.fromElement;if(b3.pageX==null&&b2.clientX!=null){b4=b3.target.ownerDocument||o;b5=b4.documentElement;e=b4.body;b3.pageX=b2.clientX+(b5&&b5.scrollLeft||e&&e.scrollLeft||0)-(b5&&b5.clientLeft||e&&e.clientLeft||0);b3.pageY=b2.clientY+(b5&&b5.scrollTop||e&&e.scrollTop||0)-(b5&&b5.clientTop||e&&e.clientTop||0)}if(!b3.relatedTarget&&b6){b3.relatedTarget=b6===b3.target?b2.toElement:b6}if(!b3.which&&b1!==aD){b3.which=(b1&1?1:(b1&2?3:(b1&4?2:0)))}return b3}},fix:function(b2){if(b2[bI.expando]){return b2}var b1,b5,e=b2,b3=bI.event.fixHooks[b2.type]||{},b4=b3.props?this.props.concat(b3.props):this.props;b2=bI.Event(e);for(b1=b4.length;b1;){b5=b4[--b1];b2[b5]=e[b5]}if(!b2.target){b2.target=e.srcElement||o}if(b2.target.nodeType===3){b2.target=b2.target.parentNode}b2.metaKey=!!b2.metaKey;return b3.filter?b3.filter(b2,e):b2},special:{load:{noBubble:true},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(b2,b1,e){if(bI.isWindow(this)){this.onbeforeunload=e}},teardown:function(b1,e){if(this.onbeforeunload===e){this.onbeforeunload=null}}}},simulate:function(b2,b4,b3,b1){var b5=bI.extend(new bI.Event(),b3,{type:b2,isSimulated:true,originalEvent:{}});if(b1){bI.event.trigger(b5,null,b4)}else{bI.event.dispatch.call(b4,b5)}if(b5.isDefaultPrevented()){b3.preventDefault()}}};bI.event.handle=bI.event.dispatch;bI.removeEvent=o.removeEventListener?function(b1,e,b2){if(b1.removeEventListener){b1.removeEventListener(e,b2,false)}}:function(b2,b1,b3){var e="on"+b1;if(b2.detachEvent){if(typeof b2[e]==="undefined"){b2[e]=null}b2.detachEvent(e,b3)}};bI.Event=function(b1,e){if(!(this instanceof bI.Event)){return new bI.Event(b1,e)}if(b1&&b1.type){this.originalEvent=b1;this.type=b1.type;this.isDefaultPrevented=(b1.defaultPrevented||b1.returnValue===false||b1.getPreventDefault&&b1.getPreventDefault())?T:Z}else{this.type=b1}if(e){bI.extend(this,e)}this.timeStamp=b1&&b1.timeStamp||bI.now();this[bI.expando]=true};function Z(){return false}function T(){return true}bI.Event.prototype={preventDefault:function(){this.isDefaultPrevented=T;var b1=this.originalEvent;if(!b1){return}if(b1.preventDefault){b1.preventDefault()}else{b1.returnValue=false}},stopPropagation:function(){this.isPropagationStopped=T;var b1=this.originalEvent;if(!b1){return}if(b1.stopPropagation){b1.stopPropagation()}b1.cancelBubble=true},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=T;this.stopPropagation()},isDefaultPrevented:Z,isPropagationStopped:Z,isImmediatePropagationStopped:Z};bI.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(b1,e){bI.event.special[b1]={delegateType:e,bindType:e,handle:function(b5){var b3,b7=this,b6=b5.relatedTarget,b4=b5.handleObj,b2=b4.selector;if(!b6||(b6!==b7&&!bI.contains(b7,b6))){b5.type=b4.origType;b3=b4.handler.apply(this,arguments);b5.type=e}return b3}}});if(!bI.support.submitBubbles){bI.event.special.submit={setup:function(){if(bI.nodeName(this,"form")){return false}bI.event.add(this,"click._submit keypress._submit",function(b3){var b2=b3.target,b1=bI.nodeName(b2,"input")||bI.nodeName(b2,"button")?b2.form:aD;if(b1&&!bI._data(b1,"_submit_attached")){bI.event.add(b1,"submit._submit",function(e){e._submit_bubble=true});bI._data(b1,"_submit_attached",true)}})},postDispatch:function(e){if(e._submit_bubble){delete e._submit_bubble;if(this.parentNode&&!e.isTrigger){bI.event.simulate("submit",this.parentNode,e,true)}}},teardown:function(){if(bI.nodeName(this,"form")){return false}bI.event.remove(this,"._submit")}}}if(!bI.support.changeBubbles){bI.event.special.change={setup:function(){if(bG.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio"){bI.event.add(this,"propertychange._change",function(e){if(e.originalEvent.propertyName==="checked"){this._just_changed=true}});bI.event.add(this,"click._change",function(e){if(this._just_changed&&!e.isTrigger){this._just_changed=false}bI.event.simulate("change",this,e,true)})}return false}bI.event.add(this,"beforeactivate._change",function(b2){var b1=b2.target;if(bG.test(b1.nodeName)&&!bI._data(b1,"_change_attached")){bI.event.add(b1,"change._change",function(e){if(this.parentNode&&!e.isSimulated&&!e.isTrigger){bI.event.simulate("change",this.parentNode,e,true)}});bI._data(b1,"_change_attached",true)}})},handle:function(b1){var e=b1.target;if(this!==e||b1.isSimulated||b1.isTrigger||(e.type!=="radio"&&e.type!=="checkbox")){return b1.handleObj.handler.apply(this,arguments)}},teardown:function(){bI.event.remove(this,"._change");return !bG.test(this.nodeName)}}}if(!bI.support.focusinBubbles){bI.each({focus:"focusin",blur:"focusout"},function(b3,e){var b1=0,b2=function(b4){bI.event.simulate(e,b4.target,bI.event.fix(b4),true)};bI.event.special[e]={setup:function(){if(b1++===0){o.addEventListener(b3,b2,true)}},teardown:function(){if(--b1===0){o.removeEventListener(b3,b2,true)}}}})}bI.fn.extend({on:function(b2,e,b5,b4,b1){var b6,b3;if(typeof b2==="object"){if(typeof e!=="string"){b5=b5||e;e=aD}for(b3 in b2){this.on(b3,e,b5,b2[b3],b1)}return this}if(b5==null&&b4==null){b4=e;b5=e=aD}else{if(b4==null){if(typeof e==="string"){b4=b5;b5=aD}else{b4=b5;b5=e;e=aD}}}if(b4===false){b4=Z}else{if(!b4){return this}}if(b1===1){b6=b4;b4=function(b7){bI().off(b7);return b6.apply(this,arguments)};b4.guid=b6.guid||(b6.guid=bI.guid++)}return this.each(function(){bI.event.add(this,b2,b4,b5,e)})},one:function(b1,e,b3,b2){return this.on(b1,e,b3,b2,1)},off:function(b2,e,b4){var b1,b3;if(b2&&b2.preventDefault&&b2.handleObj){b1=b2.handleObj;bI(b2.delegateTarget).off(b1.namespace?b1.origType+"."+b1.namespace:b1.origType,b1.selector,b1.handler);return this}if(typeof b2==="object"){for(b3 in b2){this.off(b3,e,b2[b3])}return this}if(e===false||typeof e==="function"){b4=e;e=aD}if(b4===false){b4=Z}return this.each(function(){bI.event.remove(this,b2,b4,e)})},bind:function(e,b2,b1){return this.on(e,null,b2,b1)},unbind:function(e,b1){return this.off(e,null,b1)},live:function(e,b2,b1){bI(this.context).on(e,this.selector,b2,b1);return this},die:function(e,b1){bI(this.context).off(e,this.selector||"**",b1);return this},delegate:function(e,b1,b3,b2){return this.on(b1,e,b3,b2)},undelegate:function(e,b1,b2){return arguments.length===1?this.off(e,"**"):this.off(b1,e||"**",b2)},trigger:function(e,b1){return this.each(function(){bI.event.trigger(e,b1,this)})},triggerHandler:function(e,b1){if(this[0]){return bI.event.trigger(e,b1,this[0],true)}},toggle:function(b3){var b1=arguments,e=b3.guid||bI.guid++,b2=0,b4=function(b5){var b6=(bI._data(this,"lastToggle"+b3.guid)||0)%b2;bI._data(this,"lastToggle"+b3.guid,b6+1);b5.preventDefault();return b1[b6].apply(this,arguments)||false};b4.guid=e;while(b2<b1.length){b1[b2++].guid=e}return this.click(b4)},hover:function(e,b1){return this.mouseenter(e).mouseleave(b1||e)}});bI.each(("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu").split(" "),function(b1,e){bI.fn[e]=function(b3,b2){if(b2==null){b2=b3;b3=null}return arguments.length>0?this.on(e,null,b3,b2):this.trigger(e)};if(a5.test(e)){bI.event.fixHooks[e]=bI.event.keyHooks}if(bM.test(e)){bI.event.fixHooks[e]=bI.event.mouseHooks}});(function(cU,cj){var cZ,cc,cN,b2,co,cC,cf,ci,ce,cL,cb=true,cw="undefined",c1=("sizcache"+Math.random()).replace(".",""),b6=String,ca=cU.document,cd=ca.documentElement,ct=0,ch=0,cG=[].pop,cY=[].push,cn=[].slice,cq=[].indexOf||function(da){var c9=0,e=this.length;for(;c9<e;c9++){if(this[c9]===da){return c9}}return -1},c3=function(e,c9){e[c1]=c9==null||c9;return e},c7=function(){var e={},c9=[];return c3(function(da,db){if(c9.push(da)>cN.cacheLength){delete e[c9.shift()]}return(e[da]=db)},e)},cW=c7(),cX=c7(),cp=c7(),cA="[\\x20\\t\\r\\n\\f]",cm="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",ck=cm.replace("w","w#"),c6="([*^$|!~]?=)",cR="\\["+cA+"*("+cm+")"+cA+"*(?:"+c6+cA+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ck+")|)|)"+cA+"*\\]",c8=":("+cm+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+cR+")|[^:]|\\\\.)*|.*))\\)|)",cB=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+cA+"*((?:-\\d)?\\d*)"+cA+"*\\)|)(?=[^-]|$)",cV=new RegExp("^"+cA+"+|((?:^|[^\\\\])(?:\\\\.)*)"+cA+"+$","g"),b7=new RegExp("^"+cA+"*,"+cA+"*"),cJ=new RegExp("^"+cA+"*([\\x20\\t\\r\\n\\f>+~])"+cA+"*"),cO=new RegExp(c8),cQ=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,cF=/^:not/,cT=/[\x20\t\r\n\f]*[+~]/,c2=/:not\($/,cu=/h\d/i,cP=/input|select|textarea|button/i,cv=/\\(?!\\)/g,cI={ID:new RegExp("^#("+cm+")"),CLASS:new RegExp("^\\.("+cm+")"),NAME:new RegExp("^\\[name=['\"]?("+cm+")['\"]?\\]"),TAG:new RegExp("^("+cm.replace("w","w*")+")"),ATTR:new RegExp("^"+cR),PSEUDO:new RegExp("^"+c8),POS:new RegExp(cB,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+cA+"*(even|odd|(([+-]|)(\\d*)n|)"+cA+"*(?:([+-]|)"+cA+"*(\\d+)|))"+cA+"*\\)|)","i"),needsContext:new RegExp("^"+cA+"*[>+~]|"+cB,"i")},cM=function(c9){var db=ca.createElement("div");try{return c9(db)}catch(da){return false}finally{db=null}},b9=cM(function(e){e.appendChild(ca.createComment(""));return !e.getElementsByTagName("*").length}),cE=cM(function(e){e.innerHTML="<a href='#'></a>";return e.firstChild&&typeof e.firstChild.getAttribute!==cw&&e.firstChild.getAttribute("href")==="#"}),cs=cM(function(c9){c9.innerHTML="<select></select>";var e=typeof c9.lastChild.getAttribute("multiple");return e!=="boolean"&&e!=="string"}),cD=cM(function(e){e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>";if(!e.getElementsByClassName||!e.getElementsByClassName("e").length){return false}e.lastChild.className="e";return e.getElementsByClassName("e").length===2}),b1=cM(function(c9){c9.id=c1+0;c9.innerHTML="<a name='"+c1+"'></a><div name='"+c1+"'></div>";cd.insertBefore(c9,cd.firstChild);var e=ca.getElementsByName&&ca.getElementsByName(c1).length===2+ca.getElementsByName(c1+0).length;cc=!ca.getElementById(c1);cd.removeChild(c9);return e});try{cn.call(cd.childNodes,0)[0].nodeType}catch(c5){cn=function(c9){var da,e=[];for(;(da=this[c9]);c9++){e.push(da)}return e}}function cS(db,e,dd,dg){dd=dd||[];e=e||ca;var de,c9,df,da,dc=e.nodeType;if(!db||typeof db!=="string"){return dd}if(dc!==1&&dc!==9){return[]}df=co(e);if(!df&&!dg){if((de=cQ.exec(db))){if((da=de[1])){if(dc===9){c9=e.getElementById(da);if(c9&&c9.parentNode){if(c9.id===da){dd.push(c9);return dd}}else{return dd}}else{if(e.ownerDocument&&(c9=e.ownerDocument.getElementById(da))&&cC(e,c9)&&c9.id===da){dd.push(c9);return dd}}}else{if(de[2]){cY.apply(dd,cn.call(e.getElementsByTagName(db),0));return dd}else{if((da=de[3])&&cD&&e.getElementsByClassName){cY.apply(dd,cn.call(e.getElementsByClassName(da),0));return dd}}}}}return c0(db.replace(cV,"$1"),e,dd,dg,df)}cS.matches=function(c9,e){return cS(c9,null,null,e)};cS.matchesSelector=function(e,c9){return cS(c9,null,null,[e]).length>0};function cK(e){return function(da){var c9=da.nodeName.toLowerCase();return c9==="input"&&da.type===e}}function b5(e){return function(da){var c9=da.nodeName.toLowerCase();return(c9==="input"||c9==="button")&&da.type===e}}function cH(e){return c3(function(c9){c9=+c9;return c3(function(da,de){var dc,db=e([],da.length,c9),dd=db.length;while(dd--){if(da[(dc=db[dd])]){da[dc]=!(de[dc]=da[dc])}}})})}b2=cS.getText=function(dc){var db,c9="",da=0,e=dc.nodeType;if(e){if(e===1||e===9||e===11){if(typeof dc.textContent==="string"){return dc.textContent}else{for(dc=dc.firstChild;dc;dc=dc.nextSibling){c9+=b2(dc)}}}else{if(e===3||e===4){return dc.nodeValue}}}else{for(;(db=dc[da]);da++){c9+=b2(db)}}return c9};co=cS.isXML=function(e){var c9=e&&(e.ownerDocument||e).documentElement;return c9?c9.nodeName!=="HTML":false};cC=cS.contains=cd.contains?function(c9,e){var db=c9.nodeType===9?c9.documentElement:c9,da=e&&e.parentNode;return c9===da||!!(da&&da.nodeType===1&&db.contains&&db.contains(da))}:cd.compareDocumentPosition?function(c9,e){return e&&!!(c9.compareDocumentPosition(e)&16)}:function(c9,e){while((e=e.parentNode)){if(e===c9){return true}}return false};cS.attr=function(da,c9){var db,e=co(da);if(!e){c9=c9.toLowerCase()}if((db=cN.attrHandle[c9])){return db(da)}if(e||cs){return da.getAttribute(c9)}db=da.getAttributeNode(c9);return db?typeof da[c9]==="boolean"?da[c9]?c9:null:db.specified?db.value:null:null};cN=cS.selectors={cacheLength:50,createPseudo:c3,match:cI,attrHandle:cE?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:cc?function(db,da,c9){if(typeof da.getElementById!==cw&&!c9){var e=da.getElementById(db);return e&&e.parentNode?[e]:[]}}:function(db,da,c9){if(typeof da.getElementById!==cw&&!c9){var e=da.getElementById(db);return e?e.id===db||typeof e.getAttributeNode!==cw&&e.getAttributeNode("id").value===db?[e]:cj:[]}},TAG:b9?function(e,c9){if(typeof c9.getElementsByTagName!==cw){return c9.getElementsByTagName(e)}}:function(e,dc){var db=dc.getElementsByTagName(e);if(e==="*"){var dd,da=[],c9=0;for(;(dd=db[c9]);c9++){if(dd.nodeType===1){da.push(dd)}}return da}return db},NAME:b1&&function(e,c9){if(typeof c9.getElementsByName!==cw){return c9.getElementsByName(name)}},CLASS:cD&&function(da,c9,e){if(typeof c9.getElementsByClassName!==cw&&!e){return c9.getElementsByClassName(da)}}},relative:{">":{dir:"parentNode",first:true}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:true},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){e[1]=e[1].replace(cv,"");e[3]=(e[4]||e[5]||"").replace(cv,"");if(e[2]==="~="){e[3]=" "+e[3]+" "}return e.slice(0,4)},CHILD:function(e){e[1]=e[1].toLowerCase();if(e[1]==="nth"){if(!e[2]){cS.error(e[0])}e[3]=+(e[3]?e[4]+(e[5]||1):2*(e[2]==="even"||e[2]==="odd"));e[4]=+((e[6]+e[7])||e[2]==="odd")}else{if(e[2]){cS.error(e[0])}}return e},PSEUDO:function(c9){var da,e;if(cI.CHILD.test(c9[0])){return null}if(c9[3]){c9[2]=c9[3]}else{if((da=c9[4])){if(cO.test(da)&&(e=b3(da,true))&&(e=da.indexOf(")",da.length-e)-da.length)){da=da.slice(0,e);c9[0]=c9[0].slice(0,e)}c9[2]=da}}return c9.slice(0,3)}},filter:{ID:cc?function(e){e=e.replace(cv,"");return function(c9){return c9.getAttribute("id")===e}}:function(e){e=e.replace(cv,"");return function(da){var c9=typeof da.getAttributeNode!==cw&&da.getAttributeNode("id");return c9&&c9.value===e}},TAG:function(e){if(e==="*"){return function(){return true}}e=e.replace(cv,"").toLowerCase();return function(c9){return c9.nodeName&&c9.nodeName.toLowerCase()===e}},CLASS:function(e){var c9=cW[c1][e];if(!c9){c9=cW(e,new RegExp("(^|"+cA+")"+e+"("+cA+"|$)"))}return function(da){return c9.test(da.className||(typeof da.getAttribute!==cw&&da.getAttribute("class"))||"")}},ATTR:function(da,c9,e){return function(dd,dc){var db=cS.attr(dd,da);if(db==null){return c9==="!="}if(!c9){return true}db+="";return c9==="="?db===e:c9==="!="?db!==e:c9==="^="?e&&db.indexOf(e)===0:c9==="*="?e&&db.indexOf(e)>-1:c9==="$="?e&&db.substr(db.length-e.length)===e:c9==="~="?(" "+db+" ").indexOf(e)>-1:c9==="|="?db===e||db.substr(0,e.length+1)===e+"-":false}},CHILD:function(e,da,db,c9){if(e==="nth"){return function(de){var dd,df,dc=de.parentNode;if(db===1&&c9===0){return true}if(dc){df=0;for(dd=dc.firstChild;dd;dd=dd.nextSibling){if(dd.nodeType===1){df++;if(de===dd){break}}}}df-=c9;return df===db||(df%db===0&&df/db>=0)}}return function(dd){var dc=dd;switch(e){case"only":case"first":while((dc=dc.previousSibling)){if(dc.nodeType===1){return false}}if(e==="first"){return true}dc=dd;case"last":while((dc=dc.nextSibling)){if(dc.nodeType===1){return false}}return true}}},PSEUDO:function(db,da){var e,c9=cN.pseudos[db]||cN.setFilters[db.toLowerCase()]||cS.error("unsupported pseudo: "+db);if(c9[c1]){return c9(da)}if(c9.length>1){e=[db,db,"",da];return cN.setFilters.hasOwnProperty(db.toLowerCase())?c3(function(de,dg){var dd,dc=c9(de,da),df=dc.length;while(df--){dd=cq.call(de,dc[df]);de[dd]=!(dg[dd]=dc[df])}}):function(dc){return c9(dc,0,e)}}return c9}},pseudos:{not:c3(function(e){var c9=[],da=[],db=cf(e.replace(cV,"$1"));return db[c1]?c3(function(dd,di,dg,de){var dh,dc=db(dd,null,de,[]),df=dd.length;while(df--){if((dh=dc[df])){dd[df]=!(di[df]=dh)}}}):function(de,dd,dc){c9[0]=de;db(c9,null,dc,da);return !da.pop()}}),has:c3(function(e){return function(c9){return cS(e,c9).length>0}}),contains:c3(function(e){return function(c9){return(c9.textContent||c9.innerText||b2(c9)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===false},disabled:function(e){return e.disabled===true},checked:function(e){var c9=e.nodeName.toLowerCase();return(c9==="input"&&!!e.checked)||(c9==="option"&&!!e.selected)},selected:function(e){if(e.parentNode){e.parentNode.selectedIndex}return e.selected===true},parent:function(e){return !cN.pseudos.empty(e)},empty:function(c9){var e;c9=c9.firstChild;while(c9){if(c9.nodeName>"@"||(e=c9.nodeType)===3||e===4){return false}c9=c9.nextSibling}return true},header:function(e){return cu.test(e.nodeName)},text:function(da){var c9,e;return da.nodeName.toLowerCase()==="input"&&(c9=da.type)==="text"&&((e=da.getAttribute("type"))==null||e.toLowerCase()===c9)},radio:cK("radio"),checkbox:cK("checkbox"),file:cK("file"),password:cK("password"),image:cK("image"),submit:b5("submit"),reset:b5("reset"),button:function(c9){var e=c9.nodeName.toLowerCase();return e==="input"&&c9.type==="button"||e==="button"},input:function(e){return cP.test(e.nodeName)},focus:function(e){var c9=e.ownerDocument;return e===c9.activeElement&&(!c9.hasFocus||c9.hasFocus())&&!!(e.type||e.href)},active:function(e){return e===e.ownerDocument.activeElement},first:cH(function(e,da,c9){return[0]}),last:cH(function(e,da,c9){return[da-1]}),eq:cH(function(e,da,c9){return[c9<0?c9+da:c9]}),even:cH(function(e,db,da){for(var c9=0;c9<db;c9+=2){e.push(c9)}return e}),odd:cH(function(e,db,da){for(var c9=1;c9<db;c9+=2){e.push(c9)}return e}),lt:cH(function(e,db,da){for(var c9=da<0?da+db:da;--c9>=0;){e.push(c9)}return e}),gt:cH(function(e,db,da){for(var c9=da<0?da+db:da;++c9<db;){e.push(c9)}return e})}};function b4(c9,e,da){if(c9===e){return da}var db=c9.nextSibling;while(db){if(db===e){return -1}db=db.nextSibling}return 1}ci=cd.compareDocumentPosition?function(c9,e){if(c9===e){ce=true;return 0}return(!c9.compareDocumentPosition||!e.compareDocumentPosition?c9.compareDocumentPosition:c9.compareDocumentPosition(e)&4)?-1:1}:function(dg,df){if(dg===df){ce=true;return 0}else{if(dg.sourceIndex&&df.sourceIndex){return dg.sourceIndex-df.sourceIndex}}var dd,c9,da=[],e=[],dc=dg.parentNode,de=df.parentNode,dh=dc;if(dc===de){return b4(dg,df)}else{if(!dc){return -1}else{if(!de){return 1}}}while(dh){da.unshift(dh);dh=dh.parentNode}dh=de;while(dh){e.unshift(dh);dh=dh.parentNode}dd=da.length;c9=e.length;for(var db=0;db<dd&&db<c9;db++){if(da[db]!==e[db]){return b4(da[db],e[db])}}return db===dd?b4(dg,e[db],-1):b4(da[db],df,1)};[0,0].sort(ci);cb=!ce;cS.uniqueSort=function(c9){var da,e=1;ce=cb;c9.sort(ci);if(ce){for(;(da=c9[e]);e++){if(da===c9[e-1]){c9.splice(e--,1)}}}return c9};cS.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};function b3(dc,dh){var c9,dd,df,dg,de,da,e,db=cX[c1][dc];if(db){return dh?0:db.slice(0)}de=dc;da=[];e=cN.preFilter;while(de){if(!c9||(dd=b7.exec(de))){if(dd){de=de.slice(dd[0].length)}da.push(df=[])}c9=false;if((dd=cJ.exec(de))){df.push(c9=new b6(dd.shift()));de=de.slice(c9.length);c9.type=dd[0].replace(cV," ")}for(dg in cN.filter){if((dd=cI[dg].exec(de))&&(!e[dg]||(dd=e[dg](dd,ca,true)))){df.push(c9=new b6(dd.shift()));de=de.slice(c9.length);c9.type=dg;c9.matches=dd}}if(!c9){break}}return dh?de.length:de?cS.error(dc):cX(dc,da).slice(0)}function cy(dc,da,db){var e=da.dir,dd=db&&da.dir==="parentNode",c9=ch++;return da.first?function(dg,df,de){while((dg=dg[e])){if(dd||dg.nodeType===1){return dc(dg,df,de)}}}:function(dh,dg,df){if(!df){var de,di=ct+" "+c9+" ",dj=di+cZ;while((dh=dh[e])){if(dd||dh.nodeType===1){if((de=dh[c1])===dj){return dh.sizset}else{if(typeof de==="string"&&de.indexOf(di)===0){if(dh.sizset){return dh}}else{dh[c1]=dj;if(dc(dh,dg,df)){dh.sizset=true;return dh}dh.sizset=false}}}}}else{while((dh=dh[e])){if(dd||dh.nodeType===1){if(dc(dh,dg,df)){return dh}}}}}}function cg(e){return e.length>1?function(dc,db,c9){var da=e.length;while(da--){if(!e[da](dc,db,c9)){return false}}return true}:e[0]}function cx(e,c9,da,db,de){var dc,dh=[],dd=0,df=e.length,dg=c9!=null;for(;dd<df;dd++){if((dc=e[dd])){if(!da||da(dc,db,de)){dh.push(dc);if(dg){c9.push(dd)}}}}return dh}function c4(da,c9,dc,db,dd,e){if(db&&!db[c1]){db=c4(db)}if(dd&&!dd[c1]){dd=c4(dd,e)}return c3(function(dq,dm,dg,dp){if(dq&&dd){return}var dn,di,dj,dh=[],dr=[],df=dm.length,de=dq||cr(c9||"*",dg.nodeType?[dg]:dg,[],dq),dk=da&&(dq||!c9)?cx(de,dh,da,dg,dp):de,dl=dc?dd||(dq?da:df||db)?[]:dm:dk;if(dc){dc(dk,dl,dg,dp)}if(db){dj=cx(dl,dr);db(dj,[],dg,dp);dn=dj.length;while(dn--){if((di=dj[dn])){dl[dr[dn]]=!(dk[dr[dn]]=di)}}}if(dq){dn=da&&dl.length;while(dn--){if((di=dl[dn])){dq[dh[dn]]=!(dm[dh[dn]]=di)}}}else{dl=cx(dl===dm?dl.splice(df,dl.length):dl);if(dd){dd(null,dm,dl,dp)}else{cY.apply(dm,dl)}}})}function cz(de){var c9,dc,da,dd=de.length,dh=cN.relative[de[0].type],di=dh||cN.relative[" "],db=dh?1:0,df=cy(function(dj){return dj===c9},di,true),dg=cy(function(dj){return cq.call(c9,dj)>-1},di,true),e=[function(dl,dk,dj){return(!dh&&(dj||dk!==cL))||((c9=dk).nodeType?df(dl,dk,dj):dg(dl,dk,dj))}];for(;db<dd;db++){if((dc=cN.relative[de[db].type])){e=[cy(cg(e),dc)]}else{dc=cN.filter[de[db].type].apply(null,de[db].matches);if(dc[c1]){da=++db;for(;da<dd;da++){if(cN.relative[de[da].type]){break}}return c4(db>1&&cg(e),db>1&&de.slice(0,db-1).join("").replace(cV,"$1"),dc,db<da&&cz(de.slice(db,da)),da<dd&&cz((de=de.slice(da))),da<dd&&de.join(""))}e.push(dc)}}return cg(e)}function b8(db,da){var e=da.length>0,dc=db.length>0,c9=function(dm,dg,dl,dk,dt){var dh,di,dn,ds=[],dr=0,dj="0",dd=dm&&[],dp=dt!=null,dq=cL,df=dm||dc&&cN.find.TAG("*",dt&&dg.parentNode||dg),de=(ct+=dq==null?1:Math.E);if(dp){cL=dg!==ca&&dg;cZ=c9.el}for(;(dh=df[dj])!=null;dj++){if(dc&&dh){for(di=0;(dn=db[di]);di++){if(dn(dh,dg,dl)){dk.push(dh);break}}if(dp){ct=de;cZ=++c9.el}}if(e){if((dh=!dn&&dh)){dr--}if(dm){dd.push(dh)}}}dr+=dj;if(e&&dj!==dr){for(di=0;(dn=da[di]);di++){dn(dd,ds,dg,dl)}if(dm){if(dr>0){while(dj--){if(!(dd[dj]||ds[dj])){ds[dj]=cG.call(dk)}}}ds=cx(ds)}cY.apply(dk,ds);if(dp&&!dm&&ds.length>0&&(dr+da.length)>1){cS.uniqueSort(dk)}}if(dp){ct=de;cL=dq}return dd};c9.el=0;return e?c3(c9):c9}cf=cS.compile=function(e,dd){var da,c9=[],dc=[],db=cp[c1][e];if(!db){if(!dd){dd=b3(e)}da=dd.length;while(da--){db=cz(dd[da]);if(db[c1]){c9.push(db)}else{dc.push(db)}}db=cp(e,b8(dc,c9))}return db};function cr(c9,dd,dc,da){var db=0,e=dd.length;for(;db<e;db++){cS(c9,dd[db],dc,da)}return dc}function c0(da,e,dc,dg,df){var dd,dj,c9,di,dh,de=b3(da),db=de.length;if(!dg){if(de.length===1){dj=de[0]=de[0].slice(0);if(dj.length>2&&(c9=dj[0]).type==="ID"&&e.nodeType===9&&!df&&cN.relative[dj[1].type]){e=cN.find.ID(c9.matches[0].replace(cv,""),e,df)[0];if(!e){return dc}da=da.slice(dj.shift().length)}for(dd=cI.POS.test(da)?-1:dj.length-1;dd>=0;dd--){c9=dj[dd];if(cN.relative[(di=c9.type)]){break}if((dh=cN.find[di])){if((dg=dh(c9.matches[0].replace(cv,""),cT.test(dj[0].type)&&e.parentNode||e,df))){dj.splice(dd,1);da=dg.length&&dj.join("");if(!da){cY.apply(dc,cn.call(dg,0));return dc}break}}}}}cf(da,de)(dg,e,df,dc,cT.test(da));return dc}if(ca.querySelectorAll){(function(){var dd,de=c0,dc=/'|\\/g,da=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,c9=[":focus"],e=[":active",":focus"],db=cd.matchesSelector||cd.mozMatchesSelector||cd.webkitMatchesSelector||cd.oMatchesSelector||cd.msMatchesSelector;cM(function(df){df.innerHTML="<select><option selected=''></option></select>";if(!df.querySelectorAll("[selected]").length){c9.push("\\["+cA+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)")}if(!df.querySelectorAll(":checked").length){c9.push(":checked")}});cM(function(df){df.innerHTML="<p test=''></p>";if(df.querySelectorAll("[test^='']").length){c9.push("[*^$]="+cA+"*(?:\"\"|'')")}df.innerHTML="<input type='hidden'/>";if(!df.querySelectorAll(":enabled").length){c9.push(":enabled",":disabled")}});c9=new RegExp(c9.join("|"));c0=function(dl,dg,dn,dr,dq){if(!dr&&!dq&&(!c9||!c9.test(dl))){var dj,dp,di=true,df=c1,dh=dg,dm=dg.nodeType===9&&dl;if(dg.nodeType===1&&dg.nodeName.toLowerCase()!=="object"){dj=b3(dl);if((di=dg.getAttribute("id"))){df=di.replace(dc,"\\$&")}else{dg.setAttribute("id",df)}df="[id='"+df+"'] ";dp=dj.length;while(dp--){dj[dp]=df+dj[dp].join("")}dh=cT.test(dl)&&dg.parentNode||dg;dm=dj.join(",")}if(dm){try{cY.apply(dn,cn.call(dh.querySelectorAll(dm),0));return dn}catch(dk){}finally{if(!di){dg.removeAttribute("id")}}}}return de(dl,dg,dn,dr,dq)};if(db){cM(function(dg){dd=db.call(dg,"div");try{db.call(dg,"[test!='']:sizzle");e.push("!=",c8)}catch(df){}});e=new RegExp(e.join("|"));cS.matchesSelector=function(dg,di){di=di.replace(da,"='$1']");if(!co(dg)&&!e.test(di)&&(!c9||!c9.test(di))){try{var df=db.call(dg,di);if(df||dd||dg.document&&dg.document.nodeType!==11){return df}}catch(dh){}}return cS(di,null,null,[dg]).length>0}}})()}cN.pseudos.nth=cN.pseudos.eq;function cl(){}cN.filters=cl.prototype=cN.pseudos;cN.setFilters=new cl();cS.attr=bI.attr;bI.find=cS;bI.expr=cS.selectors;bI.expr[":"]=bI.expr.pseudos;bI.unique=cS.uniqueSort;bI.text=cS.getText;bI.isXMLDoc=cS.isXML;bI.contains=cS.contains})(a4);var ai=/Until$/,bs=/^(?:parents|prev(?:Until|All))/,an=/^.[^:#\[\.,]*$/,A=bI.expr.match.needsContext,bw={children:true,contents:true,next:true,prev:true};bI.fn.extend({find:function(e){var b4,b1,b6,b7,b5,b3,b2=this;if(typeof e!=="string"){return bI(e).filter(function(){for(b4=0,b1=b2.length;b4<b1;b4++){if(bI.contains(b2[b4],this)){return true}}})}b3=this.pushStack("","find",e);for(b4=0,b1=this.length;b4<b1;b4++){b6=b3.length;bI.find(e,this[b4],b3);if(b4>0){for(b7=b6;b7<b3.length;b7++){for(b5=0;b5<b6;b5++){if(b3[b5]===b3[b7]){b3.splice(b7--,1);break}}}}}return b3},has:function(b3){var b2,b1=bI(b3,this),e=b1.length;return this.filter(function(){for(b2=0;b2<e;b2++){if(bI.contains(this,b1[b2])){return true}}})},not:function(e){return this.pushStack(aO(this,e,false),"not",e)},filter:function(e){return this.pushStack(aO(this,e,true),"filter",e)},is:function(e){return !!e&&(typeof e==="string"?A.test(e)?bI(e,this.context).index(this[0])>=0:bI.filter(e,this).length>0:this.filter(e).length>0)},closest:function(b4,b3){var b5,b2=0,e=this.length,b1=[],b6=A.test(b4)||typeof b4!=="string"?bI(b4,b3||this.context):0;for(;b2<e;b2++){b5=this[b2];while(b5&&b5.ownerDocument&&b5!==b3&&b5.nodeType!==11){if(b6?b6.index(b5)>-1:bI.find.matchesSelector(b5,b4)){b1.push(b5);break}b5=b5.parentNode}}b1=b1.length>1?bI.unique(b1):b1;return this.pushStack(b1,"closest",b4)},index:function(e){if(!e){return(this[0]&&this[0].parentNode)?this.prevAll().length:-1}if(typeof e==="string"){return bI.inArray(this[0],bI(e))}return bI.inArray(e.jquery?e[0]:e,this)},add:function(e,b1){var b3=typeof e==="string"?bI(e,b1):bI.makeArray(e&&e.nodeType?[e]:e),b2=bI.merge(this.get(),b3);return this.pushStack(aT(b3[0])||aT(b2[0])?b2:bI.unique(b2))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}});bI.fn.andSelf=bI.fn.addBack;function aT(e){return !e||!e.parentNode||e.parentNode.nodeType===11}function a0(b1,e){do{b1=b1[e]}while(b1&&b1.nodeType!==1);return b1}bI.each({parent:function(b1){var e=b1.parentNode;return e&&e.nodeType!==11?e:null},parents:function(e){return bI.dir(e,"parentNode")},parentsUntil:function(b1,e,b2){return bI.dir(b1,"parentNode",b2)},next:function(e){return a0(e,"nextSibling")},prev:function(e){return a0(e,"previousSibling")},nextAll:function(e){return bI.dir(e,"nextSibling")},prevAll:function(e){return bI.dir(e,"previousSibling")},nextUntil:function(b1,e,b2){return bI.dir(b1,"nextSibling",b2)},prevUntil:function(b1,e,b2){return bI.dir(b1,"previousSibling",b2)},siblings:function(e){return bI.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return bI.sibling(e.firstChild)},contents:function(e){return bI.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:bI.merge([],e.childNodes)}},function(e,b1){bI.fn[e]=function(b4,b2){var b3=bI.map(this,b1,b4);if(!ai.test(e)){b2=b4}if(b2&&typeof b2==="string"){b3=bI.filter(b2,b3)}b3=this.length>1&&!bw[e]?bI.unique(b3):b3;if(this.length>1&&bs.test(e)){b3=b3.reverse()}return this.pushStack(b3,e,a6.call(arguments).join(","))}});bI.extend({filter:function(b2,e,b1){if(b1){b2=":not("+b2+")"}return e.length===1?bI.find.matchesSelector(e[0],b2)?[e[0]]:[]:bI.find.matches(b2,e)},dir:function(b2,b1,b4){var e=[],b3=b2[b1];while(b3&&b3.nodeType!==9&&(b4===aD||b3.nodeType!==1||!bI(b3).is(b4))){if(b3.nodeType===1){e.push(b3)}b3=b3[b1]}return e},sibling:function(b2,b1){var e=[];for(;b2;b2=b2.nextSibling){if(b2.nodeType===1&&b2!==b1){e.push(b2)}}return e}});function aO(b3,b2,e){b2=b2||0;if(bI.isFunction(b2)){return bI.grep(b3,function(b5,b4){var b6=!!b2.call(b5,b4,b5);return b6===e})}else{if(b2.nodeType){return bI.grep(b3,function(b5,b4){return(b5===b2)===e})}else{if(typeof b2==="string"){var b1=bI.grep(b3,function(b4){return b4.nodeType===1});if(an.test(b2)){return bI.filter(b2,b1,!e)}else{b2=bI.filter(b2,b1)}}}}return bI.grep(b3,function(b5,b4){return(bI.inArray(b5,b2)>=0)===e})}function C(e){var b2=c.split("|"),b1=e.createDocumentFragment();if(b1.createElement){while(b2.length){b1.createElement(b2.pop())}}return b1}var c="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ax=/ jQuery\d+="(?:null|\d+)"/g,b0=/^\s+/,aA=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,p=/<([\w:]+)/,bV=/<tbody/i,L=/<|&#?\w+;/,al=/<(?:script|style|link)/i,ar=/<(?:script|object|embed|option|style)/i,M=new RegExp("<(?:"+c+")[\\s/>]","i"),aG=/^(?:checkbox|radio)$/,bT=/checked\s*(?:[^=]|=\s*.checked.)/i,by=/\/(java|ecma)script/i,aJ=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,V={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},aS=C(o),l=aS.appendChild(o.createElement("div"));V.optgroup=V.option;V.tbody=V.tfoot=V.colgroup=V.caption=V.thead;V.th=V.td;if(!bI.support.htmlSerialize){V._default=[1,"X<div>","</div>"]}bI.fn.extend({text:function(e){return bI.access(this,function(b1){return b1===aD?bI.text(this):this.empty().append((this[0]&&this[0].ownerDocument||o).createTextNode(b1))},null,e,arguments.length)},wrapAll:function(e){if(bI.isFunction(e)){return this.each(function(b2){bI(this).wrapAll(e.call(this,b2))})}if(this[0]){var b1=bI(e,this[0].ownerDocument).eq(0).clone(true);if(this[0].parentNode){b1.insertBefore(this[0])}b1.map(function(){var b2=this;while(b2.firstChild&&b2.firstChild.nodeType===1){b2=b2.firstChild}return b2}).append(this)}return this},wrapInner:function(e){if(bI.isFunction(e)){return this.each(function(b1){bI(this).wrapInner(e.call(this,b1))})}return this.each(function(){var b1=bI(this),b2=b1.contents();if(b2.length){b2.wrapAll(e)}else{b1.append(e)}})},wrap:function(e){var b1=bI.isFunction(e);return this.each(function(b2){bI(this).wrapAll(b1?e.call(this,b2):e)})},unwrap:function(){return this.parent().each(function(){if(!bI.nodeName(this,"body")){bI(this).replaceWith(this.childNodes)}}).end()},append:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1||this.nodeType===11){this.appendChild(e)}})},prepend:function(){return this.domManip(arguments,true,function(e){if(this.nodeType===1||this.nodeType===11){this.insertBefore(e,this.firstChild)}})},before:function(){if(!aT(this[0])){return this.domManip(arguments,false,function(b1){this.parentNode.insertBefore(b1,this)})}if(arguments.length){var e=bI.clean(arguments);return this.pushStack(bI.merge(e,this),"before",this.selector)}},after:function(){if(!aT(this[0])){return this.domManip(arguments,false,function(b1){this.parentNode.insertBefore(b1,this.nextSibling)})}if(arguments.length){var e=bI.clean(arguments);return this.pushStack(bI.merge(this,e),"after",this.selector)}},remove:function(e,b3){var b2,b1=0;for(;(b2=this[b1])!=null;b1++){if(!e||bI.filter(e,[b2]).length){if(!b3&&b2.nodeType===1){bI.cleanData(b2.getElementsByTagName("*"));bI.cleanData([b2])}if(b2.parentNode){b2.parentNode.removeChild(b2)}}}return this},empty:function(){var b1,e=0;for(;(b1=this[e])!=null;e++){if(b1.nodeType===1){bI.cleanData(b1.getElementsByTagName("*"))}while(b1.firstChild){b1.removeChild(b1.firstChild)}}return this},clone:function(b1,e){b1=b1==null?false:b1;e=e==null?b1:e;return this.map(function(){return bI.clone(this,b1,e)})},html:function(e){return bI.access(this,function(b4){var b3=this[0]||{},b2=0,b1=this.length;if(b4===aD){return b3.nodeType===1?b3.innerHTML.replace(ax,""):aD}if(typeof b4==="string"&&!al.test(b4)&&(bI.support.htmlSerialize||!M.test(b4))&&(bI.support.leadingWhitespace||!b0.test(b4))&&!V[(p.exec(b4)||["",""])[1].toLowerCase()]){b4=b4.replace(aA,"<$1></$2>");try{for(;b2<b1;b2++){b3=this[b2]||{};if(b3.nodeType===1){bI.cleanData(b3.getElementsByTagName("*"));b3.innerHTML=b4}}b3=0}catch(b5){}}if(b3){this.empty().append(b4)}},null,e,arguments.length)},replaceWith:function(e){if(!aT(this[0])){if(bI.isFunction(e)){return this.each(function(b3){var b2=bI(this),b1=b2.html();b2.replaceWith(e.call(this,b3,b1))})}if(typeof e!=="string"){e=bI(e).detach()}return this.each(function(){var b2=this.nextSibling,b1=this.parentNode;bI(this).remove();if(b2){bI(b2).before(e)}else{bI(b1).append(e)}})}return this.length?this.pushStack(bI(bI.isFunction(e)?e():e),"replaceWith",e):this},detach:function(e){return this.remove(e,true)},domManip:function(b6,ca,b9){b6=[].concat.apply([],b6);var b2,b4,b5,b8,b3=0,b7=b6[0],b1=[],e=this.length;if(!bI.support.checkClone&&e>1&&typeof b7==="string"&&bT.test(b7)){return this.each(function(){bI(this).domManip(b6,ca,b9)})}if(bI.isFunction(b7)){return this.each(function(cc){var cb=bI(this);b6[0]=b7.call(this,cc,ca?cb.html():aD);cb.domManip(b6,ca,b9)})}if(this[0]){b2=bI.buildFragment(b6,this,b1);b5=b2.fragment;b4=b5.firstChild;if(b5.childNodes.length===1){b5=b4}if(b4){ca=ca&&bI.nodeName(b4,"tr");for(b8=b2.cacheable||e-1;b3<e;b3++){b9.call(ca&&bI.nodeName(this[b3],"table")?y(this[b3],"tbody"):this[b3],b3===b8?b5:bI.clone(b5,true,true))}}b5=b4=null;if(b1.length){bI.each(b1,function(cb,cc){if(cc.src){if(bI.ajax){bI.ajax({url:cc.src,type:"GET",dataType:"script",async:false,global:false,"throws":true})}else{bI.error("no ajax")}}else{bI.globalEval((cc.text||cc.textContent||cc.innerHTML||"").replace(aJ,""))}if(cc.parentNode){cc.parentNode.removeChild(cc)}})}}return this}});function y(b1,e){return b1.getElementsByTagName(e)[0]||b1.appendChild(b1.ownerDocument.createElement(e))}function aq(b7,b1){if(b1.nodeType!==1||!bI.hasData(b7)){return}var b4,b3,e,b6=bI._data(b7),b5=bI._data(b1,b6),b2=b6.events;if(b2){delete b5.handle;b5.events={};for(b4 in b2){for(b3=0,e=b2[b4].length;b3<e;b3++){bI.event.add(b1,b4,b2[b4][b3])}}}if(b5.data){b5.data=bI.extend({},b5.data)}}function H(b1,e){var b2;if(e.nodeType!==1){return}if(e.clearAttributes){e.clearAttributes()}if(e.mergeAttributes){e.mergeAttributes(b1)}b2=e.nodeName.toLowerCase();if(b2==="object"){if(e.parentNode){e.outerHTML=b1.outerHTML}if(bI.support.html5Clone&&(b1.innerHTML&&!bI.trim(e.innerHTML))){e.innerHTML=b1.innerHTML}}else{if(b2==="input"&&aG.test(b1.type)){e.defaultChecked=e.checked=b1.checked;if(e.value!==b1.value){e.value=b1.value}}else{if(b2==="option"){e.selected=b1.defaultSelected}else{if(b2==="input"||b2==="textarea"){e.defaultValue=b1.defaultValue}else{if(b2==="script"&&e.text!==b1.text){e.text=b1.text}}}}}e.removeAttribute(bI.expando)}bI.buildFragment=function(b3,b4,b1){var b2,e,b5,b6=b3[0];b4=b4||o;b4=!b4.nodeType&&b4[0]||b4;b4=b4.ownerDocument||b4;if(b3.length===1&&typeof b6==="string"&&b6.length<512&&b4===o&&b6.charAt(0)==="<"&&!ar.test(b6)&&(bI.support.checkClone||!bT.test(b6))&&(bI.support.html5Clone||!M.test(b6))){e=true;b2=bI.fragments[b6];b5=b2!==aD}if(!b2){b2=b4.createDocumentFragment();bI.clean(b3,b4,b2,b1);if(e){bI.fragments[b6]=b5&&b2}}return{fragment:b2,cacheable:e}};bI.fragments={};bI.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,b1){bI.fn[e]=function(b2){var b4,b6=0,b5=[],b8=bI(b2),b3=b8.length,b7=this.length===1&&this[0].parentNode;if((b7==null||b7&&b7.nodeType===11&&b7.childNodes.length===1)&&b3===1){b8[b1](this[0]);return this}else{for(;b6<b3;b6++){b4=(b6>0?this.clone(true):this).get();bI(b8[b6])[b1](b4);b5=b5.concat(b4)}return this.pushStack(b5,e,b8.selector)}}});function m(e){if(typeof e.getElementsByTagName!=="undefined"){return e.getElementsByTagName("*")}else{if(typeof e.querySelectorAll!=="undefined"){return e.querySelectorAll("*")}else{return[]}}}function bU(e){if(aG.test(e.type)){e.defaultChecked=e.checked}}bI.extend({clone:function(b4,b6,b2){var e,b1,b3,b5;if(bI.support.html5Clone||bI.isXMLDoc(b4)||!M.test("<"+b4.nodeName+">")){b5=b4.cloneNode(true)}else{l.innerHTML=b4.outerHTML;l.removeChild(b5=l.firstChild)}if((!bI.support.noCloneEvent||!bI.support.noCloneChecked)&&(b4.nodeType===1||b4.nodeType===11)&&!bI.isXMLDoc(b4)){H(b4,b5);e=m(b4);b1=m(b5);for(b3=0;e[b3];++b3){if(b1[b3]){H(e[b3],b1[b3])}}}if(b6){aq(b4,b5);if(b2){e=m(b4);b1=m(b5);for(b3=0;e[b3];++b3){aq(e[b3],b1[b3])}}}e=b1=null;return b5},clean:function(cd,b2,e,b3){var ca,b9,cc,ch,b6,cg,b7,b4,b1,cb,cf,b8,b5=b2===o&&aS,ce=[];if(!b2||typeof b2.createDocumentFragment==="undefined"){b2=o}for(ca=0;(cc=cd[ca])!=null;ca++){if(typeof cc==="number"){cc+=""}if(!cc){continue}if(typeof cc==="string"){if(!L.test(cc)){cc=b2.createTextNode(cc)}else{b5=b5||C(b2);b7=b2.createElement("div");b5.appendChild(b7);cc=cc.replace(aA,"<$1></$2>");ch=(p.exec(cc)||["",""])[1].toLowerCase();b6=V[ch]||V._default;cg=b6[0];b7.innerHTML=b6[1]+cc+b6[2];while(cg--){b7=b7.lastChild}if(!bI.support.tbody){b4=bV.test(cc);b1=ch==="table"&&!b4?b7.firstChild&&b7.firstChild.childNodes:b6[1]==="<table>"&&!b4?b7.childNodes:[];for(b9=b1.length-1;b9>=0;--b9){if(bI.nodeName(b1[b9],"tbody")&&!b1[b9].childNodes.length){b1[b9].parentNode.removeChild(b1[b9])}}}if(!bI.support.leadingWhitespace&&b0.test(cc)){b7.insertBefore(b2.createTextNode(b0.exec(cc)[0]),b7.firstChild)}cc=b7.childNodes;b7.parentNode.removeChild(b7)}}if(cc.nodeType){ce.push(cc)}else{bI.merge(ce,cc)}}if(b7){cc=b7=b5=null}if(!bI.support.appendChecked){for(ca=0;(cc=ce[ca])!=null;ca++){if(bI.nodeName(cc,"input")){bU(cc)}else{if(typeof cc.getElementsByTagName!=="undefined"){bI.grep(cc.getElementsByTagName("input"),bU)}}}}if(e){cf=function(ci){if(!ci.type||by.test(ci.type)){return b3?b3.push(ci.parentNode?ci.parentNode.removeChild(ci):ci):e.appendChild(ci)}};for(ca=0;(cc=ce[ca])!=null;ca++){if(!(bI.nodeName(cc,"script")&&cf(cc))){e.appendChild(cc);if(typeof cc.getElementsByTagName!=="undefined"){b8=bI.grep(bI.merge([],cc.getElementsByTagName("script")),cf);ce.splice.apply(ce,[ca+1,0].concat(b8));ca+=b8.length}}}}return ce},cleanData:function(b1,b9){var b4,b2,b3,b8,b5=0,ca=bI.expando,e=bI.cache,b6=bI.support.deleteExpando,b7=bI.event.special;for(;(b3=b1[b5])!=null;b5++){if(b9||bI.acceptData(b3)){b2=b3[ca];b4=b2&&e[b2];if(b4){if(b4.events){for(b8 in b4.events){if(b7[b8]){bI.event.remove(b3,b8)}else{bI.removeEvent(b3,b8,b4.handle)}}}if(e[b2]){delete e[b2];if(b6){delete b3[ca]}else{if(b3.removeAttribute){b3.removeAttribute(ca)}else{b3[ca]=null}}bI.deletedIds.push(b2)}}}}}});(function(){var e,b1;bI.uaMatch=function(b3){b3=b3.toLowerCase();var b2=/(chrome)[ \/]([\w.]+)/.exec(b3)||/(webkit)[ \/]([\w.]+)/.exec(b3)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(b3)||/(msie) ([\w.]+)/.exec(b3)||b3.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(b3)||[];return{browser:b2[1]||"",version:b2[2]||"0"}};e=bI.uaMatch(d.userAgent);b1={};if(e.browser){b1[e.browser]=true;b1.version=e.version}if(b1.chrome){b1.webkit=true}else{if(b1.webkit){b1.safari=true}}bI.browser=b1;bI.sub=function(){function b2(b5,b6){return new b2.fn.init(b5,b6)}bI.extend(true,b2,this);b2.superclass=this;b2.fn=b2.prototype=this();b2.fn.constructor=b2;b2.sub=this.sub;b2.fn.init=function b4(b5,b6){if(b6&&b6 instanceof bI&&!(b6 instanceof b2)){b6=b2(b6)}return bI.fn.init.call(this,b5,b6,b3)};b2.fn.init.prototype=b2.fn;var b3=b2(o);return b2}})();var G,aB,aY,bg=/alpha\([^)]*\)/i,aU=/opacity=([^)]*)/,bm=/^(top|right|bottom|left)$/,I=/^(none|table(?!-c[ea]).+)/,a1=/^margin/,ba=new RegExp("^("+bz+")(.*)$","i"),Y=new RegExp("^("+bz+")(?!px)[a-z%]+$","i"),U=new RegExp("^([-+])=("+bz+")","i"),bj={},bb={position:"absolute",visibility:"hidden",display:"block"},bC={letterSpacing:0,fontWeight:400},bS=["Top","Right","Bottom","Left"],au=["Webkit","O","Moz","ms"],aL=bI.fn.toggle;function b(b3,b1){if(b1 in b3){return b1}var b4=b1.charAt(0).toUpperCase()+b1.slice(1),e=b1,b2=au.length;while(b2--){b1=au[b2]+b4;if(b1 in b3){return b1}}return e}function S(b1,e){b1=e||b1;return bI.css(b1,"display")==="none"||!bI.contains(b1.ownerDocument,b1)}function s(b5,e){var b4,b6,b1=[],b2=0,b3=b5.length;for(;b2<b3;b2++){b4=b5[b2];if(!b4.style){continue}b1[b2]=bI._data(b4,"olddisplay");if(e){if(!b1[b2]&&b4.style.display==="none"){b4.style.display=""}if(b4.style.display===""&&S(b4)){b1[b2]=bI._data(b4,"olddisplay",bE(b4.nodeName))}}else{b6=G(b4,"display");if(!b1[b2]&&b6!=="none"){bI._data(b4,"olddisplay",b6)}}}for(b2=0;b2<b3;b2++){b4=b5[b2];if(!b4.style){continue}if(!e||b4.style.display==="none"||b4.style.display===""){b4.style.display=e?b1[b2]||"":"none"}}return b5}bI.fn.extend({css:function(e,b1){return bI.access(this,function(b3,b2,b4){return b4!==aD?bI.style(b3,b2,b4):bI.css(b3,b2)},e,b1,arguments.length>1)},show:function(){return s(this,true)},hide:function(){return s(this)},toggle:function(b2,b1){var e=typeof b2==="boolean";if(bI.isFunction(b2)&&bI.isFunction(b1)){return aL.apply(this,arguments)}return this.each(function(){if(e?b2:S(this)){bI(this).show()}else{bI(this).hide()}})}});bI.extend({cssHooks:{opacity:{get:function(b2,b1){if(b1){var e=G(b2,"opacity");return e===""?"1":e}}}},cssNumber:{fillOpacity:true,fontWeight:true,lineHeight:true,opacity:true,orphans:true,widows:true,zIndex:true,zoom:true},cssProps:{"float":bI.support.cssFloat?"cssFloat":"styleFloat"},style:function(b3,b2,b9,b4){if(!b3||b3.nodeType===3||b3.nodeType===8||!b3.style){return}var b7,b8,ca,b5=bI.camelCase(b2),b1=b3.style;b2=bI.cssProps[b5]||(bI.cssProps[b5]=b(b1,b5));ca=bI.cssHooks[b2]||bI.cssHooks[b5];if(b9!==aD){b8=typeof b9;if(b8==="string"&&(b7=U.exec(b9))){b9=(b7[1]+1)*b7[2]+parseFloat(bI.css(b3,b2));b8="number"}if(b9==null||b8==="number"&&isNaN(b9)){return}if(b8==="number"&&!bI.cssNumber[b5]){b9+="px"}if(!ca||!("set" in ca)||(b9=ca.set(b3,b9,b4))!==aD){try{b1[b2]=b9}catch(b6){}}}else{if(ca&&"get" in ca&&(b7=ca.get(b3,false,b4))!==aD){return b7}return b1[b2]}},css:function(b6,b4,b5,b1){var b7,b3,e,b2=bI.camelCase(b4);b4=bI.cssProps[b2]||(bI.cssProps[b2]=b(b6.style,b2));e=bI.cssHooks[b4]||bI.cssHooks[b2];if(e&&"get" in e){b7=e.get(b6,true,b1)}if(b7===aD){b7=G(b6,b4)}if(b7==="normal"&&b4 in bC){b7=bC[b4]}if(b5||b1!==aD){b3=parseFloat(b7);return b5||bI.isNumeric(b3)?b3||0:b7}return b7},swap:function(b4,b3,b5){var b2,b1,e={};for(b1 in b3){e[b1]=b4.style[b1];b4.style[b1]=b3[b1]}b2=b5.call(b4);for(b1 in b3){b4.style[b1]=e[b1]}return b2}});if(a4.getComputedStyle){G=function(b7,b1){var e,b4,b3,b6,b5=a4.getComputedStyle(b7,null),b2=b7.style;if(b5){e=b5[b1];if(e===""&&!bI.contains(b7.ownerDocument,b7)){e=bI.style(b7,b1)}if(Y.test(e)&&a1.test(b1)){b4=b2.width;b3=b2.minWidth;b6=b2.maxWidth;b2.minWidth=b2.maxWidth=b2.width=e;e=b5.width;b2.width=b4;b2.minWidth=b3;b2.maxWidth=b6}}return e}}else{if(o.documentElement.currentStyle){G=function(b4,b2){var b5,e,b1=b4.currentStyle&&b4.currentStyle[b2],b3=b4.style;if(b1==null&&b3&&b3[b2]){b1=b3[b2]}if(Y.test(b1)&&!bm.test(b2)){b5=b3.left;e=b4.runtimeStyle&&b4.runtimeStyle.left;if(e){b4.runtimeStyle.left=b4.currentStyle.left}b3.left=b2==="fontSize"?"1em":b1;b1=b3.pixelLeft+"px";b3.left=b5;if(e){b4.runtimeStyle.left=e}}return b1===""?"auto":b1}}}function aI(e,b2,b3){var b1=ba.exec(b2);return b1?Math.max(0,b1[1]-(b3||0))+(b1[2]||"px"):b2}function av(b3,b1,e,b5){var b2=e===(b5?"border":"content")?4:b1==="width"?1:0,b4=0;for(;b2<4;b2+=2){if(e==="margin"){b4+=bI.css(b3,e+bS[b2],true)}if(b5){if(e==="content"){b4-=parseFloat(G(b3,"padding"+bS[b2]))||0}if(e!=="margin"){b4-=parseFloat(G(b3,"border"+bS[b2]+"Width"))||0}}else{b4+=parseFloat(G(b3,"padding"+bS[b2]))||0;if(e!=="padding"){b4+=parseFloat(G(b3,"border"+bS[b2]+"Width"))||0}}}return b4}function u(b3,b1,e){var b4=b1==="width"?b3.offsetWidth:b3.offsetHeight,b2=true,b5=bI.support.boxSizing&&bI.css(b3,"boxSizing")==="border-box";if(b4<=0||b4==null){b4=G(b3,b1);if(b4<0||b4==null){b4=b3.style[b1]}if(Y.test(b4)){return b4}b2=b5&&(bI.support.boxSizingReliable||b4===b3.style[b1]);b4=parseFloat(b4)||0}return(b4+av(b3,b1,e||(b5?"border":"content"),b2))+"px"}function bE(b2){if(bj[b2]){return bj[b2]}var e=bI("<"+b2+">").appendTo(o.body),b1=e.css("display");e.remove();if(b1==="none"||b1===""){aB=o.body.appendChild(aB||bI.extend(o.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!aY||!aB.createElement){aY=(aB.contentWindow||aB.contentDocument).document;aY.write("<!doctype html><html><body>");aY.close()}e=aY.body.appendChild(aY.createElement(b2));b1=G(e,"display");o.body.removeChild(aB)}bj[b2]=b1;return b1}bI.each(["height","width"],function(b1,e){bI.cssHooks[e]={get:function(b4,b3,b2){if(b3){if(b4.offsetWidth===0&&I.test(G(b4,"display"))){return bI.swap(b4,bb,function(){return u(b4,e,b2)})}else{return u(b4,e,b2)}}},set:function(b3,b4,b2){return aI(b3,b4,b2?av(b3,e,b2,bI.support.boxSizing&&bI.css(b3,"boxSizing")==="border-box"):0)}}});if(!bI.support.opacity){bI.cssHooks.opacity={get:function(b1,e){return aU.test((e&&b1.currentStyle?b1.currentStyle.filter:b1.style.filter)||"")?(0.01*parseFloat(RegExp.$1))+"":e?"1":""},set:function(b4,b5){var b3=b4.style,b1=b4.currentStyle,e=bI.isNumeric(b5)?"alpha(opacity="+b5*100+")":"",b2=b1&&b1.filter||b3.filter||"";b3.zoom=1;if(b5>=1&&bI.trim(b2.replace(bg,""))===""&&b3.removeAttribute){b3.removeAttribute("filter");if(b1&&!b1.filter){return}}b3.filter=bg.test(b2)?b2.replace(bg,e):b2+" "+e}}}bI(function(){if(!bI.support.reliableMarginRight){bI.cssHooks.marginRight={get:function(b1,e){return bI.swap(b1,{display:"inline-block"},function(){if(e){return G(b1,"marginRight")}})}}}if(!bI.support.pixelPosition&&bI.fn.position){bI.each(["top","left"],function(e,b1){bI.cssHooks[b1]={get:function(b4,b3){if(b3){var b2=G(b4,b1);return Y.test(b2)?bI(b4).position()[b1]+"px":b2}}}})}});if(bI.expr&&bI.expr.filters){bI.expr.filters.hidden=function(e){return(e.offsetWidth===0&&e.offsetHeight===0)||(!bI.support.reliableHiddenOffsets&&((e.style&&e.style.display)||G(e,"display"))==="none")};bI.expr.filters.visible=function(e){return !bI.expr.filters.hidden(e)}}bI.each({margin:"",padding:"",border:"Width"},function(e,b1){bI.cssHooks[e+b1]={expand:function(b4){var b3,b5=typeof b4==="string"?b4.split(" "):[b4],b2={};for(b3=0;b3<4;b3++){b2[e+bS[b3]+b1]=b5[b3]||b5[b3-2]||b5[0]}return b2}};if(!a1.test(e)){bI.cssHooks[e+b1].set=aI}});var bu=/%20/g,aR=/\[\]$/,W=/\r?\n/g,bB=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,aF=/^(?:select|textarea)/i;bI.fn.extend({serialize:function(){return bI.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?bI.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||aF.test(this.nodeName)||bB.test(this.type))}).map(function(e,b1){var b2=bI(this).val();return b2==null?null:bI.isArray(b2)?bI.map(b2,function(b4,b3){return{name:b1.name,value:b4.replace(W,"\r\n")}}):{name:b1.name,value:b2.replace(W,"\r\n")}}).get()}});bI.param=function(e,b2){var b3,b1=[],b4=function(b5,b6){b6=bI.isFunction(b6)?b6():(b6==null?"":b6);b1[b1.length]=encodeURIComponent(b5)+"="+encodeURIComponent(b6)};if(b2===aD){b2=bI.ajaxSettings&&bI.ajaxSettings.traditional}if(bI.isArray(e)||(e.jquery&&!bI.isPlainObject(e))){bI.each(e,function(){b4(this.name,this.value)})}else{for(b3 in e){k(b3,e[b3],b2,b4)}}return b1.join("&").replace(bu,"+")};function k(b2,b4,b1,b3){var e;if(bI.isArray(b4)){bI.each(b4,function(b6,b5){if(b1||aR.test(b2)){b3(b2,b5)}else{k(b2+"["+(typeof b5==="object"?b6:"")+"]",b5,b1,b3)}})}else{if(!b1&&bI.type(b4)==="object"){for(e in b4){k(b2+"["+e+"]",b4[e],b1,b3)}}else{b3(b2,b4)}}}var bZ,aa,ap=/#.*$/,af=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,D=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,r=/^(?:GET|HEAD)$/,aE=/^\/\//,bP=/\?/,g=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,R=/([?&])_=[^&]*/,aV=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,bY=bI.fn.load,w={},a8={},aZ=["*/"]+["*"];try{aa=aK.href}catch(bf){aa=o.createElement("a");aa.href="";aa=aa.href}bZ=aV.exec(aa.toLowerCase())||[];function bK(e){return function(b4,b6){if(typeof b4!=="string"){b6=b4;b4="*"}var b1,b7,b8,b3=b4.toLowerCase().split(aX),b2=0,b5=b3.length;if(bI.isFunction(b6)){for(;b2<b5;b2++){b1=b3[b2];b8=/^\+/.test(b1);if(b8){b1=b1.substr(1)||"*"}b7=e[b1]=e[b1]||[];b7[b8?"unshift":"push"](b6)}}}}function q(b1,ca,b5,b8,b7,b3){b7=b7||ca.dataTypes[0];b3=b3||{};b3[b7]=true;var b9,b6=b1[b7],b2=0,e=b6?b6.length:0,b4=(b1===w);for(;b2<e&&(b4||!b9);b2++){b9=b6[b2](ca,b5,b8);if(typeof b9==="string"){if(!b4||b3[b9]){b9=aD}else{ca.dataTypes.unshift(b9);b9=q(b1,ca,b5,b8,b9,b3)}}}if((b4||!b9)&&!b3["*"]){b9=q(b1,ca,b5,b8,"*",b3)}return b9}function t(b2,b3){var b1,e,b4=bI.ajaxSettings.flatOptions||{};for(b1 in b3){if(b3[b1]!==aD){(b4[b1]?b2:(e||(e={})))[b1]=b3[b1]}}if(e){bI.extend(true,b2,e)}}bI.fn.load=function(b3,b6,b7){if(typeof b3!=="string"&&bY){return bY.apply(this,arguments)}if(!this.length){return this}var e,b4,b2,b1=this,b5=b3.indexOf(" ");if(b5>=0){e=b3.slice(b5,b3.length);b3=b3.slice(0,b5)}if(bI.isFunction(b6)){b7=b6;b6=aD}else{if(b6&&typeof b6==="object"){b4="POST"}}bI.ajax({url:b3,type:b4,dataType:"html",data:b6,complete:function(b9,b8){if(b7){b1.each(b7,b2||[b9.responseText,b8,b9])}}}).done(function(b8){b2=arguments;b1.html(e?bI("<div>").append(b8.replace(g,"")).find(e):b8)});return this};bI.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,b1){bI.fn[b1]=function(b2){return this.on(b1,b2)}});bI.each(["get","post"],function(e,b1){bI[b1]=function(b2,b4,b5,b3){if(bI.isFunction(b4)){b3=b3||b5;b5=b4;b4=aD}return bI.ajax({type:b1,url:b2,data:b4,success:b5,dataType:b3})}});bI.extend({getScript:function(e,b1){return bI.get(e,aD,b1,"script")},getJSON:function(e,b1,b2){return bI.get(e,b1,b2,"json")},ajaxSetup:function(b1,e){if(e){t(b1,bI.ajaxSettings)}else{e=b1;b1=bI.ajaxSettings}t(b1,e);return b1},ajaxSettings:{url:aa,isLocal:D.test(bZ[1]),global:true,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:true,async:true,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":aZ},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a4.String,"text html":true,"text json":bI.parseJSON,"text xml":bI.parseXML},flatOptions:{context:true,url:true}},ajaxPrefilter:bK(w),ajaxTransport:bK(a8),ajax:function(b6,b3){if(typeof b6==="object"){b3=b6;b6=aD}b3=b3||{};var b9,cn,b4,ci,cb,cf,b2,ch,ca=bI.ajaxSetup({},b3),cp=ca.context||ca,cd=cp!==ca&&(cp.nodeType||cp instanceof bI)?bI(cp):bI.event,co=bI.Deferred(),ck=bI.Callbacks("once memory"),b7=ca.statusCode||{},ce={},cl={},b5=0,b8="canceled",cg={readyState:0,setRequestHeader:function(cq,cr){if(!b5){var e=cq.toLowerCase();cq=cl[e]=cl[e]||cq;ce[cq]=cr}return this},getAllResponseHeaders:function(){return b5===2?cn:null},getResponseHeader:function(cq){var e;if(b5===2){if(!b4){b4={};while((e=af.exec(cn))){b4[e[1].toLowerCase()]=e[2]}}e=b4[cq.toLowerCase()]}return e===aD?null:e},overrideMimeType:function(e){if(!b5){ca.mimeType=e}return this},abort:function(e){e=e||b8;if(ci){ci.abort(e)}cc(0,e);return this}};function cc(cu,cq,cv,cs){var e,cy,cw,ct,cx,cr=cq;if(b5===2){return}b5=2;if(cb){clearTimeout(cb)}ci=aD;cn=cs||"";cg.readyState=cu>0?4:0;if(cv){ct=h(ca,cg,cv)}if(cu>=200&&cu<300||cu===304){if(ca.ifModified){cx=cg.getResponseHeader("Last-Modified");if(cx){bI.lastModified[b9]=cx}cx=cg.getResponseHeader("Etag");if(cx){bI.etag[b9]=cx}}if(cu===304){cr="notmodified";e=true}else{e=ag(ca,ct);cr=e.state;cy=e.data;cw=e.error;e=!cw}}else{cw=cr;if(!cr||cu){cr="error";if(cu<0){cu=0}}}cg.status=cu;cg.statusText=(cq||cr)+"";if(e){co.resolveWith(cp,[cy,cr,cg])}else{co.rejectWith(cp,[cg,cr,cw])}cg.statusCode(b7);b7=aD;if(b2){cd.trigger("ajax"+(e?"Success":"Error"),[cg,ca,e?cy:cw])}ck.fireWith(cp,[cg,cr]);if(b2){cd.trigger("ajaxComplete",[cg,ca]);if(!(--bI.active)){bI.event.trigger("ajaxStop")}}}co.promise(cg);cg.success=cg.done;cg.error=cg.fail;cg.complete=ck.add;cg.statusCode=function(cq){if(cq){var e;if(b5<2){for(e in cq){b7[e]=[b7[e],cq[e]]}}else{e=cq[cg.status];cg.always(e)}}return this};ca.url=((b6||ca.url)+"").replace(ap,"").replace(aE,bZ[1]+"//");ca.dataTypes=bI.trim(ca.dataType||"*").toLowerCase().split(aX);if(ca.crossDomain==null){cf=aV.exec(ca.url.toLowerCase())||false;ca.crossDomain=cf&&(cf.join(":")+(cf[3]?"":cf[1]==="http:"?80:443))!==(bZ.join(":")+(bZ[3]?"":bZ[1]==="http:"?80:443))}if(ca.data&&ca.processData&&typeof ca.data!=="string"){ca.data=bI.param(ca.data,ca.traditional)}q(w,ca,b3,cg);if(b5===2){return cg}b2=ca.global;ca.type=ca.type.toUpperCase();ca.hasContent=!r.test(ca.type);if(b2&&bI.active++===0){bI.event.trigger("ajaxStart")}if(!ca.hasContent){if(ca.data){ca.url+=(bP.test(ca.url)?"&":"?")+ca.data;delete ca.data}b9=ca.url;if(ca.cache===false){var b1=bI.now(),cm=ca.url.replace(R,"$1_="+b1);ca.url=cm+((cm===ca.url)?(bP.test(ca.url)?"&":"?")+"_="+b1:"")}}if(ca.data&&ca.hasContent&&ca.contentType!==false||b3.contentType){cg.setRequestHeader("Content-Type",ca.contentType)}if(ca.ifModified){b9=b9||ca.url;if(bI.lastModified[b9]){cg.setRequestHeader("If-Modified-Since",bI.lastModified[b9])}if(bI.etag[b9]){cg.setRequestHeader("If-None-Match",bI.etag[b9])}}cg.setRequestHeader("Accept",ca.dataTypes[0]&&ca.accepts[ca.dataTypes[0]]?ca.accepts[ca.dataTypes[0]]+(ca.dataTypes[0]!=="*"?", "+aZ+"; q=0.01":""):ca.accepts["*"]);for(ch in ca.headers){cg.setRequestHeader(ch,ca.headers[ch])}if(ca.beforeSend&&(ca.beforeSend.call(cp,cg,ca)===false||b5===2)){return cg.abort()}b8="abort";for(ch in {success:1,error:1,complete:1}){cg[ch](ca[ch])}ci=q(a8,ca,b3,cg);if(!ci){cc(-1,"No Transport")}else{cg.readyState=1;if(b2){cd.trigger("ajaxSend",[cg,ca])}if(ca.async&&ca.timeout>0){cb=setTimeout(function(){cg.abort("timeout")},ca.timeout)}try{b5=1;ci.send(ce,cc)}catch(cj){if(b5<2){cc(-1,cj)}else{throw cj}}}return cg},active:0,lastModified:{},etag:{}});function h(b9,b8,b5){var b4,b6,b3,e,b1=b9.contents,b7=b9.dataTypes,b2=b9.responseFields;for(b6 in b2){if(b6 in b5){b8[b2[b6]]=b5[b6]}}while(b7[0]==="*"){b7.shift();if(b4===aD){b4=b9.mimeType||b8.getResponseHeader("content-type")}}if(b4){for(b6 in b1){if(b1[b6]&&b1[b6].test(b4)){b7.unshift(b6);break}}}if(b7[0] in b5){b3=b7[0]}else{for(b6 in b5){if(!b7[0]||b9.converters[b6+" "+b7[0]]){b3=b6;break}if(!e){e=b6}}b3=b3||e}if(b3){if(b3!==b7[0]){b7.unshift(b3)}return b5[b3]}}function ag(cb,b3){var b9,b1,b7,b5,b8=cb.dataTypes.slice(),b2=b8[0],ca={},b4=0;if(cb.dataFilter){b3=cb.dataFilter(b3,cb.dataType)}if(b8[1]){for(b9 in cb.converters){ca[b9.toLowerCase()]=cb.converters[b9]}}for(;(b7=b8[++b4]);){if(b7!=="*"){if(b2!=="*"&&b2!==b7){b9=ca[b2+" "+b7]||ca["* "+b7];if(!b9){for(b1 in ca){b5=b1.split(" ");if(b5[1]===b7){b9=ca[b2+" "+b5[0]]||ca["* "+b5[0]];if(b9){if(b9===true){b9=ca[b1]}else{if(ca[b1]!==true){b7=b5[0];b8.splice(b4--,0,b7)}}break}}}}if(b9!==true){if(b9&&cb["throws"]){b3=b9(b3)}else{try{b3=b9(b3)}catch(b6){return{state:"parsererror",error:b9?b6:"No conversion from "+b2+" to "+b7}}}}}b2=b7}}return{state:"success",data:b3}}var br=[],ay=/\?/,a7=/(=)\?(?=&|$)|\?\?/,bn=bI.now();bI.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=br.pop()||(bI.expando+"_"+(bn++));this[e]=true;return e}});bI.ajaxPrefilter("json jsonp",function(ca,b5,b9){var b8,e,b7,b3=ca.data,b1=ca.url,b2=ca.jsonp!==false,b6=b2&&a7.test(b1),b4=b2&&!b6&&typeof b3==="string"&&!(ca.contentType||"").indexOf("application/x-www-form-urlencoded")&&a7.test(b3);if(ca.dataTypes[0]==="jsonp"||b6||b4){b8=ca.jsonpCallback=bI.isFunction(ca.jsonpCallback)?ca.jsonpCallback():ca.jsonpCallback;e=a4[b8];if(b6){ca.url=b1.replace(a7,"$1"+b8)}else{if(b4){ca.data=b3.replace(a7,"$1"+b8)}else{if(b2){ca.url+=(ay.test(b1)?"&":"?")+ca.jsonp+"="+b8}}}ca.converters["script json"]=function(){if(!b7){bI.error(b8+" was not called")}return b7[0]};ca.dataTypes[0]="json";a4[b8]=function(){b7=arguments};b9.always(function(){a4[b8]=e;if(ca[b8]){ca.jsonpCallback=b5.jsonpCallback;br.push(b8)}if(b7&&bI.isFunction(e)){e(b7[0])}b7=e=aD});return"script"}});bI.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){bI.globalEval(e);return e}}});bI.ajaxPrefilter("script",function(e){if(e.cache===aD){e.cache=false}if(e.crossDomain){e.type="GET";e.global=false}});bI.ajaxTransport("script",function(b2){if(b2.crossDomain){var e,b1=o.head||o.getElementsByTagName("head")[0]||o.documentElement;return{send:function(b3,b4){e=o.createElement("script");e.async="async";if(b2.scriptCharset){e.charset=b2.scriptCharset}e.src=b2.url;e.onload=e.onreadystatechange=function(b6,b5){if(b5||!e.readyState||/loaded|complete/.test(e.readyState)){e.onload=e.onreadystatechange=null;if(b1&&e.parentNode){b1.removeChild(e)}e=aD;if(!b5){b4(200,"success")}}};b1.insertBefore(e,b1.firstChild)},abort:function(){if(e){e.onload(0,1)}}}}});var aj,aP=a4.ActiveXObject?function(){for(var e in aj){aj[e](0,1)}}:false,aw=0;function bD(){try{return new a4.XMLHttpRequest()}catch(b1){}}function bd(){try{return new a4.ActiveXObject("Microsoft.XMLHTTP")}catch(b1){}}bI.ajaxSettings.xhr=a4.ActiveXObject?function(){return !this.isLocal&&bD()||bd()}:bD;(function(e){bI.extend(bI.support,{ajax:!!e,cors:!!e&&("withCredentials" in e)})})(bI.ajaxSettings.xhr());if(bI.support.ajax){bI.ajaxTransport(function(e){if(!e.crossDomain||bI.support.cors){var b1;return{send:function(b7,b2){var b5,b4,b6=e.xhr();if(e.username){b6.open(e.type,e.url,e.async,e.username,e.password)}else{b6.open(e.type,e.url,e.async)}if(e.xhrFields){for(b4 in e.xhrFields){b6[b4]=e.xhrFields[b4]}}if(e.mimeType&&b6.overrideMimeType){b6.overrideMimeType(e.mimeType)}if(!e.crossDomain&&!b7["X-Requested-With"]){b7["X-Requested-With"]="XMLHttpRequest"}try{for(b4 in b7){b6.setRequestHeader(b4,b7[b4])}}catch(b3){}b6.send((e.hasContent&&e.data)||null);b1=function(cg,ca){var cb,b9,b8,ce,cd;try{if(b1&&(ca||b6.readyState===4)){b1=aD;if(b5){b6.onreadystatechange=bI.noop;if(aP){delete aj[b5]}}if(ca){if(b6.readyState!==4){b6.abort()}}else{cb=b6.status;b8=b6.getAllResponseHeaders();ce={};cd=b6.responseXML;if(cd&&cd.documentElement){ce.xml=cd}try{ce.text=b6.responseText}catch(cg){}try{b9=b6.statusText}catch(cf){b9=""}if(!cb&&e.isLocal&&!e.crossDomain){cb=ce.text?200:404}else{if(cb===1223){cb=204}}}}}catch(cc){if(!ca){b2(-1,cc)}}if(ce){b2(cb,b9,ce,b8)}};if(!e.async){b1()}else{if(b6.readyState===4){setTimeout(b1,0)}else{b5=++aw;if(aP){if(!aj){aj={};bI(a4).unload(aP)}aj[b5]=b1}b6.onreadystatechange=b1}}},abort:function(){if(b1){b1(0,1)}}}}})}var N,ad,bQ=/^(?:toggle|show|hide)$/,bJ=new RegExp("^(?:([-+])=|)("+bz+")([a-z%]*)$","i"),bO=/queueHooks$/,az=[i],a3={"*":[function(e,b7){var b3,b8,b9=this.createTween(e,b7),b4=bJ.exec(b7),b5=b9.cur(),b1=+b5||0,b2=1,b6=20;if(b4){b3=+b4[2];b8=b4[3]||(bI.cssNumber[e]?"":"px");if(b8!=="px"&&b1){b1=bI.css(b9.elem,e,true)||b3||1;do{b2=b2||".5";b1=b1/b2;bI.style(b9.elem,e,b1+b8)}while(b2!==(b2=b9.cur()/b5)&&b2!==1&&--b6)}b9.unit=b8;b9.start=b1;b9.end=b4[1]?b1+(b4[1]+1)*b3:b3}return b9}]};function bl(){setTimeout(function(){N=aD},0);return(N=bI.now())}function be(b1,e){bI.each(e,function(b6,b4){var b5=(a3[b6]||[]).concat(a3["*"]),b2=0,b3=b5.length;for(;b2<b3;b2++){if(b5[b2].call(b1,b6,b4)){return}}})}function f(b2,b6,b9){var ca,b5=0,e=0,b1=az.length,b8=bI.Deferred().always(function(){delete b4.elem}),b4=function(){var cf=N||bl(),cc=Math.max(0,b3.startTime+b3.duration-cf),ce=1-(cc/b3.duration||0),cb=0,cd=b3.tweens.length;for(;cb<cd;cb++){b3.tweens[cb].run(ce)}b8.notifyWith(b2,[b3,ce,cc]);if(ce<1&&cd){return cc}else{b8.resolveWith(b2,[b3]);return false}},b3=b8.promise({elem:b2,props:bI.extend({},b6),opts:bI.extend(true,{specialEasing:{}},b9),originalProperties:b6,originalOptions:b9,startTime:N||bl(),duration:b9.duration,tweens:[],createTween:function(ce,cb,cd){var cc=bI.Tween(b2,b3.opts,ce,cb,b3.opts.specialEasing[ce]||b3.opts.easing);b3.tweens.push(cc);return cc},stop:function(cc){var cb=0,cd=cc?b3.tweens.length:0;for(;cb<cd;cb++){b3.tweens[cb].run(1)}if(cc){b8.resolveWith(b2,[b3,cc])}else{b8.rejectWith(b2,[b3,cc])}return this}}),b7=b3.props;am(b7,b3.opts.specialEasing);for(;b5<b1;b5++){ca=az[b5].call(b3,b2,b7,b3.opts);if(ca){return ca}}be(b3,b7);if(bI.isFunction(b3.opts.start)){b3.opts.start.call(b2,b3)}bI.fx.timer(bI.extend(b4,{anim:b3,queue:b3.opts.queue,elem:b2}));return b3.progress(b3.opts.progress).done(b3.opts.done,b3.opts.complete).fail(b3.opts.fail).always(b3.opts.always)}function am(b3,b5){var b2,b1,b6,b4,e;for(b2 in b3){b1=bI.camelCase(b2);b6=b5[b1];b4=b3[b2];if(bI.isArray(b4)){b6=b4[1];b4=b3[b2]=b4[0]}if(b2!==b1){b3[b1]=b4;delete b3[b2]}e=bI.cssHooks[b1];if(e&&"expand" in e){b4=e.expand(b4);delete b3[b1];for(b2 in b4){if(!(b2 in b3)){b3[b2]=b4[b2];b5[b2]=b6}}}else{b5[b1]=b6}}}bI.Animation=bI.extend(f,{tweener:function(b1,b4){if(bI.isFunction(b1)){b4=b1;b1=["*"]}else{b1=b1.split(" ")}var b3,e=0,b2=b1.length;for(;e<b2;e++){b3=b1[e];a3[b3]=a3[b3]||[];a3[b3].unshift(b4)}},prefilter:function(b1,e){if(e){az.unshift(b1)}else{az.push(b1)}}});function i(b4,b9,e){var b8,b2,cb,b3,cf,ce,cd,cc,b5=this,b1=b4.style,ca={},b7=[],b6=b4.nodeType&&S(b4);if(!e.queue){cd=bI._queueHooks(b4,"fx");if(cd.unqueued==null){cd.unqueued=0;cc=cd.empty.fire;cd.empty.fire=function(){if(!cd.unqueued){cc()}}}cd.unqueued++;b5.always(function(){b5.always(function(){cd.unqueued--;if(!bI.queue(b4,"fx").length){cd.empty.fire()}})})}if(b4.nodeType===1&&("height" in b9||"width" in b9)){e.overflow=[b1.overflow,b1.overflowX,b1.overflowY];if(bI.css(b4,"display")==="inline"&&bI.css(b4,"float")==="none"){if(!bI.support.inlineBlockNeedsLayout||bE(b4.nodeName)==="inline"){b1.display="inline-block"}else{b1.zoom=1}}}if(e.overflow){b1.overflow="hidden";if(!bI.support.shrinkWrapBlocks){b5.done(function(){b1.overflow=e.overflow[0];b1.overflowX=e.overflow[1];b1.overflowY=e.overflow[2]})}}for(b8 in b9){cb=b9[b8];if(bQ.exec(cb)){delete b9[b8];if(cb===(b6?"hide":"show")){continue}b7.push(b8)}}b3=b7.length;if(b3){cf=bI._data(b4,"fxshow")||bI._data(b4,"fxshow",{});if(b6){bI(b4).show()}else{b5.done(function(){bI(b4).hide()})}b5.done(function(){var cg;bI.removeData(b4,"fxshow",true);for(cg in ca){bI.style(b4,cg,ca[cg])}});for(b8=0;b8<b3;b8++){b2=b7[b8];ce=b5.createTween(b2,b6?cf[b2]:0);ca[b2]=cf[b2]||bI.style(b4,b2);if(!(b2 in cf)){cf[b2]=ce.start;if(b6){ce.end=ce.start;ce.start=b2==="width"||b2==="height"?1:0}}}}}function J(b2,b1,b4,e,b3){return new J.prototype.init(b2,b1,b4,e,b3)}bI.Tween=J;J.prototype={constructor:J,init:function(b3,b1,b5,e,b4,b2){this.elem=b3;this.prop=b5;this.easing=b4||"swing";this.options=b1;this.start=this.now=this.cur();this.end=e;this.unit=b2||(bI.cssNumber[b5]?"":"px")},cur:function(){var e=J.propHooks[this.prop];return e&&e.get?e.get(this):J.propHooks._default.get(this)},run:function(b2){var b1,e=J.propHooks[this.prop];if(this.options.duration){this.pos=b1=bI.easing[this.easing](b2,this.options.duration*b2,0,1,this.options.duration)}else{this.pos=b1=b2}this.now=(this.end-this.start)*b1+this.start;if(this.options.step){this.options.step.call(this.elem,this.now,this)}if(e&&e.set){e.set(this)}else{J.propHooks._default.set(this)}return this}};J.prototype.init.prototype=J.prototype;J.propHooks={_default:{get:function(b1){var e;if(b1.elem[b1.prop]!=null&&(!b1.elem.style||b1.elem.style[b1.prop]==null)){return b1.elem[b1.prop]}e=bI.css(b1.elem,b1.prop,false,"");return !e||e==="auto"?0:e},set:function(e){if(bI.fx.step[e.prop]){bI.fx.step[e.prop](e)}else{if(e.elem.style&&(e.elem.style[bI.cssProps[e.prop]]!=null||bI.cssHooks[e.prop])){bI.style(e.elem,e.prop,e.now+e.unit)}else{e.elem[e.prop]=e.now}}}}};J.propHooks.scrollTop=J.propHooks.scrollLeft={set:function(e){if(e.elem.nodeType&&e.elem.parentNode){e.elem[e.prop]=e.now}}};bI.each(["toggle","show","hide"],function(b1,e){var b2=bI.fn[e];bI.fn[e]=function(b3,b5,b4){return b3==null||typeof b3==="boolean"||(!b1&&bI.isFunction(b3)&&bI.isFunction(b5))?b2.apply(this,arguments):this.animate(bH(e,true),b3,b5,b4)}});bI.fn.extend({fadeTo:function(e,b3,b2,b1){return this.filter(S).css("opacity",0).show().end().animate({opacity:b3},e,b2,b1)},animate:function(b6,b3,b5,b4){var b2=bI.isEmptyObject(b6),e=bI.speed(b3,b5,b4),b1=function(){var b7=f(this,bI.extend({},b6),e);if(b2){b7.stop(true)}};return b2||e.queue===false?this.each(b1):this.queue(e.queue,b1)},stop:function(b2,b1,e){var b3=function(b4){var b5=b4.stop;delete b4.stop;b5(e)};if(typeof b2!=="string"){e=b1;b1=b2;b2=aD}if(b1&&b2!==false){this.queue(b2||"fx",[])}return this.each(function(){var b7=true,b4=b2!=null&&b2+"queueHooks",b6=bI.timers,b5=bI._data(this);if(b4){if(b5[b4]&&b5[b4].stop){b3(b5[b4])}}else{for(b4 in b5){if(b5[b4]&&b5[b4].stop&&bO.test(b4)){b3(b5[b4])}}}for(b4=b6.length;b4--;){if(b6[b4].elem===this&&(b2==null||b6[b4].queue===b2)){b6[b4].anim.stop(e);b7=false;b6.splice(b4,1)}}if(b7||!e){bI.dequeue(this,b2)}})}});function bH(b2,b4){var b3,e={height:b2},b1=0;b4=b4?1:0;for(;b1<4;b1+=2-b4){b3=bS[b1];e["margin"+b3]=e["padding"+b3]=b2}if(b4){e.opacity=e.width=b2}return e}bI.each({slideDown:bH("show"),slideUp:bH("hide"),slideToggle:bH("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,b1){bI.fn[e]=function(b2,b4,b3){return this.animate(b1,b2,b4,b3)}});bI.speed=function(b2,b3,b1){var e=b2&&typeof b2==="object"?bI.extend({},b2):{complete:b1||!b1&&b3||bI.isFunction(b2)&&b2,duration:b2,easing:b1&&b3||b3&&!bI.isFunction(b3)&&b3};e.duration=bI.fx.off?0:typeof e.duration==="number"?e.duration:e.duration in bI.fx.speeds?bI.fx.speeds[e.duration]:bI.fx.speeds._default;if(e.queue==null||e.queue===true){e.queue="fx"}e.old=e.complete;e.complete=function(){if(bI.isFunction(e.old)){e.old.call(this)}if(e.queue){bI.dequeue(this,e.queue)}};return e};bI.easing={linear:function(e){return e},swing:function(e){return 0.5-Math.cos(e*Math.PI)/2}};bI.timers=[];bI.fx=J.prototype.init;bI.fx.tick=function(){var b2,b1=bI.timers,e=0;for(;e<b1.length;e++){b2=b1[e];if(!b2()&&b1[e]===b2){b1.splice(e--,1)}}if(!b1.length){bI.fx.stop()}};bI.fx.timer=function(e){if(e()&&bI.timers.push(e)&&!ad){ad=setInterval(bI.fx.tick,bI.fx.interval)}};bI.fx.interval=13;bI.fx.stop=function(){clearInterval(ad);ad=null};bI.fx.speeds={slow:600,fast:200,_default:400};bI.fx.step={};if(bI.expr&&bI.expr.filters){bI.expr.filters.animated=function(e){return bI.grep(bI.timers,function(b1){return e===b1.elem}).length}}var bo=/^(?:body|html)$/i;bI.fn.offset=function(ca){if(arguments.length){return ca===aD?this:this.each(function(cb){bI.offset.setOffset(this,ca,cb)})}var b1,b6,b7,b4,b8,e,b3,b5={top:0,left:0},b2=this[0],b9=b2&&b2.ownerDocument;if(!b9){return}if((b6=b9.body)===b2){return bI.offset.bodyOffset(b2)}b1=b9.documentElement;if(!bI.contains(b1,b2)){return b5}if(typeof b2.getBoundingClientRect!=="undefined"){b5=b2.getBoundingClientRect()}b7=bp(b9);b4=b1.clientTop||b6.clientTop||0;b8=b1.clientLeft||b6.clientLeft||0;e=b7.pageYOffset||b1.scrollTop;b3=b7.pageXOffset||b1.scrollLeft;return{top:b5.top+e-b4,left:b5.left+b3-b8}};bI.offset={bodyOffset:function(e){var b2=e.offsetTop,b1=e.offsetLeft;if(bI.support.doesNotIncludeMarginInBodyOffset){b2+=parseFloat(bI.css(e,"marginTop"))||0;b1+=parseFloat(bI.css(e,"marginLeft"))||0}return{top:b2,left:b1}},setOffset:function(b3,cc,b6){var b7=bI.css(b3,"position");if(b7==="static"){b3.style.position="relative"}var b5=bI(b3),b1=b5.offset(),e=bI.css(b3,"top"),ca=bI.css(b3,"left"),cb=(b7==="absolute"||b7==="fixed")&&bI.inArray("auto",[e,ca])>-1,b9={},b8={},b2,b4;if(cb){b8=b5.position();b2=b8.top;b4=b8.left}else{b2=parseFloat(e)||0;b4=parseFloat(ca)||0}if(bI.isFunction(cc)){cc=cc.call(b3,b6,b1)}if(cc.top!=null){b9.top=(cc.top-b1.top)+b2}if(cc.left!=null){b9.left=(cc.left-b1.left)+b4}if("using" in cc){cc.using.call(b3,b9)}else{b5.css(b9)}}};bI.fn.extend({position:function(){if(!this[0]){return}var b2=this[0],b1=this.offsetParent(),b3=this.offset(),e=bo.test(b1[0].nodeName)?{top:0,left:0}:b1.offset();b3.top-=parseFloat(bI.css(b2,"marginTop"))||0;b3.left-=parseFloat(bI.css(b2,"marginLeft"))||0;e.top+=parseFloat(bI.css(b1[0],"borderTopWidth"))||0;e.left+=parseFloat(bI.css(b1[0],"borderLeftWidth"))||0;return{top:b3.top-e.top,left:b3.left-e.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||o.body;while(e&&(!bo.test(e.nodeName)&&bI.css(e,"position")==="static")){e=e.offsetParent}return e||o.body})}});bI.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b2,b1){var e=/Y/.test(b1);bI.fn[b2]=function(b3){return bI.access(this,function(b4,b7,b6){var b5=bp(b4);if(b6===aD){return b5?(b1 in b5)?b5[b1]:b5.document.documentElement[b7]:b4[b7]}if(b5){b5.scrollTo(!e?b6:bI(b5).scrollLeft(),e?b6:bI(b5).scrollTop())}else{b4[b7]=b6}},b2,b3,arguments.length,null)}});function bp(e){return bI.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:false}bI.each({Height:"height",Width:"width"},function(e,b1){bI.each({padding:"inner"+e,content:b1,"":"outer"+e},function(b2,b3){bI.fn[b3]=function(b7,b6){var b5=arguments.length&&(b2||typeof b7!=="boolean"),b4=b2||(b7===true||b6===true?"margin":"border");return bI.access(this,function(b9,b8,ca){var cb;if(bI.isWindow(b9)){return b9.document.documentElement["client"+e]}if(b9.nodeType===9){cb=b9.documentElement;return Math.max(b9.body["scroll"+e],cb["scroll"+e],b9.body["offset"+e],cb["offset"+e],cb["client"+e])}return ca===aD?bI.css(b9,b8,ca,b4):bI.style(b9,b8,ca,b4)},b1,b5?b7:aD,b5,null)}})});a4.jQuery=a4.$=bI;if(typeof define==="function"&&define.amd&&define.amd.jQuery){define("jquery",[],function(){return bI})}})(window);jQuery.extend({isFullscreen:function(){return document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen},cancelFullscreen:function(){var a=document.exitFullscreen||document.mozCancelFullScreen||document.webkitCancelFullScreen;if(a){a.call(document);return true}else{return false}},fullscreen:function(){var a=document.documentElement,b=a.requestFullscreen||a.mozRequestFullScreen||a.webkitRequestFullScreen;if(b){b.call(a,Element&&Element.ALLOW_KEYBOARD_INPUT);return true}return false},toggleFullscreen:function(){return this.isFullscreen()?this.cancelFullscreen():this.fullscreen()}});jQuery.extend({upperCaseFirst:function(a){return a.charAt(0).toUpperCase()+a.substring(1)}});jQuery.extend({move:function(c,b,a){c.splice(a,0,c.splice(b,1)[0]);return c}});(function(a){a.extend({cookie:function(c,k,n){if(typeof k!="undefined"){n=n||{};if(k===null){k="";n.expires=-1}var f="";if(n.expires&&(typeof n.expires=="number"||n.expires.toUTCString)){var g;if(typeof n.expires=="number"){g=new Date();g.setTime(g.getTime()+(n.expires*24*60*60*1000))}else{g=n.expires}f="; expires="+g.toUTCString()}var m=n.path?"; path="+(n.path):"";var h=n.domain?"; domain="+(n.domain):"";var b=n.secure?"; secure":"";document.cookie=[c,"=",encodeURIComponent(k),f,m,h,b].join("")}else{var e=null;if(document.cookie&&document.cookie!=""){var l=document.cookie.split(";");for(var j=0;j<l.length;j++){var d=jQuery.trim(l[j]);if(d.substring(0,c.length+1)==(c+"=")){e=decodeURIComponent(d.substring(c.length+1));break}}}return e}}})})(jQuery);(function(a){a.extend({responseParser:function(c,d,b){switch(c.status){case 0:d&&d(c.data,c);break;case 1:b&&b(c.statusInfo,c);break;case 2:pandora.tipBox.show((c.statusInfo&&c.statusInfo.global)||"",2);b&&b(c.statusInfo,c);break;case 126:pandora.tipBox.show("",1);break;case 127:pandora.tipBox.show("",1);pandora.loginBox.open();break;default:break}}})})(jQuery);(function(a){a.extend({centerImage:function(b,f,j,d){j=j||80;d=d||60;if(b<j&&f<d){return{w:b,h:f,wp:((j-b)/2),hp:((d-f)/2)}}var c=Math.floor(d*b/f),g=Math.floor(j*f/b),e=0,i=0;c<j?(g=d):(c=j);c<j?(i=(j-c)/2):(i=0);g<d?(e=(d-g)/2):(e=0);return{w:c,h:g,wp:i,hp:e}},imageScaleAsync:function(i,g,e,b){var d=new Image(),c,f;d.onload=function(){c=d.width>g?g:d.width;f=c*d.height/d.width;if(f>e){f=e;c=f*d.height/d.width}b(i,c,f)};d.src=i},imageScale:function(f,b,g,d){var c=f>g?g:f,e=c*b/f;if(e>d){e=d;c=e*b/f}return{width:c,height:e}}})})(jQuery);(function(a){a.extend({encodeHTML:function(b){return"string"===typeof b?b.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"').replace(/'/g,"'"):b},swfVersion:(function(){var j=navigator;if(j.plugins&&j.mimeTypes.length){var f=j.plugins["Shockwave Flash"];if(f&&f.description){return f.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s)+r/,".")+".0"}}else{if(window.ActiveXObject&&!window.opera){for(var d=12;d>=2;d--){try{var h=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+d);if(h){var b=h.GetVariable("$version");return b.replace(/WIN/g,"").replace(/,/g,".")}}catch(g){}}}}})(),createSwfHTML:function(t){t=t||{};var l=a.swfVersion,h=t.ver||"6.0.0",g,e,f,d,j,s,b={},p=a.encodeHTML;for(d in t){b[d]=t[d]}t=b;if(l){l=l.split(".");h=h.split(".");for(f=0;f<3;f++){g=parseInt(l[f],10);e=parseInt(h[f],10);if(e<g){break}else{if(e>g){return""}}}}else{return""}var n=t.vars,m=["classid","codebase","id","width","height","align"];t.align=t.align||"middle";t.classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000";t.codebase="http://fpdownload.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,0,0";t.movie=t.url||"";delete t.vars;delete t.url;if("string"==typeof n){t.flashvars=n}else{var q=[];for(d in n){s=n[d];q.push(d+"="+encodeURIComponent(s))}t.flashvars=q.join("&")}var o=["<object "];for(f=0,j=m.length;f<j;f++){s=m[f];o.push(" ",s,'="',p(t[s]),'"')}o.push(">");var c={wmode:1,scale:1,quality:1,play:1,loop:1,menu:1,salign:1,bgcolor:1,base:1,allowscriptaccess:1,allownetworking:1,allowfullscreen:1,seamlesstabbing:1,devicefont:1,swliveconnect:1,flashvars:1,movie:1};for(d in t){s=t[d];d=d.toLowerCase();if(c[d]&&(s||s===false||s===0)){o.push('<param name="'+d+'" value="'+p(s)+'" />')}}t.src=t.movie;t.name=t.id;delete t.id;delete t.movie;delete t.classid;delete t.codebase;t.type="application/x-shockwave-flash";t.pluginspage="http://www.macromedia.com/go/getflashplayer";o.push("<embed");var r;for(d in t){s=t[d];if(s||s===false||s===0){if((new RegExp("^salign\x24","i")).test(d)){r=s;continue}o.push(" ",d,'="',p(s),'"')}}if(r){o.push(' salign="',p(r),'"')}o.push("></embed></object>");return o.join("")}});a.swf={};a.extend(a.swf,{getMovie:function(d){var b=document[d];if(a.browser.msie&&parseInt(a.browser.version.split(".")[0],10)==9){if(b&&b.length){var c=[];a.each(a.toArray(b),function(e,f){if(f.tagName.toLowerCase()=="embed"){c.push(f)}});b=c[0]}}return b||window[d]}})})(jQuery);(function(a){a.extend({getPar:function(c){var d=window.location.search.substring(1).split("&"),e,b=0;while(e=d[b++]){e=e.split("=");if(e[0]===c){return e[1]}}return null}})})(jQuery);(function(a){a.json={};a.extend(a.json,{parse:a.parseJSON,stringify:(function(){var c={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function b(g){if(/["\\\x00-\x1f]/.test(g)){g=g.replace(/["\\\x00-\x1f]/g,function(h){var i=c[h];if(i){return i}i=h.charCodeAt();return"\\u00"+Math.floor(i/16).toString(16)+(i%16).toString(16)})}return'"'+g+'"'}function e(n){var h=["["],j=n.length,g,k,m;for(k=0;k<j;k++){m=n[k];switch(typeof m){case"undefined":case"function":case"unknown":break;default:if(g){h.push(",")}h.push(a.json.stringify(m));g=1}}h.push("]");return h.join("")}function d(g){return g<10?"0"+g:g}function f(g){return'"'+g.getFullYear()+"-"+d(g.getMonth()+1)+"-"+d(g.getDate())+"T"+d(g.getHours())+":"+d(g.getMinutes())+":"+d(g.getSeconds())+'"'}return("undefined"!==typeof JSON&&JSON.stringify)||function(l){switch(typeof l){case"undefined":return"undefined";case"number":return isFinite(l)?String(l):"null";case"string":return b(l);case"boolean":return String(l);default:if(l===null){return"null"}else{if(a.isArray(l)){return e(l)}else{var h=["{"],k=a.json.stringify,g,j;for(var i in l){if(Object.prototype.hasOwnProperty.call(l,i)){j=l[i];switch(typeof j){case"undefined":case"unknown":case"function":break;default:if(g){h.push(",")}g=1;h.push(k(i)+":"+k(j))}}}h.push("}");return h.join("")}}}}})()})})(jQuery);(function(a){a.fn.insertAtCaret=function(b){return this.each(function(){if(document.selection){this.focus();document.selection.createRange().text=b;this.focus()}else{if(this.selectionStart||this.selectionStart=="0"){var d=this.selectionStart,c=this.selectionEnd,e=this.scrollTop;this.value=this.value.substring(0,d)+b+this.value.substring(c,this.value.length);this.focus();this.selectionStart=d+b.length;this.selectionEnd=d+b.length;this.scrollTop=e}else{this.value+=b;this.focus()}}})}})(jQuery);(function(a){a.fn.rotate=function(i,d){var h=this.get(0);if(!d){h.angle=((h.angle==undefined?0:h.angle)+i)%360}else{h.angle=i}if(h.angle>=0){var f=Math.PI*h.angle/180}else{var f=Math.PI*(360+h.angle)/180}var b=Math.round(Math.cos(f)*1000)/1000;var g=Math.round(Math.sin(f)*1000)/1000;if(document.all&&!window.opera){var c=document.createElement("img");c.src=h.src;c.height=h.height;c.width=h.width;c.style.filter="progid:DXImageTransform.Microsoft.Matrix(M11="+b+",M12="+(-g)+",M21="+g+",M22="+b+",SizingMethod='auto expand')"}else{var c=document.createElement("canvas");if(!h.oImage){c.oImage=new Image();c.oImage.src=h.src}else{c.oImage=h.oImage}c.style.width=c.width=Math.abs(b*c.oImage.width)+Math.abs(g*c.oImage.height);c.style.height=c.height=Math.abs(b*c.oImage.height)+Math.abs(g*c.oImage.width);var e=c.getContext("2d");e.save();if(f<=Math.PI/2){e.translate(g*c.oImage.height,0)}else{if(f<=Math.PI){e.translate(c.width,-b*c.oImage.height)}else{if(f<=1.5*Math.PI){e.translate(-b*c.oImage.width,c.height)}else{e.translate(0,-g*c.oImage.width)}}}e.rotate(f);e.drawImage(c.oImage,0,0,c.oImage.width,c.oImage.height);e.restore()}c.id=h.id;c.angle=h.angle;h.parentNode.replaceChild(c,h)};a.fn.rotateRight=function(b){this.rotate(b==undefined?90:b)};a.fn.rotateLeft=function(b){this.rotate(b==undefined?-90:-b)}})(jQuery);(function(b,f){var a=0,e=/^ui-id-\d+$/;b.ui=b.ui||{};if(b.ui.version){return}b.extend(b.ui,{version:"@VERSION",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});b.fn.extend({_focus:b.fn.focus,focus:function(g,h){return typeof g==="number"?this.each(function(){var i=this;setTimeout(function(){b(i).focus();if(h){h.call(i)}},g)}):this._focus.apply(this,arguments)},scrollParent:function(){var g;if((b.ui.ie&&(/(static|relative)/).test(this.css("position")))||(/absolute/).test(this.css("position"))){g=this.parents().filter(function(){return(/(relative|absolute|fixed)/).test(b.css(this,"position"))&&(/(auto|scroll)/).test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0)}else{g=this.parents().filter(function(){return(/(auto|scroll)/).test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0)}return(/fixed/).test(this.css("position"))||!g.length?b(document):g},zIndex:function(j){if(j!==f){return this.css("zIndex",j)}if(this.length){var h=b(this[0]),g,i;while(h.length&&h[0]!==document){g=h.css("position");if(g==="absolute"||g==="relative"||g==="fixed"){i=parseInt(h.css("zIndex"),10);if(!isNaN(i)&&i!==0){return i}}h=h.parent()}}return 0},uniqueId:function(){return this.each(function(){if(!this.id){this.id="ui-id-"+(++a)}})},removeUniqueId:function(){return this.each(function(){if(e.test(this.id)){b(this).removeAttr("id")}})}});function d(i,g){var k,j,h,l=i.nodeName.toLowerCase();if("area"===l){k=i.parentNode;j=k.name;if(!i.href||!j||k.nodeName.toLowerCase()!=="map"){return false}h=b("img[usemap=#"+j+"]")[0];return !!h&&c(h)}return(/input|select|textarea|button|object/.test(l)?!i.disabled:"a"===l?i.href||g:g)&&c(i)}function c(g){return b.expr.filters.visible(g)&&!b(g).parents().andSelf().filter(function(){return b.css(this,"visibility")==="hidden"}).length}b.extend(b.expr[":"],{data:b.expr.createPseudo?b.expr.createPseudo(function(g){return function(h){return !!b.data(h,g)}}):function(j,h,g){return !!b.data(j,g[3])},focusable:function(g){return d(g,!isNaN(b.attr(g,"tabindex")))},tabbable:function(i){var g=b.attr(i,"tabindex"),h=isNaN(g);return(h||g>=0)&&d(i,!h)}});b.support.selectstart="onselectstart" in document.createElement("div");if(!b("<a>").outerWidth(1).jquery){b.each(["Width","Height"],function(j,g){var h=g==="Width"?["Left","Right"]:["Top","Bottom"],k=g.toLowerCase(),m={innerWidth:b.fn.innerWidth,innerHeight:b.fn.innerHeight,outerWidth:b.fn.outerWidth,outerHeight:b.fn.outerHeight};function l(o,n,i,p){b.each(h,function(){n-=parseFloat(b.css(o,"padding"+this))||0;if(i){n-=parseFloat(b.css(o,"border"+this+"Width"))||0}if(p){n-=parseFloat(b.css(o,"margin"+this))||0}});return n}b.fn["inner"+g]=function(i){if(i===f){return m["inner"+g].call(this)}return this.each(function(){b(this).css(k,l(this,i)+"px")})};b.fn["outer"+g]=function(i,n){if(typeof i!=="number"){return m["outer"+g].call(this,i)}return this.each(function(){b(this).css(k,l(this,i,true,n)+"px")})}})}if(b("<a>").data("a-b","a").removeData("a-b").data("a-b")){b.fn.removeData=(function(g){return function(h){if(arguments.length){return g.call(this,b.camelCase(h))}else{return g.call(this)}}})(b.fn.removeData)}b.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());b.fn.extend({disableSelection:function(){return this.bind((b.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(g){g.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}});b.extend(b.ui,{plugin:{add:function(h,j,l){var g,k=b.ui[h].prototype;for(g in l){k.plugins[g]=k.plugins[g]||[];k.plugins[g].push([j,l[g]])}},call:function(g,j,h){var k,l=g.plugins[j];if(!l||!g.element[0].parentNode||g.element[0].parentNode.nodeType===11){return}for(k=0;k<l.length;k++){if(g.options[l[k][0]]){l[k][1].apply(g.element,h)}}}},contains:b.contains,hasScroll:function(j,h){if(b(j).css("overflow")==="hidden"){return false}var g=(h&&h==="left")?"scrollLeft":"scrollTop",i=false;if(j[g]>0){return true}j[g]=1;i=(j[g]>0);j[g]=0;return i},isOverAxis:function(h,g,i){return(h>g)&&(h<(g+i))},isOver:function(l,h,k,j,g,i){return b.ui.isOverAxis(l,k,g)&&b.ui.isOverAxis(h,j,i)}})})(jQuery);(function(b,e){var a=0,d=Array.prototype.slice,c=b.cleanData;b.cleanData=function(f){for(var g=0,h;(h=f[g])!=null;g++){try{b(h).triggerHandler("remove")}catch(j){}}c(f)};b.widget=function(g,j,f){var m,l,i,k,h=g.split(".")[0];g=g.split(".")[1];m=h+"-"+g;if(!f){f=j;j=b.Widget}b.expr[":"][m.toLowerCase()]=function(n){return !!b.data(n,m)};b[h]=b[h]||{};l=b[h][g];i=b[h][g]=function(n,o){if(!this._createWidget){return new i(n,o)}if(arguments.length){this._createWidget(n,o)}};b.extend(i,l,{version:f.version,_proto:b.extend({},f),_childConstructors:[]});k=new j();k.options=b.widget.extend({},k.options);b.each(f,function(o,n){if(b.isFunction(n)){f[o]=(function(){var p=function(){return j.prototype[o].apply(this,arguments)},q=function(r){return j.prototype[o].apply(this,r)};return function(){var t=this._super,r=this._superApply,s;this._super=p;this._superApply=q;s=n.apply(this,arguments);this._super=t;this._superApply=r;return s}})()}});i.prototype=b.widget.extend(k,{widgetEventPrefix:l?k.widgetEventPrefix:g},f,{constructor:i,namespace:h,widgetName:g,widgetFullName:m});if(l){b.each(l._childConstructors,function(o,p){var n=p.prototype;b.widget(n.namespace+"."+n.widgetName,i,p._proto)});delete l._childConstructors}else{j._childConstructors.push(i)}b.widget.bridge(g,i)};b.widget.extend=function(k){var g=d.call(arguments,1),j=0,f=g.length,h,i;for(;j<f;j++){for(h in g[j]){i=g[j][h];if(g[j].hasOwnProperty(h)&&i!==e){if(b.isPlainObject(i)){k[h]=b.isPlainObject(k[h])?b.widget.extend({},k[h],i):b.widget.extend({},i)}else{k[h]=i}}}}return k};b.widget.bridge=function(g,f){var h=f.prototype.widgetFullName||g;b.fn[g]=function(k){var i=typeof k==="string",j=d.call(arguments,1),l=this;k=!i&&j.length?b.widget.extend.apply(null,[k].concat(j)):k;if(i){this.each(function(){var n,m=b.data(this,h);if(!m){return b.error("cannot call methods on "+g+" prior to initialization; attempted to call method '"+k+"'")}if(!b.isFunction(m[k])||k.charAt(0)==="_"){return b.error("no such method '"+k+"' for "+g+" widget instance")}n=m[k].apply(m,j);if(n!==m&&n!==e){l=n&&n.jquery?l.pushStack(n.get()):n;return false}})}else{this.each(function(){var m=b.data(this,h);if(m){m.option(k||{})._init()}else{b.data(this,h,new f(k,this))}})}return l}};b.Widget=function(){};b.Widget._childConstructors=[];b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:false,create:null},_createWidget:function(f,g){g=b(g||this.defaultElement||this)[0];this.element=b(g);this.uuid=a++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=b.widget.extend({},this.options,this._getCreateOptions(),f);this.bindings=b();this.hoverable=b();this.focusable=b();if(g!==this){b.data(g,this.widgetFullName,this);this._on(true,this.element,{remove:function(h){if(h.target===g){this.destroy()}}});this.document=b(g.style?g.ownerDocument:g.document||g);this.window=b(this.document[0].defaultView||this.document[0].parentWindow)}this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:b.noop,_getCreateEventData:b.noop,_create:b.noop,_init:b.noop,destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(b.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:b.noop,widget:function(){return this.element},option:function(j,k){var f=j,l,h,g;if(arguments.length===0){return b.widget.extend({},this.options)}if(typeof j==="string"){f={};l=j.split(".");j=l.shift();if(l.length){h=f[j]=b.widget.extend({},this.options[j]);for(g=0;g<l.length-1;g++){h[l[g]]=h[l[g]]||{};h=h[l[g]]}j=l.pop();if(k===e){return h[j]===e?null:h[j]}h[j]=k}else{if(k===e){return this.options[j]===e?null:this.options[j]}f[j]=k}}this._setOptions(f);return this},_setOptions:function(f){var g;for(g in f){this._setOption(g,f[g])}return this},_setOption:function(f,g){this.options[f]=g;if(f==="disabled"){this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!g).attr("aria-disabled",g);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")}return this},enable:function(){return this._setOption("disabled",false)},disable:function(){return this._setOption("disabled",true)},_on:function(i,h,g){var j,f=this;if(typeof i!=="boolean"){g=h;h=i;i=false}if(!g){g=h;h=this.element;j=this.widget()}else{h=j=b(h);this.bindings=this.bindings.add(h)}b.each(g,function(p,o){function m(){if(!i&&(f.options.disabled===true||b(this).hasClass("ui-state-disabled"))){return}return(typeof o==="string"?f[o]:o).apply(f,arguments)}if(typeof o!=="string"){m.guid=o.guid=o.guid||m.guid||b.guid++}var n=p.match(/^(\w+)\s*(.*)$/),l=n[1]+f.eventNamespace,k=n[2];if(k){j.delegate(k,l,m)}else{h.bind(l,m)}})},_off:function(g,f){f=(f||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;g.unbind(f).undelegate(f)},_delay:function(i,h){function g(){return(typeof i==="string"?f[i]:i).apply(f,arguments)}var f=this;return setTimeout(g,h||0)},_hoverable:function(f){this.hoverable=this.hoverable.add(f);this._on(f,{mouseenter:function(g){b(g.currentTarget).addClass("ui-state-hover")},mouseleave:function(g){b(g.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(f){this.focusable=this.focusable.add(f);this._on(f,{focusin:function(g){b(g.currentTarget).addClass("ui-state-focus")},focusout:function(g){b(g.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(f,g,h){var k,j,i=this.options[f];h=h||{};g=b.Event(g);g.type=(f===this.widgetEventPrefix?f:this.widgetEventPrefix+f).toLowerCase();g.target=this.element[0];j=g.originalEvent;if(j){for(k in j){if(!(k in g)){g[k]=j[k]}}}this.element.trigger(g,h);return !(b.isFunction(i)&&i.apply(this.element[0],[g].concat(h))===false||g.isDefaultPrevented())}};b.each({show:"fadeIn",hide:"fadeOut"},function(g,f){b.Widget.prototype["_"+g]=function(j,i,l){if(typeof i==="string"){i={effect:i}}var k,h=!i?g:i===true||typeof i==="number"?f:i.effect||f;i=i||{};if(typeof i==="number"){i={duration:i}}k=!b.isEmptyObject(i);i.complete=l;if(i.delay){j.delay(i.delay)}if(k&&b.effects&&b.effects.effect[h]){j[g](i)}else{if(h!==g&&j[h]){j[h](i.duration,i.easing,l)}else{j.queue(function(m){b(this)[g]();if(l){l.call(j[0])}m()})}}}})})(jQuery);(function(b,c){var a=false;b(document).mouseup(function(){a=false});b.widget("ui.mouse",{version:"@VERSION",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var d=this;this.element.bind("mousedown."+this.widgetName,function(e){return d._mouseDown(e)}).bind("click."+this.widgetName,function(e){if(true===b.data(e.target,d.widgetName+".preventClickEvent")){b.removeData(e.target,d.widgetName+".preventClickEvent");e.stopImmediatePropagation();return false}});this.started=false},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);if(this._mouseMoveDelegate){b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)}},_mouseDown:function(f){if(a){return}(this._mouseStarted&&this._mouseUp(f));this._mouseDownEvent=f;var e=this,g=(f.which===1),d=(typeof this.options.cancel==="string"&&f.target.nodeName?b(f.target).closest(this.options.cancel).length:false);if(!g||d||!this._mouseCapture(f)){return true}this.mouseDelayMet=!this.options.delay;if(!this.mouseDelayMet){this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=true},this.options.delay)}if(this._mouseDistanceMet(f)&&this._mouseDelayMet(f)){this._mouseStarted=(this._mouseStart(f)!==false);if(!this._mouseStarted){f.preventDefault();return true}}if(true===b.data(f.target,this.widgetName+".preventClickEvent")){b.removeData(f.target,this.widgetName+".preventClickEvent")}this._mouseMoveDelegate=function(h){return e._mouseMove(h)};this._mouseUpDelegate=function(h){return e._mouseUp(h)};b(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);f.preventDefault();a=true;return true},_mouseMove:function(d){if(b.ui.ie&&(!document.documentMode||document.documentMode<9)&&!d.button){return this._mouseUp(d)}if(this._mouseStarted){this._mouseDrag(d);return d.preventDefault()}if(this._mouseDistanceMet(d)&&this._mouseDelayMet(d)){this._mouseStarted=(this._mouseStart(this._mouseDownEvent,d)!==false);(this._mouseStarted?this._mouseDrag(d):this._mouseUp(d))}return !this._mouseStarted},_mouseUp:function(d){b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);if(this._mouseStarted){this._mouseStarted=false;if(d.target===this._mouseDownEvent.target){b.data(d.target,this.widgetName+".preventClickEvent",true)}this._mouseStop(d)}return false},_mouseDistanceMet:function(d){return(Math.max(Math.abs(this._mouseDownEvent.pageX-d.pageX),Math.abs(this._mouseDownEvent.pageY-d.pageY))>=this.options.distance)},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return true}})})(jQuery);(function(e,c){e.ui=e.ui||{};var i,j=Math.max,n=Math.abs,l=Math.round,d=/left|center|right/,g=/top|center|bottom/,a=/[\+\-]\d+%?/,k=/^\w+/,b=/%$/,f=e.fn.position;function m(q,p,o){return[parseInt(q[0],10)*(b.test(q[0])?p/100:1),parseInt(q[1],10)*(b.test(q[1])?o/100:1)]}function h(o,p){return parseInt(e.css(o,p),10)||0}e.position={scrollbarWidth:function(){if(i!==c){return i}var p,o,r=e("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),q=r.children()[0];e("body").append(r);p=q.offsetWidth;r.css("overflow","scroll");o=q.offsetWidth;if(p===o){o=r[0].clientWidth}r.remove();return(i=p-o)},getScrollInfo:function(s){var r=s.isWindow?"":s.element.css("overflow-x"),q=s.isWindow?"":s.element.css("overflow-y"),p=r==="scroll"||(r==="auto"&&s.width<s.element[0].scrollWidth),o=q==="scroll"||(q==="auto"&&s.height<s.element[0].scrollHeight);return{width:p?e.position.scrollbarWidth():0,height:o?e.position.scrollbarWidth():0}},getWithinInfo:function(p){var q=e(p||window),o=e.isWindow(q[0]);return{element:q,isWindow:o,offset:q.offset()||{left:0,top:0},scrollLeft:q.scrollLeft(),scrollTop:q.scrollTop(),width:o?q.width():q.outerWidth(),height:o?q.height():q.outerHeight()}}};e.fn.position=function(A){if(!A||!A.of){return f.apply(this,arguments)}A=e.extend({},A);var B,w,s,y,r,u=e(A.of),q=e.position.getWithinInfo(A.within),o=e.position.getScrollInfo(q),t=u[0],x=(A.collision||"flip").split(" "),p={};if(t.nodeType===9){w=u.width();s=u.height();y={top:0,left:0}}else{if(e.isWindow(t)){w=u.width();s=u.height();y={top:u.scrollTop(),left:u.scrollLeft()}}else{if(t.preventDefault){A.at="left top";w=s=0;y={top:t.pageY,left:t.pageX}}else{w=u.outerWidth();s=u.outerHeight();y=u.offset()}}}r=e.extend({},y);e.each(["my","at"],function(){var E=(A[this]||"").split(" "),D,C;if(E.length===1){E=d.test(E[0])?E.concat(["center"]):g.test(E[0])?["center"].concat(E):["center","center"]}E[0]=d.test(E[0])?E[0]:"center";E[1]=g.test(E[1])?E[1]:"center";D=a.exec(E[0]);C=a.exec(E[1]);p[this]=[D?D[0]:0,C?C[0]:0];A[this]=[k.exec(E[0])[0],k.exec(E[1])[0]]});if(x.length===1){x[1]=x[0]}if(A.at[0]==="right"){r.left+=w}else{if(A.at[0]==="center"){r.left+=w/2}}if(A.at[1]==="bottom"){r.top+=s}else{if(A.at[1]==="center"){r.top+=s/2}}B=m(p.at,w,s);r.left+=B[0];r.top+=B[1];return this.each(function(){var D,M,F=e(this),H=F.outerWidth(),E=F.outerHeight(),G=h(this,"marginLeft"),C=h(this,"marginTop"),L=H+G+h(this,"marginRight")+o.width,K=E+C+h(this,"marginBottom")+o.height,I=e.extend({},r),J=m(p.my,F.outerWidth(),F.outerHeight());if(A.my[0]==="right"){I.left-=H}else{if(A.my[0]==="center"){I.left-=H/2}}if(A.my[1]==="bottom"){I.top-=E}else{if(A.my[1]==="center"){I.top-=E/2}}I.left+=J[0];I.top+=J[1];if(!e.support.offsetFractions){I.left=l(I.left);I.top=l(I.top)}D={marginLeft:G,marginTop:C};e.each(["left","top"],function(O,N){if(e.ui.position[x[O]]){e.ui.position[x[O]][N](I,{targetWidth:w,targetHeight:s,elemWidth:H,elemHeight:E,collisionPosition:D,collisionWidth:L,collisionHeight:K,offset:[B[0]+J[0],B[1]+J[1]],my:A.my,at:A.at,within:q,elem:F})}});if(A.using){M=function(Q){var S=y.left-I.left,P=S+w-H,R=y.top-I.top,O=R+s-E,N={target:{element:u,left:y.left,top:y.top,width:w,height:s},element:{element:F,left:I.left,top:I.top,width:H,height:E},horizontal:P<0?"left":S>0?"right":"center",vertical:O<0?"top":R>0?"bottom":"middle"};if(w<H&&n(S+P)<w){N.horizontal="center"}if(s<E&&n(R+O)<s){N.vertical="middle"}if(j(n(S),n(P))>j(n(R),n(O))){N.important="horizontal"}else{N.important="vertical"}A.using.call(this,Q,N)}}F.offset(e.extend(I,{using:M}))})};e.ui.position={fit:{left:function(s,r){var q=r.within,u=q.isWindow?q.scrollLeft:q.offset.left,x=q.width,t=s.left-r.collisionPosition.marginLeft,w=u-t,p=t+r.collisionWidth-x-u,o;if(r.collisionWidth>x){if(w>0&&p<=0){o=s.left+w+r.collisionWidth-x-u;s.left+=w-o}else{if(p>0&&w<=0){s.left=u}else{if(w>p){s.left=u+x-r.collisionWidth}else{s.left=u}}}}else{if(w>0){s.left+=w}else{if(p>0){s.left-=p}else{s.left=j(s.left-t,s.left)}}}},top:function(r,q){var p=q.within,w=p.isWindow?p.scrollTop:p.offset.top,x=q.within.height,t=r.top-q.collisionPosition.marginTop,u=w-t,s=t+q.collisionHeight-x-w,o;if(q.collisionHeight>x){if(u>0&&s<=0){o=r.top+u+q.collisionHeight-x-w;r.top+=u-o}else{if(s>0&&u<=0){r.top=w}else{if(u>s){r.top=w+x-q.collisionHeight}else{r.top=w}}}}else{if(u>0){r.top+=u}else{if(s>0){r.top-=s}else{r.top=j(r.top-t,r.top)}}}}},flip:{left:function(u,t){var s=t.within,A=s.offset.left+s.scrollLeft,D=s.width,q=s.isWindow?s.scrollLeft:s.offset.left,w=u.left-t.collisionPosition.marginLeft,B=w-q,p=w+t.collisionWidth-D-q,y=t.my[0]==="left"?-t.elemWidth:t.my[0]==="right"?t.elemWidth:0,C=t.at[0]==="left"?t.targetWidth:t.at[0]==="right"?-t.targetWidth:0,r=-2*t.offset[0],o,x;if(B<0){o=u.left+y+C+r+t.collisionWidth-D-A;if(o<0||o<n(B)){u.left+=y+C+r}}else{if(p>0){x=u.left-t.collisionPosition.marginLeft+y+C+r-q;if(x>0||n(x)<p){u.left+=y+C+r}}}},top:function(t,s){var r=s.within,C=r.offset.top+r.scrollTop,D=r.height,o=r.isWindow?r.scrollTop:r.offset.top,w=t.top-s.collisionPosition.marginTop,y=w-o,u=w+s.collisionHeight-D-o,A=s.my[1]==="top",x=A?-s.elemHeight:s.my[1]==="bottom"?s.elemHeight:0,E=s.at[1]==="top"?s.targetHeight:s.at[1]==="bottom"?-s.targetHeight:0,q=-2*s.offset[1],B,p;if(y<0){p=t.top+x+E+q+s.collisionHeight-D-C;if((t.top+x+E+q)>y&&(p<0||p<n(y))){t.top+=x+E+q}}else{if(u>0){B=t.top-s.collisionPosition.marginTop+x+E+q-o;if((t.top+x+E+q)>u&&(B>0||n(B)<u)){t.top+=x+E+q}}}}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments);e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments);e.ui.position.fit.top.apply(this,arguments)}}};(function(){var s,u,p,r,q,o=document.getElementsByTagName("body")[0],t=document.createElement("div");s=document.createElement(o?"div":"body");p={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};if(o){e.extend(p,{position:"absolute",left:"-1000px",top:"-1000px"})}for(q in p){s.style[q]=p[q]}s.appendChild(t);u=o||document.documentElement;u.insertBefore(s,u.firstChild);t.style.cssText="position: absolute; left: 10.7432222px;";r=e(t).offset().left;e.support.offsetFractions=r>10&&r<11;s.innerHTML="";u.removeChild(s)})()}(jQuery));(function(a,b){a.widget("ui.draggable",a.ui.mouse,{version:"@VERSION",widgetEventPrefix:"drag",options:{addClasses:true,appendTo:"parent",axis:false,connectToSortable:false,containment:false,cursor:"auto",cursorAt:false,grid:false,handle:false,helper:"original",iframeFix:false,opacity:false,refreshPositions:false,revert:false,revertDuration:500,scope:"default",scroll:true,scrollSensitivity:20,scrollSpeed:20,snap:false,snapMode:"both",snapTolerance:20,stack:false,zIndex:false},_create:function(){if(this.options.helper=="original"&&!(/^(?:r|a|f)/).test(this.element.css("position"))){this.element[0].style.position="relative"}(this.options.addClasses&&this.element.addClass("ui-draggable"));(this.options.disabled&&this.element.addClass("ui-draggable-disabled"));this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled");this._mouseDestroy()},_mouseCapture:function(c){var d=this.options;if(this.helper||d.disabled||a(c.target).is(".ui-resizable-handle")){return false}this.handle=this._getHandle(c);if(!this.handle){return false}a(d.iframeFix===true?"iframe":d.iframeFix).each(function(){a('<div class="ui-draggable-iframeFix" style="background: #fff;"></div>').css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1000}).css(a(this).offset()).appendTo("body")});return true},_mouseStart:function(c){var d=this.options;this.helper=this._createHelper(c);this.helper.addClass("ui-draggable-dragging");this._cacheHelperProportions();if(a.ui.ddmanager){a.ui.ddmanager.current=this}this._cacheMargins();this.cssPosition=this.helper.css("position");this.scrollParent=this.helper.scrollParent();this.offset=this.positionAbs=this.element.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:c.pageX-this.offset.left,top:c.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.originalPosition=this.position=this._generatePosition(c);this.originalPageX=c.pageX;this.originalPageY=c.pageY;(d.cursorAt&&this._adjustOffsetFromHelper(d.cursorAt));if(d.containment){this._setContainment()}if(this._trigger("start",c)===false){this._clear();return false}this._cacheHelperProportions();if(a.ui.ddmanager&&!d.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,c)}this._mouseDrag(c,true);if(a.ui.ddmanager){a.ui.ddmanager.dragStart(this,c)}return true},_mouseDrag:function(c,e){this.position=this._generatePosition(c);this.positionAbs=this._convertPositionTo("absolute");if(!e){var d=this._uiHash();if(this._trigger("drag",c,d)===false){this._mouseUp({});return false}this.position=d.position}if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}if(a.ui.ddmanager){a.ui.ddmanager.drag(this,c)}return false},_mouseStop:function(e){var g=false;if(a.ui.ddmanager&&!this.options.dropBehaviour){g=a.ui.ddmanager.drop(this,e)}if(this.dropped){g=this.dropped;this.dropped=false}var c=this.element[0],f=false;while(c&&(c=c.parentNode)){if(c==document){f=true}}if(!f&&this.options.helper==="original"){return false}if((this.options.revert=="invalid"&&!g)||(this.options.revert=="valid"&&g)||this.options.revert===true||(a.isFunction(this.options.revert)&&this.options.revert.call(this.element,g))){var d=this;a(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){if(d._trigger("stop",e)!==false){d._clear()}})}else{if(this._trigger("stop",e)!==false){this._clear()}}return false},_mouseUp:function(c){a("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)});if(a.ui.ddmanager){a.ui.ddmanager.dragStop(this,c)}return a.ui.mouse.prototype._mouseUp.call(this,c)},cancel:function(){if(this.helper.is(".ui-draggable-dragging")){this._mouseUp({})}else{this._clear()}return this},_getHandle:function(c){var d=!this.options.handle||!a(this.options.handle,this.element).length?true:false;a(this.options.handle,this.element).find("*").andSelf().each(function(){if(this==c.target){d=true}});return d},_createHelper:function(d){var e=this.options;var c=a.isFunction(e.helper)?a(e.helper.apply(this.element[0],[d])):(e.helper=="clone"?this.element.clone().removeAttr("id"):this.element);if(!c.parents("body").length){c.appendTo((e.appendTo=="parent"?this.element[0].parentNode:e.appendTo))}if(c[0]!=this.element[0]&&!(/(fixed|absolute)/).test(c.css("position"))){c.css("position","absolute")}return c},_adjustOffsetFromHelper:function(c){if(typeof c=="string"){c=c.split(" ")}if(a.isArray(c)){c={left:+c[0],top:+c[1]||0}}if("left" in c){this.offset.click.left=c.left+this.margins.left}if("right" in c){this.offset.click.left=this.helperProportions.width-c.right+this.margins.left}if("top" in c){this.offset.click.top=c.top+this.margins.top}if("bottom" in c){this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])){c.left+=this.scrollParent.scrollLeft();c.top+=this.scrollParent.scrollTop()}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.ui.ie)){c={top:0,left:0}}return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var c=this.element.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.element.css("marginLeft"),10)||0),top:(parseInt(this.element.css("marginTop"),10)||0),right:(parseInt(this.element.css("marginRight"),10)||0),bottom:(parseInt(this.element.css("marginBottom"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var f=this.options;if(f.containment=="parent"){f.containment=this.helper[0].parentNode}if(f.containment=="document"||f.containment=="window"){this.containment=[f.containment=="document"?0:a(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,f.containment=="document"?0:a(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,(f.containment=="document"?0:a(window).scrollLeft())+a(f.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(f.containment=="document"?0:a(window).scrollTop())+(a(f.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(f.containment)&&f.containment.constructor!=Array){var g=a(f.containment);var e=g[0];if(!e){return}var d=(a(e).css("overflow")!="hidden");this.containment=[(parseInt(a(e).css("borderLeftWidth"),10)||0)+(parseInt(a(e).css("paddingLeft"),10)||0),(parseInt(a(e).css("borderTopWidth"),10)||0)+(parseInt(a(e).css("paddingTop"),10)||0),(d?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(a(e).css("borderLeftWidth"),10)||0)-(parseInt(a(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(d?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(a(e).css("borderTopWidth"),10)||0)-(parseInt(a(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom];this.relative_container=g}else{if(f.containment.constructor==Array){this.containment=f.containment}}},_convertPositionTo:function(f,h){if(!h){h=this.position}var e=f=="absolute"?1:-1;var c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=(/(html|body)/i).test(c[0].tagName);return{top:(h.top+this.offset.relative.top*e+this.offset.parent.top*e-((this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(g?0:c.scrollTop()))*e)),left:(h.left+this.offset.relative.left*e+this.offset.parent.left*e-((this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:c.scrollLeft())*e))}},_generatePosition:function(d){var e=this.options,l=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,i=(/(html|body)/i).test(l[0].tagName);var h=d.pageX;var g=d.pageY;if(this.originalPosition){var c;if(this.containment){if(this.relative_container){var k=this.relative_container.offset();c=[this.containment[0]+k.left,this.containment[1]+k.top,this.containment[2]+k.left,this.containment[3]+k.top]}else{c=this.containment}if(d.pageX-this.offset.click.left<c[0]){h=c[0]+this.offset.click.left}if(d.pageY-this.offset.click.top<c[1]){g=c[1]+this.offset.click.top}if(d.pageX-this.offset.click.left>c[2]){h=c[2]+this.offset.click.left}if(d.pageY-this.offset.click.top>c[3]){g=c[3]+this.offset.click.top}}if(e.grid){var j=e.grid[1]?this.originalPageY+Math.round((g-this.originalPageY)/e.grid[1])*e.grid[1]:this.originalPageY;g=c?((j-this.offset.click.top>=c[1]||j-this.offset.click.top>c[3])?j:((j-this.offset.click.top>=c[1])?j-e.grid[1]:j+e.grid[1])):j;var f=e.grid[0]?this.originalPageX+Math.round((h-this.originalPageX)/e.grid[0])*e.grid[0]:this.originalPageX;h=c?((f-this.offset.click.left>=c[0]||f-this.offset.click.left>c[2])?f:((f-this.offset.click.left>=c[0])?f-e.grid[0]:f+e.grid[0])):f}}return{top:(g-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+((this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(i?0:l.scrollTop())))),left:(h-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+((this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():i?0:l.scrollLeft())))}},_clear:function(){this.helper.removeClass("ui-draggable-dragging");if(this.helper[0]!=this.element[0]&&!this.cancelHelperRemoval){this.helper.remove()}this.helper=null;this.cancelHelperRemoval=false},_trigger:function(c,d,e){e=e||this._uiHash();a.ui.plugin.call(this,c,[d,e]);if(c=="drag"){this.positionAbs=this._convertPositionTo("absolute")}return a.Widget.prototype._trigger.call(this,c,d,e)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}});a.ui.plugin.add("draggable","connectToSortable",{start:function(d,f){var e=a(this).data("ui-draggable"),g=e.options,c=a.extend({},f,{item:e.element});e.sortables=[];a(g.connectToSortable).each(function(){var h=a.data(this,"ui-sortable");if(h&&!h.options.disabled){e.sortables.push({instance:h,shouldRevert:h.options.revert});h.refreshPositions();h._trigger("activate",d,c)}})},stop:function(d,f){var e=a(this).data("ui-draggable"),c=a.extend({},f,{item:e.element});a.each(e.sortables,function(){if(this.instance.isOver){this.instance.isOver=0;e.cancelHelperRemoval=true;this.instance.cancelHelperRemoval=false;if(this.shouldRevert){this.instance.options.revert=true}this.instance._mouseStop(d);this.instance.options.helper=this.instance.options._helper;if(e.options.helper=="original"){this.instance.currentItem.css({top:"auto",left:"auto"})}}else{this.instance.cancelHelperRemoval=false;this.instance._trigger("deactivate",d,c)}})},drag:function(d,f){var e=a(this).data("ui-draggable"),c=this;a.each(e.sortables,function(){var g=false;var h=this;this.instance.positionAbs=e.positionAbs;this.instance.helperProportions=e.helperProportions;this.instance.offset.click=e.offset.click;if(this.instance._intersectsWith(this.instance.containerCache)){g=true;a.each(e.sortables,function(){this.instance.positionAbs=e.positionAbs;this.instance.helperProportions=e.helperProportions;this.instance.offset.click=e.offset.click;if(this!=h&&this.instance._intersectsWith(this.instance.containerCache)&&a.ui.contains(h.instance.element[0],this.instance.element[0])){g=false}return g})}if(g){if(!this.instance.isOver){this.instance.isOver=1;this.instance.currentItem=a(c).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",true);this.instance.options._helper=this.instance.options.helper;this.instance.options.helper=function(){return f.helper[0]};d.target=this.instance.currentItem[0];this.instance._mouseCapture(d,true);this.instance._mouseStart(d,true,true);this.instance.offset.click.top=e.offset.click.top;this.instance.offset.click.left=e.offset.click.left;this.instance.offset.parent.left-=e.offset.parent.left-this.instance.offset.parent.left;this.instance.offset.parent.top-=e.offset.parent.top-this.instance.offset.parent.top;e._trigger("toSortable",d);e.dropped=this.instance.element;e.currentItem=e.element;this.instance.fromOutside=e}if(this.instance.currentItem){this.instance._mouseDrag(d)}}else{if(this.instance.isOver){this.instance.isOver=0;this.instance.cancelHelperRemoval=true;this.instance.options.revert=false;this.instance._trigger("out",d,this.instance._uiHash(this.instance));this.instance._mouseStop(d,true);this.instance.options.helper=this.instance.options._helper;this.instance.currentItem.remove();if(this.instance.placeholder){this.instance.placeholder.remove()}e._trigger("fromSortable",d);e.dropped=false}}})}});a.ui.plugin.add("draggable","cursor",{start:function(){var c=a("body"),d=a(this).data("ui-draggable").options;if(c.css("cursor")){d._cursor=c.css("cursor")}c.css("cursor",d.cursor)},stop:function(){var c=a(this).data("ui-draggable").options;if(c._cursor){a("body").css("cursor",c._cursor)}}});a.ui.plugin.add("draggable","opacity",{start:function(d,e){var c=a(e.helper),f=a(this).data("ui-draggable").options;if(c.css("opacity")){f._opacity=c.css("opacity")}c.css("opacity",f.opacity)},stop:function(c,d){var e=a(this).data("ui-draggable").options;if(e._opacity){a(d.helper).css("opacity",e._opacity)}}});a.ui.plugin.add("draggable","scroll",{start:function(){var c=a(this).data("ui-draggable");if(c.scrollParent[0]!=document&&c.scrollParent[0].tagName!="HTML"){c.overflowOffset=c.scrollParent.offset()}},drag:function(e){var d=a(this).data("ui-draggable"),f=d.options,c=false;if(d.scrollParent[0]!=document&&d.scrollParent[0].tagName!="HTML"){if(!f.axis||f.axis!="x"){if((d.overflowOffset.top+d.scrollParent[0].offsetHeight)-e.pageY<f.scrollSensitivity){d.scrollParent[0].scrollTop=c=d.scrollParent[0].scrollTop+f.scrollSpeed}else{if(e.pageY-d.overflowOffset.top<f.scrollSensitivity){d.scrollParent[0].scrollTop=c=d.scrollParent[0].scrollTop-f.scrollSpeed}}}if(!f.axis||f.axis!="y"){if((d.overflowOffset.left+d.scrollParent[0].offsetWidth)-e.pageX<f.scrollSensitivity){d.scrollParent[0].scrollLeft=c=d.scrollParent[0].scrollLeft+f.scrollSpeed}else{if(e.pageX-d.overflowOffset.left<f.scrollSensitivity){d.scrollParent[0].scrollLeft=c=d.scrollParent[0].scrollLeft-f.scrollSpeed}}}}else{if(!f.axis||f.axis!="x"){if(e.pageY-a(document).scrollTop()<f.scrollSensitivity){c=a(document).scrollTop(a(document).scrollTop()-f.scrollSpeed)}else{if(a(window).height()-(e.pageY-a(document).scrollTop())<f.scrollSensitivity){c=a(document).scrollTop(a(document).scrollTop()+f.scrollSpeed)}}}if(!f.axis||f.axis!="y"){if(e.pageX-a(document).scrollLeft()<f.scrollSensitivity){c=a(document).scrollLeft(a(document).scrollLeft()-f.scrollSpeed)}else{if(a(window).width()-(e.pageX-a(document).scrollLeft())<f.scrollSensitivity){c=a(document).scrollLeft(a(document).scrollLeft()+f.scrollSpeed)}}}}if(c!==false&&a.ui.ddmanager&&!f.dropBehaviour){a.ui.ddmanager.prepareOffsets(d,e)}}});a.ui.plugin.add("draggable","snap",{start:function(){var c=a(this).data("ui-draggable"),d=c.options;c.snapElements=[];a(d.snap.constructor!=String?(d.snap.items||":data(ui-draggable)"):d.snap).each(function(){var f=a(this);var e=f.offset();if(this!=c.element[0]){c.snapElements.push({item:this,width:f.outerWidth(),height:f.outerHeight(),top:e.top,left:e.left})}})},drag:function(u,p){var g=a(this).data("ui-draggable"),q=g.options;var A=q.snapTolerance;var y=p.offset.left,x=y+g.helperProportions.width,f=p.offset.top,e=f+g.helperProportions.height;for(var w=g.snapElements.length-1;w>=0;w--){var s=g.snapElements[w].left,n=s+g.snapElements[w].width,m=g.snapElements[w].top,C=m+g.snapElements[w].height;if(!((s-A<y&&y<n+A&&m-A<f&&f<C+A)||(s-A<y&&y<n+A&&m-A<e&&e<C+A)||(s-A<x&&x<n+A&&m-A<f&&f<C+A)||(s-A<x&&x<n+A&&m-A<e&&e<C+A))){if(g.snapElements[w].snapping){(g.options.snap.release&&g.options.snap.release.call(g.element,u,a.extend(g._uiHash(),{snapItem:g.snapElements[w].item})))}g.snapElements[w].snapping=false;continue}if(q.snapMode!="inner"){var c=Math.abs(m-e)<=A;var B=Math.abs(C-f)<=A;var j=Math.abs(s-x)<=A;var k=Math.abs(n-y)<=A;if(c){p.position.top=g._convertPositionTo("relative",{top:m-g.helperProportions.height,left:0}).top-g.margins.top}if(B){p.position.top=g._convertPositionTo("relative",{top:C,left:0}).top-g.margins.top}if(j){p.position.left=g._convertPositionTo("relative",{top:0,left:s-g.helperProportions.width}).left-g.margins.left}if(k){p.position.left=g._convertPositionTo("relative",{top:0,left:n}).left-g.margins.left}}var h=(c||B||j||k);if(q.snapMode!="outer"){var c=Math.abs(m-f)<=A;var B=Math.abs(C-e)<=A;var j=Math.abs(s-y)<=A;var k=Math.abs(n-x)<=A;if(c){p.position.top=g._convertPositionTo("relative",{top:m,left:0}).top-g.margins.top}if(B){p.position.top=g._convertPositionTo("relative",{top:C-g.helperProportions.height,left:0}).top-g.margins.top}if(j){p.position.left=g._convertPositionTo("relative",{top:0,left:s}).left-g.margins.left}if(k){p.position.left=g._convertPositionTo("relative",{top:0,left:n-g.helperProportions.width}).left-g.margins.left}}if(!g.snapElements[w].snapping&&(c||B||j||k||h)){(g.options.snap.snap&&g.options.snap.snap.call(g.element,u,a.extend(g._uiHash(),{snapItem:g.snapElements[w].item})))}g.snapElements[w].snapping=(c||B||j||k||h)}}});a.ui.plugin.add("draggable","stack",{start:function(){var e=a(this).data("ui-draggable").options;var d=a.makeArray(a(e.stack)).sort(function(g,f){return(parseInt(a(g).css("zIndex"),10)||0)-(parseInt(a(f).css("zIndex"),10)||0)});if(!d.length){return}var c=parseInt(d[0].style.zIndex,10)||0;a(d).each(function(f){this.style.zIndex=c+f});this[0].style.zIndex=c+d.length}});a.ui.plugin.add("draggable","zIndex",{start:function(d,e){var c=a(e.helper),f=a(this).data("ui-draggable").options;if(c.css("zIndex")){f._zIndex=c.css("zIndex")}c.css("zIndex",f.zIndex)},stop:function(c,d){var e=a(this).data("ui-draggable").options;if(e._zIndex){a(d.helper).css("zIndex",e._zIndex)}}})})(jQuery);(function(c,d){function b(e){return parseInt(e,10)||0}function a(e){return !isNaN(parseInt(e,10))}c.widget("ui.resizable",c.ui.mouse,{version:"@VERSION",widgetEventPrefix:"resize",options:{alsoResize:false,animate:false,animateDuration:"slow",animateEasing:"swing",aspectRatio:false,autoHide:false,containment:false,ghost:false,grid:false,handles:"e,s,se",helper:false,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:1000},_create:function(){var h=this,k=this.options;this.element.addClass("ui-resizable");c.extend(this,{_aspectRatio:!!(k.aspectRatio),aspectRatio:k.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:k.helper||k.ghost||k.animate?k.helper||"ui-resizable-helper":null});if(this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)){this.element.wrap(c('<div class="ui-wrapper" style="overflow: hidden;"></div>').css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")}));this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable"));this.elementIsWrapper=true;this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")});this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0});this.originalResizeStyle=this.originalElement.css("resize");this.originalElement.css("resize","none");this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"}));this.originalElement.css({margin:this.originalElement.css("margin")});this._proportionallyResize()}this.handles=k.handles||(!c(".ui-resizable-handle",this.element).length?"e,s,se":{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"});if(this.handles.constructor==String){if(this.handles=="all"){this.handles="n,e,s,w,se,sw,ne,nw"}var l=this.handles.split(",");this.handles={};for(var f=0;f<l.length;f++){var j=c.trim(l[f]),e="ui-resizable-"+j;var g=c('<div class="ui-resizable-handle '+e+'"></div>');g.css({zIndex:k.zIndex});this.handles[j]=".ui-resizable-"+j;this.element.append(g)}}this._renderAxis=function(q){q=q||this.element;for(var n in this.handles){if(this.handles[n].constructor==String){this.handles[n]=c(this.handles[n],this.element).show()}if(this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)){var o=c(this.handles[n],this.element),p=0;p=/sw|ne|nw|se|n|s/.test(n)?o.outerHeight():o.outerWidth();var m=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join("");q.css(m,p);this._proportionallyResize()}if(!c(this.handles[n]).length){continue}}};this._renderAxis(this.element);this._handles=c(".ui-resizable-handle",this.element).disableSelection();this._handles.mouseover(function(){if(!h.resizing){if(this.className){var i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)}h.axis=i&&i[1]?i[1]:"se"}});if(k.autoHide){this._handles.hide();c(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(k.disabled){return}c(this).removeClass("ui-resizable-autohide");h._handles.show()}).mouseleave(function(){if(k.disabled){return}if(!h.resizing){c(this).addClass("ui-resizable-autohide");h._handles.hide()}})}this._mouseInit()},_destroy:function(){this._mouseDestroy();var e=function(g){c(g).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};if(this.elementIsWrapper){e(this.element);var f=this.element;this.originalElement.css({position:f.css("position"),width:f.outerWidth(),height:f.outerHeight(),top:f.css("top"),left:f.css("left")}).insertAfter(f);f.remove()}this.originalElement.css("resize",this.originalResizeStyle);e(this.originalElement);return this},_mouseCapture:function(g){var e=false;for(var f in this.handles){var h=c(this.handles[f])[0];if(h==g.target||c.contains(h,g.target)){e=true}}return !this.options.disabled&&e},_mouseStart:function(g){var j=this.options,f=this.element.position(),e=this.element;this.resizing=true;this.documentScroll={top:c(document).scrollTop(),left:c(document).scrollLeft()};if(e.is(".ui-draggable")||(/absolute/).test(e.css("position"))){e.css({position:"absolute",top:f.top,left:f.left})}this._renderProxy();var k=b(this.helper.css("left")),h=b(this.helper.css("top"));if(j.containment){k+=c(j.containment).scrollLeft()||0;h+=c(j.containment).scrollTop()||0}this.offset=this.helper.offset();this.position={left:k,top:h};this.size=this._helper?{width:e.outerWidth(),height:e.outerHeight()}:{width:e.width(),height:e.height()};this.originalSize=this._helper?{width:e.outerWidth(),height:e.outerHeight()}:{width:e.width(),height:e.height()};this.originalPosition={left:k,top:h};this.sizeDiff={width:e.outerWidth()-e.width(),height:e.outerHeight()-e.height()};this.originalMousePosition={left:g.pageX,top:g.pageY};this.aspectRatio=(typeof j.aspectRatio=="number")?j.aspectRatio:((this.originalSize.width/this.originalSize.height)||1);var i=c(".ui-resizable-"+this.axis).css("cursor");c("body").css("cursor",i=="auto"?this.axis+"-resize":i);e.addClass("ui-resizable-resizing");this._propagate("start",g);return true},_mouseDrag:function(j){var i=this.helper,l=this.originalMousePosition,f=this.axis;var g=(j.pageX-l.left)||0,e=(j.pageY-l.top)||0;var h=this._change[f];if(!h){return false}var k=h.apply(this,[j,g,e]);this._updateVirtualBoundaries(j.shiftKey);if(this._aspectRatio||j.shiftKey){k=this._updateRatio(k,j)}k=this._respectSize(k,j);this._propagate("resize",j);i.css({top:this.position.top+"px",left:this.position.left+"px",width:this.size.width+"px",height:this.size.height+"px"});if(!this._helper&&this._proportionallyResizeElements.length){this._proportionallyResize()}this._updateCache(k);this._trigger("resize",j,this.ui());return false},_mouseStop:function(h){this.resizing=false;var i=this.options,l=this;if(this._helper){var g=this._proportionallyResizeElements,e=g.length&&(/textarea/i).test(g[0].nodeName),f=e&&c.ui.hasScroll(g[0],"left")?0:l.sizeDiff.height,k=e?0:l.sizeDiff.width;var n={width:(l.helper.width()-k),height:(l.helper.height()-f)},j=(parseInt(l.element.css("left"),10)+(l.position.left-l.originalPosition.left))||null,m=(parseInt(l.element.css("top"),10)+(l.position.top-l.originalPosition.top))||null;if(!i.animate){this.element.css(c.extend(n,{top:m,left:j}))}l.helper.height(l.size.height);l.helper.width(l.size.width);if(this._helper&&!i.animate){this._proportionallyResize()}}c("body").css("cursor","auto");this.element.removeClass("ui-resizable-resizing");this._propagate("stop",h);if(this._helper){this.helper.remove()}return false},_updateVirtualBoundaries:function(g){var j=this.options,i,h,f,k,e;e={minWidth:a(j.minWidth)?j.minWidth:0,maxWidth:a(j.maxWidth)?j.maxWidth:Infinity,minHeight:a(j.minHeight)?j.minHeight:0,maxHeight:a(j.maxHeight)?j.maxHeight:Infinity};if(this._aspectRatio||g){i=e.minHeight*this.aspectRatio;f=e.minWidth/this.aspectRatio;h=e.maxHeight*this.aspectRatio;k=e.maxWidth/this.aspectRatio;if(i>e.minWidth){e.minWidth=i}if(f>e.minHeight){e.minHeight=f}if(h<e.maxWidth){e.maxWidth=h}if(k<e.maxHeight){e.maxHeight=k}}this._vBoundaries=e},_updateCache:function(e){this.offset=this.helper.offset();if(a(e.left)){this.position.left=e.left}if(a(e.top)){this.position.top=e.top}if(a(e.height)){this.size.height=e.height}if(a(e.width)){this.size.width=e.width}},_updateRatio:function(g){var h=this.position,f=this.size,e=this.axis;if(a(g.height)){g.width=(g.height*this.aspectRatio)}else{if(a(g.width)){g.height=(g.width/this.aspectRatio)}}if(e=="sw"){g.left=h.left+(f.width-g.width);g.top=null}if(e=="nw"){g.top=h.top+(f.height-g.height);g.left=h.left+(f.width-g.width)}return g},_respectSize:function(j){var g=this._vBoundaries,n=this.axis,q=a(j.width)&&g.maxWidth&&(g.maxWidth<j.width),k=a(j.height)&&g.maxHeight&&(g.maxHeight<j.height),h=a(j.width)&&g.minWidth&&(g.minWidth>j.width),p=a(j.height)&&g.minHeight&&(g.minHeight>j.height);if(h){j.width=g.minWidth}if(p){j.height=g.minHeight}if(q){j.width=g.maxWidth}if(k){j.height=g.maxHeight}var f=this.originalPosition.left+this.originalSize.width,m=this.position.top+this.size.height;var i=/sw|nw|w/.test(n),e=/nw|ne|n/.test(n);if(h&&i){j.left=f-g.minWidth}if(q&&i){j.left=f-g.maxWidth}if(p&&e){j.top=m-g.minHeight}if(k&&e){j.top=m-g.maxHeight}var l=!j.width&&!j.height;if(l&&!j.left&&j.top){j.top=null}else{if(l&&!j.top&&j.left){j.left=null}}return j},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length){return}var g=this.helper||this.element;for(var f=0;f<this._proportionallyResizeElements.length;f++){var h=this._proportionallyResizeElements[f];if(!this.borderDif){var e=[h.css("borderTopWidth"),h.css("borderRightWidth"),h.css("borderBottomWidth"),h.css("borderLeftWidth")],j=[h.css("paddingTop"),h.css("paddingRight"),h.css("paddingBottom"),h.css("paddingLeft")];this.borderDif=c.map(e,function(k,m){var l=parseInt(k,10)||0,n=parseInt(j[m],10)||0;return l+n})}h.css({height:(g.height()-this.borderDif[0]-this.borderDif[2])||0,width:(g.width()-this.borderDif[1]-this.borderDif[3])||0})}},_renderProxy:function(){var e=this.element,f=this.options;this.elementOffset=e.offset();if(this._helper){this.helper=this.helper||c('<div style="overflow:hidden;"></div>');this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++f.zIndex});this.helper.appendTo("body").disableSelection()}else{this.helper=this.element}},_change:{e:function(f,e){return{width:this.originalSize.width+e}},w:function(g,e){var f=this.originalSize,h=this.originalPosition;return{left:h.left+e,width:f.width-e}},n:function(h,f,e){var g=this.originalSize,i=this.originalPosition;return{top:i.top+e,height:g.height-e}},s:function(g,f,e){return{height:this.originalSize.height+e}},se:function(g,f,e){return c.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[g,f,e]))},sw:function(g,f,e){return c.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[g,f,e]))},ne:function(g,f,e){return c.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[g,f,e]))},nw:function(g,f,e){return c.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[g,f,e]))}},_propagate:function(f,e){c.ui.plugin.call(this,f,[e,this.ui()]);(f!="resize"&&this._trigger(f,e,this.ui()))},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}});c.ui.plugin.add("resizable","alsoResize",{start:function(){var e=c(this).data("ui-resizable"),g=e.options;var f=function(h){c(h).each(function(){var i=c(this);i.data("ui-resizable-alsoresize",{width:parseInt(i.width(),10),height:parseInt(i.height(),10),left:parseInt(i.css("left"),10),top:parseInt(i.css("top"),10)})})};if(typeof(g.alsoResize)=="object"&&!g.alsoResize.parentNode){if(g.alsoResize.length){g.alsoResize=g.alsoResize[0];f(g.alsoResize)}else{c.each(g.alsoResize,function(h){f(h)})}}else{f(g.alsoResize)}},resize:function(g,i){var f=c(this).data("ui-resizable"),j=f.options,h=f.originalSize,l=f.originalPosition;var k={height:(f.size.height-h.height)||0,width:(f.size.width-h.width)||0,top:(f.position.top-l.top)||0,left:(f.position.left-l.left)||0},e=function(m,n){c(m).each(function(){var q=c(this),r=c(this).data("ui-resizable-alsoresize"),p={},o=n&&n.length?n:q.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];c.each(o,function(s,u){var t=(r[u]||0)+(k[u]||0);if(t&&t>=0){p[u]=t||null}});q.css(p)})};if(typeof(j.alsoResize)=="object"&&!j.alsoResize.nodeType){c.each(j.alsoResize,function(m,n){e(m,n)})}else{e(j.alsoResize)}},stop:function(){c(this).removeData("resizable-alsoresize")}});c.ui.plugin.add("resizable","animate",{stop:function(h){var m=c(this).data("ui-resizable"),j=m.options;var g=m._proportionallyResizeElements,e=g.length&&(/textarea/i).test(g[0].nodeName),f=e&&c.ui.hasScroll(g[0],"left")?0:m.sizeDiff.height,l=e?0:m.sizeDiff.width;var i={width:(m.size.width-l),height:(m.size.height-f)},k=(parseInt(m.element.css("left"),10)+(m.position.left-m.originalPosition.left))||null,n=(parseInt(m.element.css("top"),10)+(m.position.top-m.originalPosition.top))||null;m.element.animate(c.extend(i,n&&k?{top:n,left:k}:{}),{duration:j.animateDuration,easing:j.animateEasing,step:function(){var o={width:parseInt(m.element.css("width"),10),height:parseInt(m.element.css("height"),10),top:parseInt(m.element.css("top"),10),left:parseInt(m.element.css("left"),10)};if(g&&g.length){c(g[0]).css({width:o.width,height:o.height})}m._updateCache(o);m._propagate("resize",h)}})}});c.ui.plugin.add("resizable","containment",{start:function(){var n=c(this).data("ui-resizable"),i=n.options,k=n.element;var f=i.containment,j=(f instanceof c)?f.get(0):(/parent/.test(f))?k.parent().get(0):f;if(!j){return}n.containerElement=c(j);if(/document/.test(f)||f==document){n.containerOffset={left:0,top:0};n.containerPosition={left:0,top:0};n.parentData={element:c(document),left:0,top:0,width:c(document).width(),height:c(document).height()||document.body.parentNode.scrollHeight}}else{var m=c(j),h=[];c(["Top","Right","Left","Bottom"]).each(function(p,o){h[p]=b(m.css("padding"+o))});n.containerOffset=m.offset();n.containerPosition=m.position();n.containerSize={height:(m.innerHeight()-h[3]),width:(m.innerWidth()-h[1])};var q=n.containerOffset,e=n.containerSize.height,l=n.containerSize.width,g=(c.ui.hasScroll(j,"left")?j.scrollWidth:l),r=(c.ui.hasScroll(j)?j.scrollHeight:e);n.parentData={element:j,left:q.left,top:q.top,width:g,height:r}}},resize:function(f){var l=c(this).data("ui-resizable"),g=l.options,n=l.containerOffset,m=l.position,p=l._aspectRatio||f.shiftKey,e={top:0,left:0},h=l.containerElement;if(h[0]!=document&&(/static/).test(h.css("position"))){e=n}if(m.left<(l._helper?n.left:0)){l.size.width=l.size.width+(l._helper?(l.position.left-n.left):(l.position.left-e.left));if(p){l.size.height=l.size.width/l.aspectRatio}l.position.left=g.helper?n.left:0}if(m.top<(l._helper?n.top:0)){l.size.height=l.size.height+(l._helper?(l.position.top-n.top):l.position.top);if(p){l.size.width=l.size.height*l.aspectRatio}l.position.top=l._helper?n.top:0}l.offset.left=l.parentData.left+l.position.left;l.offset.top=l.parentData.top+l.position.top;var k=Math.abs((l._helper?l.offset.left-e.left:(l.offset.left-e.left))+l.sizeDiff.width),q=Math.abs((l._helper?l.offset.top-e.top:(l.offset.top-n.top))+l.sizeDiff.height);var j=l.containerElement.get(0)==l.element.parent().get(0),i=/relative|absolute/.test(l.containerElement.css("position"));if(j&&i){k-=l.parentData.left}if(k+l.size.width>=l.parentData.width){l.size.width=l.parentData.width-k;if(p){l.size.height=l.size.width/l.aspectRatio}}if(q+l.size.height>=l.parentData.height){l.size.height=l.parentData.height-q;if(p){l.size.width=l.size.height*l.aspectRatio}}},stop:function(){var k=c(this).data("ui-resizable"),f=k.options,l=k.containerOffset,e=k.containerPosition,g=k.containerElement;var i=c(k.helper),n=i.offset(),m=i.outerWidth()-k.sizeDiff.width,j=i.outerHeight()-k.sizeDiff.height;if(k._helper&&!f.animate&&(/relative/).test(g.css("position"))){c(this).css({left:n.left-e.left-l.left,width:m,height:j})}if(k._helper&&!f.animate&&(/static/).test(g.css("position"))){c(this).css({left:n.left-e.left-l.left,width:m,height:j})}}});c.ui.plugin.add("resizable","ghost",{start:function(){var f=c(this).data("ui-resizable"),g=f.options,e=f.size;f.ghost=f.originalElement.clone();f.ghost.css({opacity:0.25,display:"block",position:"relative",height:e.height,width:e.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof g.ghost=="string"?g.ghost:"");f.ghost.appendTo(f.helper)},resize:function(){var e=c(this).data("ui-resizable");if(e.ghost){e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})}},stop:function(){var e=c(this).data("ui-resizable");if(e.ghost&&e.helper){e.helper.get(0).removeChild(e.ghost.get(0))}}});c.ui.plugin.add("resizable","grid",{resize:function(){var q=c(this).data("ui-resizable"),h=q.options,r=q.size,j=q.originalSize,m=q.originalPosition,s=q.axis;h.grid=typeof h.grid=="number"?[h.grid,h.grid]:h.grid;var n=(h.grid[0]||1),l=(h.grid[1]||1),g=Math.round((r.width-j.width)/n)*n,f=Math.round((r.height-j.height)/l)*l,k=j.width+g,e=j.height+f,i=h.maxWidth&&(h.maxWidth<k),t=h.maxHeight&&(h.maxHeight<e),p=h.minWidth&&(h.minWidth>k),u=h.minHeight&&(h.minHeight>e);if(p){k=k+n}if(u){e=e+l}if(i){k=k-n}if(t){e=e-l}if(/^(se|s|e)$/.test(s)){q.size.width=k;q.size.height=e}else{if(/^(ne)$/.test(s)){q.size.width=k;q.size.height=e;q.position.top=m.top-f}else{if(/^(sw)$/.test(s)){q.size.width=k;q.size.height=e;q.position.left=m.left-g}else{q.size.width=k;q.size.height=e;q.position.top=m.top-f;q.position.left=m.left-g}}}}})})(jQuery);(function(a,b){a.widget("ui.sortable",a.ui.mouse,{version:"@VERSION",widgetEventPrefix:"sort",ready:false,options:{appendTo:"parent",axis:false,connectWith:false,containment:false,cursor:"auto",cursorAt:false,dropOnEmpty:true,forcePlaceholderSize:false,forceHelperSize:false,grid:false,handle:false,helper:"original",items:"> *",opacity:false,placeholder:false,revert:false,scroll:true,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1000},_create:function(){var c=this.options;this.containerCache={};this.element.addClass("ui-sortable");this.refresh();this.floating=this.items.length?c.axis==="x"||(/left|right/).test(this.items[0].item.css("float"))||(/inline|table-cell/).test(this.items[0].item.css("display")):false;this.offset=this.element.offset();this._mouseInit();this.ready=true},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled");this._mouseDestroy();for(var c=this.items.length-1;c>=0;c--){this.items[c].item.removeData(this.widgetName+"-item")}return this},_setOption:function(c,d){if(c==="disabled"){this.options[c]=d;this.widget().toggleClass("ui-sortable-disabled",!!d)}else{a.Widget.prototype._setOption.apply(this,arguments)}},_mouseCapture:function(e,f){var d=this;if(this.reverting){return false}if(this.options.disabled||this.options.type=="static"){return false}this._refreshItems(e);var c=null;a(e.target).parents().each(function(){if(a.data(this,d.widgetName+"-item")==d){c=a(this);return false}});if(a.data(e.target,d.widgetName+"-item")==d){c=a(e.target)}if(!c){return false}if(this.options.handle&&!f){var g=false;a(this.options.handle,c).find("*").andSelf().each(function(){if(this==e.target){g=true}});if(!g){return false}}this.currentItem=c;this._removeCurrentsFromItems();return true},_mouseStart:function(e,f,c){var g=this.options;this.currentContainer=this;this.refreshPositions();this.helper=this._createHelper(e);this._cacheHelperProportions();this._cacheMargins();this.scrollParent=this.helper.scrollParent();this.offset=this.currentItem.offset();this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left};a.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()});this.helper.css("position","absolute");this.cssPosition=this.helper.css("position");this.originalPosition=this._generatePosition(e);this.originalPageX=e.pageX;this.originalPageY=e.pageY;(g.cursorAt&&this._adjustOffsetFromHelper(g.cursorAt));this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]};if(this.helper[0]!=this.currentItem[0]){this.currentItem.hide()}this._createPlaceholder();if(g.containment){this._setContainment()}if(g.cursor){if(a("body").css("cursor")){this._storedCursor=a("body").css("cursor")}a("body").css("cursor",g.cursor)}if(g.opacity){if(this.helper.css("opacity")){this._storedOpacity=this.helper.css("opacity")}this.helper.css("opacity",g.opacity)}if(g.zIndex){if(this.helper.css("zIndex")){this._storedZIndex=this.helper.css("zIndex")}this.helper.css("zIndex",g.zIndex)}if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){this.overflowOffset=this.scrollParent.offset()}this._trigger("start",e,this._uiHash());if(!this._preserveHelperProportions){this._cacheHelperProportions()}if(!c){for(var d=this.containers.length-1;d>=0;d--){this.containers[d]._trigger("activate",e,this._uiHash(this))}}if(a.ui.ddmanager){a.ui.ddmanager.current=this}if(a.ui.ddmanager&&!g.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,e)}this.dragging=true;this.helper.addClass("ui-sortable-helper");this._mouseDrag(e);return true},_mouseDrag:function(g){this.position=this._generatePosition(g);this.positionAbs=this._convertPositionTo("absolute");if(!this.lastPositionAbs){this.lastPositionAbs=this.positionAbs}if(this.options.scroll){var h=this.options,c=false;if(this.scrollParent[0]!=document&&this.scrollParent[0].tagName!="HTML"){if((this.overflowOffset.top+this.scrollParent[0].offsetHeight)-g.pageY<h.scrollSensitivity){this.scrollParent[0].scrollTop=c=this.scrollParent[0].scrollTop+h.scrollSpeed}else{if(g.pageY-this.overflowOffset.top<h.scrollSensitivity){this.scrollParent[0].scrollTop=c=this.scrollParent[0].scrollTop-h.scrollSpeed}}if((this.overflowOffset.left+this.scrollParent[0].offsetWidth)-g.pageX<h.scrollSensitivity){this.scrollParent[0].scrollLeft=c=this.scrollParent[0].scrollLeft+h.scrollSpeed}else{if(g.pageX-this.overflowOffset.left<h.scrollSensitivity){this.scrollParent[0].scrollLeft=c=this.scrollParent[0].scrollLeft-h.scrollSpeed}}}else{if(g.pageY-a(document).scrollTop()<h.scrollSensitivity){c=a(document).scrollTop(a(document).scrollTop()-h.scrollSpeed)}else{if(a(window).height()-(g.pageY-a(document).scrollTop())<h.scrollSensitivity){c=a(document).scrollTop(a(document).scrollTop()+h.scrollSpeed)}}if(g.pageX-a(document).scrollLeft()<h.scrollSensitivity){c=a(document).scrollLeft(a(document).scrollLeft()-h.scrollSpeed)}else{if(a(window).width()-(g.pageX-a(document).scrollLeft())<h.scrollSensitivity){c=a(document).scrollLeft(a(document).scrollLeft()+h.scrollSpeed)}}}if(c!==false&&a.ui.ddmanager&&!h.dropBehaviour){a.ui.ddmanager.prepareOffsets(this,g)}}this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!="y"){this.helper[0].style.left=this.position.left+"px"}if(!this.options.axis||this.options.axis!="x"){this.helper[0].style.top=this.position.top+"px"}for(var e=this.items.length-1;e>=0;e--){var f=this.items[e],d=f.item[0],j=this._intersectsWithPointer(f);if(!j){continue}if(f.instance!==this.currentContainer){continue}if(d!=this.currentItem[0]&&this.placeholder[j==1?"next":"prev"]()[0]!=d&&!a.contains(this.placeholder[0],d)&&(this.options.type=="semi-dynamic"?!a.contains(this.element[0],d):true)){this.direction=j==1?"down":"up";if(this.options.tolerance=="pointer"||this._intersectsWithSides(f)){this._rearrange(g,f)}else{break}this._trigger("change",g,this._uiHash());break}}this._contactContainers(g);if(a.ui.ddmanager){a.ui.ddmanager.drag(this,g)}this._trigger("sort",g,this._uiHash());this.lastPositionAbs=this.positionAbs;return false},_mouseStop:function(d,e){if(!d){return}if(a.ui.ddmanager&&!this.options.dropBehaviour){a.ui.ddmanager.drop(this,d)}if(this.options.revert){var c=this;var f=this.placeholder.offset();this.reverting=true;a(this.helper).animate({left:f.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollLeft),top:f.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]==document.body?0:this.offsetParent[0].scrollTop)},parseInt(this.options.revert,10)||500,function(){c._clear(d)})}else{this._clear(d,e)}return false},cancel:function(){if(this.dragging){this._mouseUp({target:null});if(this.options.helper=="original"){this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}for(var c=this.containers.length-1;c>=0;c--){this.containers[c]._trigger("deactivate",null,this._uiHash(this));if(this.containers[c].containerCache.over){this.containers[c]._trigger("out",null,this._uiHash(this));this.containers[c].containerCache.over=0}}}if(this.placeholder){if(this.placeholder[0].parentNode){this.placeholder[0].parentNode.removeChild(this.placeholder[0])}if(this.options.helper!="original"&&this.helper&&this.helper[0].parentNode){this.helper.remove()}a.extend(this,{helper:null,dragging:false,reverting:false,_noFinalSort:null});if(this.domPosition.prev){a(this.domPosition.prev).after(this.currentItem)}else{a(this.domPosition.parent).prepend(this.currentItem)}}return this},serialize:function(e){var c=this._getItemsAsjQuery(e&&e.connected);var d=[];e=e||{};a(c).each(function(){var f=(a(e.item||this).attr(e.attribute||"id")||"").match(e.expression||(/(.+)[\-=_](.+)/));if(f){d.push((e.key||f[1]+"[]")+"="+(e.key&&e.expression?f[1]:f[2]))}});if(!d.length&&e.key){d.push(e.key+"=")}return d.join("&")},toArray:function(e){var c=this._getItemsAsjQuery(e&&e.connected);var d=[];e=e||{};c.each(function(){d.push(a(e.item||this).attr(e.attribute||"id")||"")});return d},_intersectsWith:function(m){var e=this.positionAbs.left,d=e+this.helperProportions.width,k=this.positionAbs.top,j=k+this.helperProportions.height;var f=m.left,c=f+m.width,n=m.top,i=n+m.height;var o=this.offset.click.top,h=this.offset.click.left;var g=(k+o)>n&&(k+o)<i&&(e+h)>f&&(e+h)<c;if(this.options.tolerance=="pointer"||this.options.forcePointerForContainers||(this.options.tolerance!="pointer"&&this.helperProportions[this.floating?"width":"height"]>m[this.floating?"width":"height"])){return g}else{return(f<e+(this.helperProportions.width/2)&&d-(this.helperProportions.width/2)<c&&n<k+(this.helperProportions.height/2)&&j-(this.helperProportions.height/2)<i)}},_intersectsWithPointer:function(e){var f=(this.options.axis==="x")||a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),d=(this.options.axis==="y")||a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),h=f&&d,c=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();if(!h){return false}return this.floating?(((g&&g=="right")||c=="down")?2:1):(c&&(c=="down"?2:1))},_intersectsWithSides:function(f){var d=a.ui.isOverAxis(this.positionAbs.top+this.offset.click.top,f.top+(f.height/2),f.height),e=a.ui.isOverAxis(this.positionAbs.left+this.offset.click.left,f.left+(f.width/2),f.width),c=this._getDragVerticalDirection(),g=this._getDragHorizontalDirection();if(this.floating&&g){return((g=="right"&&e)||(g=="left"&&!e))}else{return c&&((c=="down"&&d)||(c=="up"&&!d))}},_getDragVerticalDirection:function(){var c=this.positionAbs.top-this.lastPositionAbs.top;return c!==0&&(c>0?"down":"up")},_getDragHorizontalDirection:function(){var c=this.positionAbs.left-this.lastPositionAbs.left;return c!==0&&(c>0?"right":"left")},refresh:function(c){this._refreshItems(c);this.refreshPositions();return this},_connectWith:function(){var c=this.options;return c.connectWith.constructor==String?[c.connectWith]:c.connectWith},_getItemsAsjQuery:function(h){var c=[];var e=[];var g=this._connectWith();if(g&&h){for(var f=g.length-1;f>=0;f--){var l=a(g[f]);for(var d=l.length-1;d>=0;d--){var k=a.data(l[d],this.widgetFullName);if(k&&k!=this&&!k.options.disabled){e.push([a.isFunction(k.options.items)?k.options.items.call(k.element):a(k.options.items,k.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),k])}}}}e.push([a.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):a(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(var f=e.length-1;f>=0;f--){e[f][0].each(function(){c.push(this)})}return a(c)},_removeCurrentsFromItems:function(){var c=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=a.grep(this.items,function(e){for(var d=0;d<c.length;d++){if(c[d]==e.item[0]){return false}}return true})},_refreshItems:function(c){this.items=[];this.containers=[this];var k=this.items;var g=[[a.isFunction(this.options.items)?this.options.items.call(this.element[0],c,{item:this.currentItem}):a(this.options.items,this.element),this]];var m=this._connectWith();if(m&&this.ready){for(var f=m.length-1;f>=0;f--){var n=a(m[f]);for(var e=n.length-1;e>=0;e--){var h=a.data(n[e],this.widgetFullName);if(h&&h!=this&&!h.options.disabled){g.push([a.isFunction(h.options.items)?h.options.items.call(h.element[0],c,{item:this.currentItem}):a(h.options.items,h.element),h]);this.containers.push(h)}}}}for(var f=g.length-1;f>=0;f--){var l=g[f][1];var d=g[f][0];for(var e=0,o=d.length;e<o;e++){var p=a(d[e]);p.data(this.widgetName+"-item",l);k.push({item:p,instance:l,width:0,height:0,left:0,top:0})}}},refreshPositions:function(c){if(this.offsetParent&&this.helper){this.offset.parent=this._getParentOffset()}for(var e=this.items.length-1;e>=0;e--){var f=this.items[e];if(f.instance!=this.currentContainer&&this.currentContainer&&f.item[0]!=this.currentItem[0]){continue}var d=this.options.toleranceElement?a(this.options.toleranceElement,f.item):f.item;if(!c){f.width=d.outerWidth();f.height=d.outerHeight()}var g=d.offset();f.left=g.left;f.top=g.top}if(this.options.custom&&this.options.custom.refreshContainers){this.options.custom.refreshContainers.call(this)}else{for(var e=this.containers.length-1;e>=0;e--){var g=this.containers[e].element.offset();this.containers[e].containerCache.left=g.left;this.containers[e].containerCache.top=g.top;this.containers[e].containerCache.width=this.containers[e].element.outerWidth();this.containers[e].containerCache.height=this.containers[e].element.outerHeight()}}return this},_createPlaceholder:function(d){d=d||this;var e=d.options;if(!e.placeholder||e.placeholder.constructor==String){var c=e.placeholder;e.placeholder={element:function(){var f=a(document.createElement(d.currentItem[0].nodeName)).addClass(c||d.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper")[0];if(!c){f.style.visibility="hidden"}return f},update:function(f,g){if(c&&!e.forcePlaceholderSize){return}if(!g.height()){g.height(d.currentItem.innerHeight()-parseInt(d.currentItem.css("paddingTop")||0,10)-parseInt(d.currentItem.css("paddingBottom")||0,10))}if(!g.width()){g.width(d.currentItem.innerWidth()-parseInt(d.currentItem.css("paddingLeft")||0,10)-parseInt(d.currentItem.css("paddingRight")||0,10))}}}}d.placeholder=a(e.placeholder.element.call(d.element,d.currentItem));d.currentItem.after(d.placeholder);e.placeholder.update(d,d.placeholder)},_contactContainers:function(c){var e=null,n=null;for(var h=this.containers.length-1;h>=0;h--){if(a.contains(this.currentItem[0],this.containers[h].element[0])){continue}if(this._intersectsWith(this.containers[h].containerCache)){if(e&&a.contains(this.containers[h].element[0],e.element[0])){continue}e=this.containers[h];n=h}else{if(this.containers[h].containerCache.over){this.containers[h]._trigger("out",c,this._uiHash(this));this.containers[h].containerCache.over=0}}}if(!e){return}if(this.containers.length===1){this.containers[n]._trigger("over",c,this._uiHash(this));this.containers[n].containerCache.over=1}else{var m=10000;var k=null;var l=this.containers[n].floating?"left":"top";var o=this.containers[n].floating?"width":"height";var d=this.positionAbs[l]+this.offset.click[l];for(var f=this.items.length-1;f>=0;f--){if(!a.contains(this.containers[n].element[0],this.items[f].item[0])){continue}if(this.items[f].item[0]==this.currentItem[0]){continue}var p=this.items[f].item.offset()[l];var g=false;if(Math.abs(p-d)>Math.abs(p+this.items[f][o]-d)){g=true;p+=this.items[f][o]}if(Math.abs(p-d)<m){m=Math.abs(p-d);k=this.items[f];this.direction=g?"up":"down"}}if(!k&&!this.options.dropOnEmpty){return}this.currentContainer=this.containers[n];k?this._rearrange(c,k,null,true):this._rearrange(c,null,this.containers[n].element,true);this._trigger("change",c,this._uiHash());this.containers[n]._trigger("change",c,this._uiHash(this));this.options.placeholder.update(this.currentContainer,this.placeholder);this.containers[n]._trigger("over",c,this._uiHash(this));this.containers[n].containerCache.over=1}},_createHelper:function(d){var e=this.options;var c=a.isFunction(e.helper)?a(e.helper.apply(this.element[0],[d,this.currentItem])):(e.helper=="clone"?this.currentItem.clone():this.currentItem);if(!c.parents("body").length){a(e.appendTo!="parent"?e.appendTo:this.currentItem[0].parentNode)[0].appendChild(c[0])}if(c[0]==this.currentItem[0]){this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}}if(!c[0].style.width||e.forceHelperSize){c.width(this.currentItem.width())}if(!c[0].style.height||e.forceHelperSize){c.height(this.currentItem.height())}return c},_adjustOffsetFromHelper:function(c){if(typeof c=="string"){c=c.split(" ")}if(a.isArray(c)){c={left:+c[0],top:+c[1]||0}}if("left" in c){this.offset.click.left=c.left+this.margins.left}if("right" in c){this.offset.click.left=this.helperProportions.width-c.right+this.margins.left}if("top" in c){this.offset.click.top=c.top+this.margins.top}if("bottom" in c){this.offset.click.top=this.helperProportions.height-c.bottom+this.margins.top}},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var c=this.offsetParent.offset();if(this.cssPosition=="absolute"&&this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0])){c.left+=this.scrollParent.scrollLeft();c.top+=this.scrollParent.scrollTop()}if((this.offsetParent[0]==document.body)||(this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()=="html"&&a.ui.ie)){c={top:0,left:0}}return{top:c.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:c.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition=="relative"){var c=this.currentItem.position();return{top:c.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:c.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}else{return{top:0,left:0}}},_cacheMargins:function(){this.margins={left:(parseInt(this.currentItem.css("marginLeft"),10)||0),top:(parseInt(this.currentItem.css("marginTop"),10)||0)}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var f=this.options;if(f.containment=="parent"){f.containment=this.helper[0].parentNode}if(f.containment=="document"||f.containment=="window"){this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,a(f.containment=="document"?document:window).width()-this.helperProportions.width-this.margins.left,(a(f.containment=="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]}if(!(/^(document|window|parent)$/).test(f.containment)){var d=a(f.containment)[0];var e=a(f.containment).offset();var c=(a(d).css("overflow")!="hidden");this.containment=[e.left+(parseInt(a(d).css("borderLeftWidth"),10)||0)+(parseInt(a(d).css("paddingLeft"),10)||0)-this.margins.left,e.top+(parseInt(a(d).css("borderTopWidth"),10)||0)+(parseInt(a(d).css("paddingTop"),10)||0)-this.margins.top,e.left+(c?Math.max(d.scrollWidth,d.offsetWidth):d.offsetWidth)-(parseInt(a(d).css("borderLeftWidth"),10)||0)-(parseInt(a(d).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,e.top+(c?Math.max(d.scrollHeight,d.offsetHeight):d.offsetHeight)-(parseInt(a(d).css("borderTopWidth"),10)||0)-(parseInt(a(d).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top]}},_convertPositionTo:function(f,h){if(!h){h=this.position}var e=f=="absolute"?1:-1;var c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,g=(/(html|body)/i).test(c[0].tagName);return{top:(h.top+this.offset.relative.top*e+this.offset.parent.top*e-((this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(g?0:c.scrollTop()))*e)),left:(h.left+this.offset.relative.left*e+this.offset.parent.left*e-((this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():g?0:c.scrollLeft())*e))}},_generatePosition:function(f){var i=this.options,c=this.cssPosition=="absolute"&&!(this.scrollParent[0]!=document&&a.contains(this.scrollParent[0],this.offsetParent[0]))?this.offsetParent:this.scrollParent,j=(/(html|body)/i).test(c[0].tagName);if(this.cssPosition=="relative"&&!(this.scrollParent[0]!=document&&this.scrollParent[0]!=this.offsetParent[0])){this.offset.relative=this._getRelativeOffset()}var e=f.pageX;var d=f.pageY;if(this.originalPosition){if(this.containment){if(f.pageX-this.offset.click.left<this.containment[0]){e=this.containment[0]+this.offset.click.left}if(f.pageY-this.offset.click.top<this.containment[1]){d=this.containment[1]+this.offset.click.top}if(f.pageX-this.offset.click.left>this.containment[2]){e=this.containment[2]+this.offset.click.left}if(f.pageY-this.offset.click.top>this.containment[3]){d=this.containment[3]+this.offset.click.top}}if(i.grid){var h=this.originalPageY+Math.round((d-this.originalPageY)/i.grid[1])*i.grid[1];d=this.containment?((h-this.offset.click.top>=this.containment[1]&&h-this.offset.click.top<=this.containment[3])?h:((h-this.offset.click.top>=this.containment[1])?h-i.grid[1]:h+i.grid[1])):h;var g=this.originalPageX+Math.round((e-this.originalPageX)/i.grid[0])*i.grid[0];e=this.containment?((g-this.offset.click.left>=this.containment[0]&&g-this.offset.click.left<=this.containment[2])?g:((g-this.offset.click.left>=this.containment[0])?g-i.grid[0]:g+i.grid[0])):g}}return{top:(d-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+((this.cssPosition=="fixed"?-this.scrollParent.scrollTop():(j?0:c.scrollTop())))),left:(e-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+((this.cssPosition=="fixed"?-this.scrollParent.scrollLeft():j?0:c.scrollLeft())))}},_rearrange:function(g,f,d,e){d?d[0].appendChild(this.placeholder[0]):f.item[0].parentNode.insertBefore(this.placeholder[0],(this.direction=="down"?f.item[0]:f.item[0].nextSibling));this.counter=this.counter?++this.counter:1;var c=this.counter;this._delay(function(){if(c==this.counter){this.refreshPositions(!e)}})},_clear:function(d,e){this.reverting=false;var f=[];if(!this._noFinalSort&&this.currentItem.parent().length){this.placeholder.before(this.currentItem)}this._noFinalSort=null;if(this.helper[0]==this.currentItem[0]){for(var c in this._storedCSS){if(this._storedCSS[c]=="auto"||this._storedCSS[c]=="static"){this._storedCSS[c]=""}}this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else{this.currentItem.show()}if(this.fromOutside&&!e){f.push(function(g){this._trigger("receive",g,this._uiHash(this.fromOutside))})}if((this.fromOutside||this.domPosition.prev!=this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!=this.currentItem.parent()[0])&&!e){f.push(function(g){this._trigger("update",g,this._uiHash())})}if(this!==this.currentContainer){if(!e){f.push(function(g){this._trigger("remove",g,this._uiHash())});f.push((function(g){return function(h){g._trigger("receive",h,this._uiHash(this))}}).call(this,this.currentContainer));f.push((function(g){return function(h){g._trigger("update",h,this._uiHash(this))}}).call(this,this.currentContainer))}}for(var c=this.containers.length-1;c>=0;c--){if(!e){f.push((function(g){return function(h){g._trigger("deactivate",h,this._uiHash(this))}}).call(this,this.containers[c]))}if(this.containers[c].containerCache.over){f.push((function(g){return function(h){g._trigger("out",h,this._uiHash(this))}}).call(this,this.containers[c]));this.containers[c].containerCache.over=0}}if(this._storedCursor){a("body").css("cursor",this._storedCursor)}if(this._storedOpacity){this.helper.css("opacity",this._storedOpacity)}if(this._storedZIndex){this.helper.css("zIndex",this._storedZIndex=="auto"?"":this._storedZIndex)}this.dragging=false;if(this.cancelHelperRemoval){if(!e){this._trigger("beforeStop",d,this._uiHash());for(var c=0;c<f.length;c++){f[c].call(this,d)}this._trigger("stop",d,this._uiHash())}this.fromOutside=false;return false}if(!e){this._trigger("beforeStop",d,this._uiHash())}this.placeholder[0].parentNode.removeChild(this.placeholder[0]);if(this.helper[0]!=this.currentItem[0]){this.helper.remove()}this.helper=null;if(!e){for(var c=0;c<f.length;c++){f[c].call(this,d)}this._trigger("stop",d,this._uiHash())}this.fromOutside=false;return true},_trigger:function(){if(a.Widget.prototype._trigger.apply(this,arguments)===false){this.cancel()}},_uiHash:function(c){var d=c||this;return{helper:d.helper,placeholder:d.placeholder||a([]),position:d.position,originalPosition:d.originalPosition,offset:d.positionAbs,item:d.currentItem,sender:c?c.element:null}}})})(jQuery);(function(a){a.fn.editable=function(b){var c={onEdit:null,onSubmit:null,onCancel:null,editClass:null,submit:null,cancel:null,type:"text",submitBy:"blur",editBy:"click",options:null};if(b=="disable"){return this.unbind(this.data("editable.options").editBy,this.data("editable.options").toEditable)}if(b=="enable"){return this.bind(this.data("editable.options").editBy,this.data("editable.options").toEditable)}if(b=="destroy"){return this.unbind(this.data("editable.options").editBy,this.data("editable.options").toEditable).data("editable.previous",null).data("editable.current",null).data("editable.options",null)}var b=a.extend(c,b);b.toEditable=function(){$this=a(this);$this.data("editable.current",$this.html());opts=$this.data("editable.options");a.editableFactory[opts.type].toEditable($this.empty(),opts);$this.data("editable.previous",$this.data("editable.current")).children().focus().select().addClass(opts.editClass);$this.one(opts.submitBy,function(){opts.toNonEditable(a(this),true)}).children().one(opts.submitBy,function(){opts.toNonEditable(a(this).parent(),true)});if(a.isFunction(opts.onEdit)){opts.onEdit.apply($this,[{current:$this.data("editable.current"),previous:$this.data("editable.previous")}])}};b.toNonEditable=function(e,f){opts=e.data("editable.options");e.one(opts.editBy,opts.toEditable).data("editable.current",f?a.editableFactory[opts.type].getValue(e,opts):e.data("editable.current")).html(opts.type=="password"?"*****":e.data("editable.current"));var d=null;if(a.isFunction(opts.onSubmit)&&f==true){d=opts.onSubmit}else{if(a.isFunction(opts.onCancel)&&f==false){d=opts.onCancel}}if(d!=null){d.apply(e,[{current:e.data("editable.current"),previous:e.data("editable.previous")}])}};this.data("editable.options",b);return this.one(b.editBy,b.toEditable)};a.editableFactory={text:{toEditable:function(c,b){a("<input/>").appendTo(c).val(c.data("editable.current"))},getValue:function(c,b){return c.children().val()}},password:{toEditable:function(c,b){c.data("editable.current",c.data("editable.password"));c.data("editable.previous",c.data("editable.password"));a('<input type="password"/>').appendTo(c).val(c.data("editable.current"))},getValue:function(c,b){c.data("editable.password",c.children().val());return c.children().val()}},textarea:{toEditable:function(c,b){a("<textarea/>").appendTo(c).val(c.data("editable.current").replace(/&nbsp;/g," ").replace(/<br>/g,"\n"))},getValue:function(c,b){return c.children().val().replace(/\n/g,"<br>").replace(/\s/g,"&nbsp;")}},select:{toEditable:function(c,b){$select=a("<select/>").appendTo(c);a.each(b.options,function(d,e){a("<option/>").appendTo($select).html(e).attr("value",d)});$select.children().each(function(){var d=a(this);if(d.text()==c.data("editable.current")){return d.attr("selected","selected").text()}})},getValue:function(d,b){var c=null;a("select",d).children().each(function(){if(a(this).attr("selected")){return c=a(this).text()}});return c}}}})(jQuery);(function(f,b){var k,e,a,h,i="ui-button ui-widget ui-state-default ui-corner-all",c="ui-state-hover ui-state-active ",g="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",j=function(){var l=f(this).find(":ui-button");setTimeout(function(){l.button("refresh")},1)},d=function(m){var l=m.name,n=m.form,o=f([]);if(l){if(n){o=f(n).find("[name='"+l+"']")}else{o=f("[name='"+l+"']",m.ownerDocument).filter(function(){return !this.form})}}return o};f.widget("ui.button",{version:"@VERSION",defaultElement:"<button>",options:{disabled:null,text:true,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,j);if(typeof this.options.disabled!=="boolean"){this.options.disabled=!!this.element.prop("disabled")}else{this.element.prop("disabled",this.options.disabled)}this._determineButtonType();this.hasTitle=!!this.buttonElement.attr("title");var n=this,m=this.options,o=this.type==="checkbox"||this.type==="radio",p="ui-state-hover"+(!o?" ui-state-active":""),l="ui-state-focus";if(m.label===null){m.label=(this.type==="input"?this.buttonElement.val():this.buttonElement.html())}this.buttonElement.addClass(i).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){if(m.disabled){return}f(this).addClass("ui-state-hover");if(this===k){f(this).addClass("ui-state-active")}}).bind("mouseleave"+this.eventNamespace,function(){if(m.disabled){return}f(this).removeClass(p)}).bind("click"+this.eventNamespace,function(q){if(m.disabled){q.preventDefault();q.stopImmediatePropagation()}});this.element.bind("focus"+this.eventNamespace,function(){n.buttonElement.addClass(l)}).bind("blur"+this.eventNamespace,function(){n.buttonElement.removeClass(l)});if(o){this.element.bind("change"+this.eventNamespace,function(){if(h){return}n.refresh()});this.buttonElement.bind("mousedown"+this.eventNamespace,function(q){if(m.disabled){return}h=false;e=q.pageX;a=q.pageY}).bind("mouseup"+this.eventNamespace,function(q){if(m.disabled){return}if(e!==q.pageX||a!==q.pageY){h=true}})}if(this.type==="checkbox"){this.buttonElement.bind("click"+this.eventNamespace,function(){if(m.disabled||h){return false}f(this).toggleClass("ui-state-active");n.buttonElement.attr("aria-pressed",n.element[0].checked)})}else{if(this.type==="radio"){this.buttonElement.bind("click"+this.eventNamespace,function(){if(m.disabled||h){return false}f(this).addClass("ui-state-active");n.buttonElement.attr("aria-pressed","true");var q=n.element[0];d(q).not(q).map(function(){return f(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")})}else{this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(m.disabled){return false}f(this).addClass("ui-state-active");k=this;n.document.one("mouseup",function(){k=null})}).bind("mouseup"+this.eventNamespace,function(){if(m.disabled){return false}f(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(q){if(m.disabled){return false}if(q.keyCode===f.ui.keyCode.SPACE||q.keyCode===f.ui.keyCode.ENTER){f(this).addClass("ui-state-active")}}).bind("keyup"+this.eventNamespace,function(){f(this).removeClass("ui-state-active")});if(this.buttonElement.is("a")){this.buttonElement.keyup(function(q){if(q.keyCode===f.ui.keyCode.SPACE){f(this).click()}})}}}this._setOption("disabled",m.disabled);this._resetButton()},_determineButtonType:function(){var l,n,m;if(this.element.is("[type=checkbox]")){this.type="checkbox"}else{if(this.element.is("[type=radio]")){this.type="radio"}else{if(this.element.is("input")){this.type="input"}else{this.type="button"}}}if(this.type==="checkbox"||this.type==="radio"){l=this.element.parents().last();n="label[for='"+this.element.attr("id")+"']";this.buttonElement=l.find(n);if(!this.buttonElement.length){l=l.length?l.siblings():this.element.siblings();this.buttonElement=l.filter(n);if(!this.buttonElement.length){this.buttonElement=l.find(n)}}this.element.addClass("ui-helper-hidden-accessible");m=this.element.is(":checked");if(m){this.buttonElement.addClass("ui-state-active")}this.buttonElement.prop("aria-pressed",m)}else{this.buttonElement=this.element}},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible");this.buttonElement.removeClass(i+" "+c+" "+g).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html());if(!this.hasTitle){this.buttonElement.removeAttr("title")}},_setOption:function(l,m){this._super(l,m);if(l==="disabled"){if(m){this.element.prop("disabled",true)}else{this.element.prop("disabled",false)}return}this._resetButton()},refresh:function(){var l=this.element.is(":disabled");if(l!==this.options.disabled){this._setOption("disabled",l)}if(this.type==="radio"){d(this.element[0]).each(function(){if(f(this).is(":checked")){f(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true")}else{f(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}})}else{if(this.type==="checkbox"){if(this.element.is(":checked")){this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true")}else{this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false")}}}},_resetButton:function(){if(this.type==="input"){if(this.options.label){this.element.val(this.options.label)}return}var p=this.buttonElement.removeClass(g),n=f("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(p.empty()).text(),m=this.options.icons,l=m.primary&&m.secondary,o=[];if(m.primary||m.secondary){if(this.options.text){o.push("ui-button-text-icon"+(l?"s":(m.primary?"-primary":"-secondary")))}if(m.primary){p.prepend("<span class='ui-button-icon-primary ui-icon "+m.primary+"'></span>")}if(m.secondary){p.append("<span class='ui-button-icon-secondary ui-icon "+m.secondary+"'></span>")}if(!this.options.text){o.push(l?"ui-button-icons-only":"ui-button-icon-only");if(!this.hasTitle){p.attr("title",f.trim(n))}}}else{o.push("ui-button-text-only")}p.addClass(o.join(" "))}});f.widget("ui.buttonset",{version:"@VERSION",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(l,m){if(l==="disabled"){this.buttons.button("option",l,m)}this._super(l,m)},refresh:function(){var l=this.element.css("direction")==="rtl";this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return f(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(l?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(l?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset");this.buttons.map(function(){return f(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery));(function(b){function a(c){return function(){var d=this.element.val();c.apply(this,arguments);this._refresh();if(d!==this.element.val()){this._trigger("change")}}}b.widget("ui.spinner",{version:"@VERSION",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:true,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max);this._setOption("min",this.options.min);this._setOption("step",this.options.step);this._value(this.element.val(),true);this._draw();this._on(this._events);this._refresh();this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var c={},d=this.element;b.each(["min","max","step"],function(e,f){var g=d.attr(f);if(g!==undefined&&g.length){c[f]=g}});return c},_events:{keydown:function(c){if(this._start(c)&&this._keydown(c)){c.preventDefault()}},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(c){if(this.cancelBlur){delete this.cancelBlur;return}this._refresh();if(this.previous!==this.element.val()){this._trigger("change",c)}},mousewheel:function(c,d){if(!d){return}if(!this.spinning&&!this._start(c)){return false}this._spin((d>0?1:-1)*this.options.step,c);clearTimeout(this.mousewheelTimer);this.mousewheelTimer=this._delay(function(){if(this.spinning){this._stop(c)}},100);c.preventDefault()},"mousedown .ui-spinner-button":function(d){var c;c=this.element[0]===this.document[0].activeElement?this.previous:this.element.val();function e(){var f=this.element[0]===this.document[0].activeElement;if(!f){this.element.focus();this.previous=c;this._delay(function(){this.previous=c})}}d.preventDefault();e.call(this);this.cancelBlur=true;this._delay(function(){delete this.cancelBlur;e.call(this)});if(this._start(d)===false){return}this._repeat(null,b(d.currentTarget).hasClass("ui-spinner-up")?1:-1,d)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(c){if(!b(c.currentTarget).hasClass("ui-state-active")){return}if(this._start(c)===false){return false}this._repeat(null,b(c.currentTarget).hasClass("ui-spinner-up")?1:-1,c)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var c=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton");this.buttons=c.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all");if(this.buttons.height()>Math.ceil(c.height()*0.5)&&c.height()>0){c.height(c.height())}if(this.options.disabled){this.disable()}},_keydown:function(d){var c=this.options,e=b.ui.keyCode;switch(d.keyCode){case e.UP:this._repeat(null,1,d);return true;case e.DOWN:this._repeat(null,-1,d);return true;case e.PAGE_UP:this._repeat(null,c.page,d);return true;case e.PAGE_DOWN:this._repeat(null,-c.page,d);return true}return false},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(c){if(!this.spinning&&this._trigger("start",c)===false){return false}if(!this.counter){this.counter=1}this.spinning=true;return true},_repeat:function(d,c,e){d=d||500;clearTimeout(this.timer);this.timer=this._delay(function(){this._repeat(40,c,e)},d);this._spin(c*this.options.step,e)},_spin:function(d,c){var e=this.value()||0;if(!this.counter){this.counter=1}e=this._adjustValue(e+d*this._increment(this.counter));if(!this.spinning||this._trigger("spin",c,{value:e})!==false){this._value(e);this.counter++}},_increment:function(c){var d=this.options.incremental;if(d){return b.isFunction(d)?d(c):Math.floor(c*c*c/50000-c*c/500+17*c/200+1)}return 1},_precision:function(){var c=this._precisionOf(this.options.step);if(this.options.min!==null){c=Math.max(c,this._precisionOf(this.options.min))}return c},_precisionOf:function(d){var e=d.toString(),c=e.indexOf(".");return c===-1?0:e.length-c-1},_adjustValue:function(e){var d,f,c=this.options;d=c.min!==null?c.min:0;f=e-d;f=Math.round(f/c.step)*c.step;e=d+f;e=parseFloat(e.toFixed(this._precision()));if(c.max!==null&&e>c.max){return c.max}if(c.min!==null&&e<c.min){return c.min}return e},_stop:function(c){if(!this.spinning){return}clearTimeout(this.timer);clearTimeout(this.mousewheelTimer);this.counter=0;this.spinning=false;this._trigger("stop",c)},_setOption:function(c,d){if(c==="culture"||c==="numberFormat"){var e=this._parse(this.element.val());this.options[c]=d;this.element.val(this._format(e));return}if(c==="max"||c==="min"||c==="step"){if(typeof d==="string"){d=this._parse(d)}}this._super(c,d);if(c==="disabled"){if(d){this.element.prop("disabled",true);this.buttons.button("disable")}else{this.element.prop("disabled",false);this.buttons.button("enable")}}},_setOptions:a(function(c){this._super(c);this._value(this.element.val())}),_parse:function(c){if(typeof c==="string"&&c!==""){c=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(c,10,this.options.culture):+c}return c===""||isNaN(c)?null:c},_format:function(c){if(c===""){return""}return window.Globalize&&this.options.numberFormat?Globalize.format(c,this.options.numberFormat,this.options.culture):c},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(e,c){var d;if(e!==""){d=this._parse(e);if(d!==null){if(!c){d=this._adjustValue(d)}e=this._format(d)}}this.element.val(e);this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",false).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow");this.uiSpinner.replaceWith(this.element)},stepUp:a(function(c){this._stepUp(c)}),_stepUp:function(c){this._spin((c||1)*this.options.step)},stepDown:a(function(c){this._stepDown(c)}),_stepDown:function(c){this._spin((c||1)*-this.options.step)},pageUp:a(function(c){this._stepUp((c||1)*this.options.page)}),pageDown:a(function(c){this._stepDown((c||1)*this.options.page)}),value:function(c){if(!arguments.length){return this._parse(this.element.val())}a(this._value).call(this,c)},widget:function(){return this.uiSpinner}})}(jQuery));(function(b,c){var a=5;b.widget("ui.slider",b.ui.mouse,{version:"@VERSION",widgetEventPrefix:"slide",options:{animate:false,distance:0,max:100,min:0,orientation:"horizontal",range:false,step:1,value:0,values:null},_create:function(){var f,j=this.options,h=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),g="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",d=(j.values&&j.values.length)||1,e=[];this._keySliding=false;this._mouseSliding=false;this._animateOff=true;this._handleIndex=null;this._detectOrientation();this._mouseInit();this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"+(j.disabled?" ui-slider-disabled ui-disabled":""));this.range=b([]);if(j.range){if(j.range===true){if(!j.values){j.values=[this._valueMin(),this._valueMin()]}if(j.values.length&&j.values.length!==2){j.values=[j.values[0],j.values[0]]}}this.range=b("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+((j.range==="min"||j.range==="max")?" ui-slider-range-"+j.range:""))}for(f=h.length;f<d;f++){e.push(g)}this.handles=h.add(b(e.join("")).appendTo(this.element));this.handle=this.handles.eq(0);this.handles.add(this.range).filter("a").click(function(i){i.preventDefault()}).mouseenter(function(){if(!j.disabled){b(this).addClass("ui-state-hover")}}).mouseleave(function(){b(this).removeClass("ui-state-hover")}).focus(function(){if(!j.disabled){b(".ui-slider .ui-state-focus").removeClass("ui-state-focus");b(this).addClass("ui-state-focus")}else{b(this).blur()}}).blur(function(){b(this).removeClass("ui-state-focus")});this.handles.each(function(k){b(this).data("ui-slider-handle-index",k)});this._on(this.handles,{keydown:function(n){var o,l,k,m,i=b(n.target).data("ui-slider-handle-index");switch(n.keyCode){case b.ui.keyCode.HOME:case b.ui.keyCode.END:case b.ui.keyCode.PAGE_UP:case b.ui.keyCode.PAGE_DOWN:case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:n.preventDefault();if(!this._keySliding){this._keySliding=true;b(n.target).addClass("ui-state-active");o=this._start(n,i);if(o===false){return}}break}m=this.options.step;if(this.options.values&&this.options.values.length){l=k=this.values(i)}else{l=k=this.value()}switch(n.keyCode){case b.ui.keyCode.HOME:k=this._valueMin();break;case b.ui.keyCode.END:k=this._valueMax();break;case b.ui.keyCode.PAGE_UP:k=this._trimAlignValue(l+((this._valueMax()-this._valueMin())/a));break;case b.ui.keyCode.PAGE_DOWN:k=this._trimAlignValue(l-((this._valueMax()-this._valueMin())/a));break;case b.ui.keyCode.UP:case b.ui.keyCode.RIGHT:if(l===this._valueMax()){return}k=this._trimAlignValue(l+m);break;case b.ui.keyCode.DOWN:case b.ui.keyCode.LEFT:if(l===this._valueMin()){return}k=this._trimAlignValue(l-m);break}this._slide(n,i,k)},keyup:function(k){var i=b(k.target).data("ui-slider-handle-index");if(this._keySliding){this._keySliding=false;this._stop(k,i);this._change(k,i);b(k.target).removeClass("ui-state-active")}}});this._refreshValue();this._animateOff=false},_destroy:function(){this.handles.remove();this.range.remove();this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-slider-disabled ui-widget ui-widget-content ui-corner-all");this._mouseDestroy()},_mouseCapture:function(f){var j,m,e,h,l,n,i,d,k=this,g=this.options;if(g.disabled){return false}this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()};this.elementOffset=this.element.offset();j={x:f.pageX,y:f.pageY};m=this._normValueFromMouse(j);e=this._valueMax()-this._valueMin()+1;this.handles.each(function(o){var p=Math.abs(m-k.values(o));if(e>p){e=p;h=b(this);l=o}});if(g.range===true&&this.values(1)===g.min){l+=1;h=b(this.handles[l])}n=this._start(f,l);if(n===false){return false}this._mouseSliding=true;this._handleIndex=l;h.addClass("ui-state-active").focus();i=h.offset();d=!b(f.target).parents().andSelf().is(".ui-slider-handle");this._clickOffset=d?{left:0,top:0}:{left:f.pageX-i.left-(h.width()/2),top:f.pageY-i.top-(h.height()/2)-(parseInt(h.css("borderTopWidth"),10)||0)-(parseInt(h.css("borderBottomWidth"),10)||0)+(parseInt(h.css("marginTop"),10)||0)};if(!this.handles.hasClass("ui-state-hover")){this._slide(f,l,m)}this._animateOff=true;return true},_mouseStart:function(d){return true},_mouseDrag:function(f){var d={x:f.pageX,y:f.pageY},e=this._normValueFromMouse(d);this._slide(f,this._handleIndex,e);return false},_mouseStop:function(d){this.handles.removeClass("ui-state-active");this._mouseSliding=false;this._stop(d,this._handleIndex);this._change(d,this._handleIndex);this._handleIndex=null;this._clickOffset=null;this._animateOff=false;return false},_detectOrientation:function(){this.orientation=(this.options.orientation==="vertical")?"vertical":"horizontal"},_normValueFromMouse:function(e){var d,h,g,f,i;if(this.orientation==="horizontal"){d=this.elementSize.width;h=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)}else{d=this.elementSize.height;h=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)}g=(h/d);if(g>1){g=1}if(g<0){g=0}if(this.orientation==="vertical"){g=1-g}f=this._valueMax()-this._valueMin();i=this._valueMin()+g*f;return this._trimAlignValue(i)},_start:function(f,e){var d={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){d.value=this.values(e);d.values=this.values()}return this._trigger("start",f,d)},_slide:function(h,g,f){var d,e,i;if(this.options.values&&this.options.values.length){d=this.values(g?0:1);if((this.options.values.length===2&&this.options.range===true)&&((g===0&&f>d)||(g===1&&f<d))){f=d}if(f!==this.values(g)){e=this.values();e[g]=f;i=this._trigger("slide",h,{handle:this.handles[g],value:f,values:e});d=this.values(g?0:1);if(i!==false){this.values(g,f,true)}}}else{if(f!==this.value()){i=this._trigger("slide",h,{handle:this.handles[g],value:f});if(i!==false){this.value(f)}}}},_stop:function(f,e){var d={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){d.value=this.values(e);d.values=this.values()}this._trigger("stop",f,d)},_change:function(f,e){if(!this._keySliding&&!this._mouseSliding){var d={handle:this.handles[e],value:this.value()};if(this.options.values&&this.options.values.length){d.value=this.values(e);d.values=this.values()}this._trigger("change",f,d)}},value:function(d){if(arguments.length){this.options.value=this._trimAlignValue(d);this._refreshValue();this._change(null,0);return}return this._value()},values:function(e,h){var g,d,f;if(arguments.length>1){this.options.values[e]=this._trimAlignValue(h);this._refreshValue();this._change(null,e);return}if(arguments.length){if(b.isArray(arguments[0])){g=this.options.values;d=arguments[0];for(f=0;f<g.length;f+=1){g[f]=this._trimAlignValue(d[f]);this._change(null,f)}this._refreshValue()}else{if(this.options.values&&this.options.values.length){return this._values(e)}else{return this.value()}}}else{return this._values()}},_setOption:function(e,f){var d,g=0;if(b.isArray(this.options.values)){g=this.options.values.length}b.Widget.prototype._setOption.apply(this,arguments);switch(e){case"disabled":if(f){this.handles.filter(".ui-state-focus").blur();this.handles.removeClass("ui-state-hover");this.handles.prop("disabled",true);this.element.addClass("ui-disabled")}else{this.handles.prop("disabled",false);this.element.removeClass("ui-disabled")}break;case"orientation":this._detectOrientation();this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation);this._refreshValue();break;case"value":this._animateOff=true;this._refreshValue();this._change(null,0);this._animateOff=false;break;case"values":this._animateOff=true;this._refreshValue();for(d=0;d<g;d+=1){this._change(null,d)}this._animateOff=false;break}},_value:function(){var d=this.options.value;d=this._trimAlignValue(d);return d},_values:function(d){var g,f,e;if(arguments.length){g=this.options.values[d];g=this._trimAlignValue(g);return g}else{f=this.options.values.slice();for(e=0;e<f.length;e+=1){f[e]=this._trimAlignValue(f[e])}return f}},_trimAlignValue:function(g){if(g<=this._valueMin()){return this._valueMin()}if(g>=this._valueMax()){return this._valueMax()}var d=(this.options.step>0)?this.options.step:1,f=(g-this._valueMin())%d,e=g-f;if(Math.abs(f)*2>=d){e+=(f>0)?d:(-d)}return parseFloat(e.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var i,h,l,j,m,g=this.options.range,f=this.options,k=this,e=(!this._animateOff)?f.animate:false,d={};if(this.options.values&&this.options.values.length){this.handles.each(function(o,n){h=(k.values(o)-k._valueMin())/(k._valueMax()-k._valueMin())*100;d[k.orientation==="horizontal"?"left":"bottom"]=h+"%";b(this).stop(1,1)[e?"animate":"css"](d,f.animate);if(k.options.range===true){if(k.orientation==="horizontal"){if(o===0){k.range.stop(1,1)[e?"animate":"css"]({left:h+"%"},f.animate)}if(o===1){k.range[e?"animate":"css"]({width:(h-i)+"%"},{queue:false,duration:f.animate})}}else{if(o===0){k.range.stop(1,1)[e?"animate":"css"]({bottom:(h)+"%"},f.animate)}if(o===1){k.range[e?"animate":"css"]({height:(h-i)+"%"},{queue:false,duration:f.animate})}}}i=h})}else{l=this.value();j=this._valueMin();m=this._valueMax();h=(m!==j)?(l-j)/(m-j)*100:0;d[this.orientation==="horizontal"?"left":"bottom"]=h+"%";this.handle.stop(1,1)[e?"animate":"css"](d,f.animate);if(g==="min"&&this.orientation==="horizontal"){this.range.stop(1,1)[e?"animate":"css"]({width:h+"%"},f.animate)}if(g==="max"&&this.orientation==="horizontal"){this.range[e?"animate":"css"]({width:(100-h)+"%"},{queue:false,duration:f.animate})}if(g==="min"&&this.orientation==="vertical"){this.range.stop(1,1)[e?"animate":"css"]({height:h+"%"},f.animate)}if(g==="max"&&this.orientation==="vertical"){this.range[e?"animate":"css"]({height:(100-h)+"%"},{queue:false,duration:f.animate})}}}})}(jQuery));(function(b,c){var a=false;b.widget("ui.menu",{version:"@VERSION",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,b.proxy(function(d){if(this.options.disabled){d.preventDefault()}},this));if(this.options.disabled){this.element.addClass("ui-state-disabled").attr("aria-disabled","true")}this._on({"mousedown .ui-menu-item > a":function(d){d.preventDefault()},"click .ui-state-disabled > a":function(d){d.preventDefault()},"click .ui-menu-item:has(a)":function(d){var e=b(d.target).closest(".ui-menu-item");if(!a&&e.not(".ui-state-disabled").length){a=true;this.select(d);if(e.has(".ui-menu").length){this.expand(d)}else{if(!this.element.is(":focus")){this.element.trigger("focus",[true]);if(this.active&&this.active.parents(".ui-menu").length===1){clearTimeout(this.timer)}}}}},"mouseenter .ui-menu-item":function(d){var e=b(d.currentTarget);e.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(d,e)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(f,d){var e=this.active||this.element.children(".ui-menu-item").eq(0);if(!d){this.focus(f,e)}},blur:function(d){this._delay(function(){if(!b.contains(this.element[0],this.document[0].activeElement)){this.collapseAll(d)}})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(d){if(!b(d.target).closest(".ui-menu").length){this.collapseAll(d)}a=false}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").andSelf().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show();this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var d=b(this);if(d.data("ui-menu-submenu-carat")){d.remove()}});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(j){var e,i,k,h,g,d=true;function f(l){return l.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}switch(j.keyCode){case b.ui.keyCode.PAGE_UP:this.previousPage(j);break;case b.ui.keyCode.PAGE_DOWN:this.nextPage(j);break;case b.ui.keyCode.HOME:this._move("first","first",j);break;case b.ui.keyCode.END:this._move("last","last",j);break;case b.ui.keyCode.UP:this.previous(j);break;case b.ui.keyCode.DOWN:this.next(j);break;case b.ui.keyCode.LEFT:this.collapse(j);break;case b.ui.keyCode.RIGHT:if(this.active&&!this.active.is(".ui-state-disabled")){this.expand(j)}break;case b.ui.keyCode.ENTER:case b.ui.keyCode.SPACE:this._activate(j);break;case b.ui.keyCode.ESCAPE:this.collapse(j);break;default:d=false;i=this.previousFilter||"";k=String.fromCharCode(j.keyCode);h=false;clearTimeout(this.filterTimer);if(k===i){h=true}else{k=i+k}g=new RegExp("^"+f(k),"i");e=this.activeMenu.children(".ui-menu-item").filter(function(){return g.test(b(this).children("a").text())});e=h&&e.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):e;if(!e.length){k=String.fromCharCode(j.keyCode);g=new RegExp("^"+f(k),"i");e=this.activeMenu.children(".ui-menu-item").filter(function(){return g.test(b(this).children("a").text())})}if(e.length){this.focus(j,e);if(e.length>1){this.previousFilter=k;this.filterTimer=this._delay(function(){delete this.previousFilter},1000)}else{delete this.previousFilter}}else{delete this.previousFilter}}if(d){j.preventDefault()}},_activate:function(d){if(!this.active.is(".ui-state-disabled")){if(this.active.children("a[aria-haspopup='true']").length){this.expand(d)}else{this.select(d)}}},refresh:function(){var f,e=this.options.icons.submenu,d=this.element.find(this.options.menus);d.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var i=b(this),h=i.prev("a"),g=b("<span>").addClass("ui-menu-icon ui-icon "+e).data("ui-menu-submenu-carat",true);h.attr("aria-haspopup","true").prepend(g);i.attr("aria-labelledby",h.attr("id"))});f=d.add(this.element);f.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()});f.children(":not(.ui-menu-item)").each(function(){var g=b(this);if(!/[^\-\s]/.test(g.text())){g.addClass("ui-widget-content ui-menu-divider")}});f.children(".ui-state-disabled").attr("aria-disabled","true");if(this.active&&!b.contains(this.element[0],this.active[0])){this.blur()}},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},focus:function(e,d){var g,f;this.blur(e,e&&e.type==="focus");this._scrollIntoView(d);this.active=d.first();f=this.active.children("a").addClass("ui-state-focus");if(this.options.role){this.element.attr("aria-activedescendant",f.attr("id"))}this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");if(e&&e.type==="keydown"){this._close()}else{this.timer=this._delay(function(){this._close()},this.delay)}g=d.children(".ui-menu");if(g.length&&(/^mouse/.test(e.type))){this._startOpening(g)}this.activeMenu=d.parent();this._trigger("focus",e,{item:d})},_scrollIntoView:function(g){var j,f,h,d,e,i;if(this._hasScroll()){j=parseFloat(b.css(this.activeMenu[0],"borderTopWidth"))||0;f=parseFloat(b.css(this.activeMenu[0],"paddingTop"))||0;h=g.offset().top-this.activeMenu.offset().top-j-f;d=this.activeMenu.scrollTop();e=this.activeMenu.height();i=g.height();if(h<0){this.activeMenu.scrollTop(d+h)}else{if(h+i>e){this.activeMenu.scrollTop(d+h-e+i)}}}},blur:function(e,d){if(!d){clearTimeout(this.timer)}if(!this.active){return}this.active.children("a").removeClass("ui-state-focus");this.active=null;this._trigger("blur",e,{item:this.active})},_startOpening:function(d){clearTimeout(this.timer);if(d.attr("aria-hidden")!=="true"){return}this.timer=this._delay(function(){this._close();this._open(d)},this.delay)},_open:function(e){var d=b.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true");e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(d)},collapseAll:function(e,d){clearTimeout(this.timer);this.timer=this._delay(function(){var f=d?this.element:b(e&&e.target).closest(this.element.find(".ui-menu"));if(!f.length){f=this.element}this._close(f);this.blur(e);this.activeMenu=f},this.delay)},_close:function(d){if(!d){d=this.active?this.active.parent():this.element}d.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var d=this.active&&this.active.parent().closest(".ui-menu-item",this.element);if(d&&d.length){this._close();this.focus(e,d)}},expand:function(e){var d=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();if(d&&d.length){this._open(d.parent());this._delay(function(){this.focus(e,d)})}},next:function(d){this._move("next","first",d)},previous:function(d){this._move("prev","last",d)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(g,e,f){var d;if(this.active){if(g==="first"||g==="last"){d=this.active[g==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1)}else{d=this.active[g+"All"](".ui-menu-item").eq(0)}}if(!d||!d.length||!this.active){d=this.activeMenu.children(".ui-menu-item")[e]()}this.focus(f,d)},nextPage:function(f){var e,g,d;if(!this.active){this.next(f);return}if(this.isLastItem()){return}if(this._hasScroll()){g=this.active.offset().top;d=this.element.height();this.active.nextAll(".ui-menu-item").each(function(){e=b(this);return e.offset().top-g-d<0});this.focus(f,e)}else{this.focus(f,this.activeMenu.children(".ui-menu-item")[!this.active?"first":"last"]())}},previousPage:function(f){var e,g,d;if(!this.active){this.next(f);return}if(this.isFirstItem()){return}if(this._hasScroll()){g=this.active.offset().top;d=this.element.height();this.active.prevAll(".ui-menu-item").each(function(){e=b(this);return e.offset().top-g+d>0});this.focus(f,e)}else{this.focus(f,this.activeMenu.children(".ui-menu-item").first())}},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(d){this.active=this.active||b(d.target).closest(".ui-menu-item");var e={item:this.active};if(!this.active.has(".ui-menu").length){this.collapseAll(d,true)}this._trigger("select",d,e)}})}(jQuery));(function(d,e){var b=0,c={},a={};c.height=c.paddingTop=c.paddingBottom=c.borderTopWidth=c.borderBottomWidth="hide";a.height=a.paddingTop=a.paddingBottom=a.borderTopWidth=a.borderBottomWidth="show";d.widget("ui.accordion",{version:"@VERSION",options:{active:0,animate:{},collapsible:false,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var f=this.options;this.prevShow=this.prevHide=d();this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist");if(!f.collapsible&&(f.active===false||f.active==null)){f.active=0}this._processPanels();if(f.active<0){f.active+=this.headers.length}this._refresh()},_getCreateEventData:function(){return{header:this.active,content:!this.active.length?d():this.active.next()}},_createIcons:function(){var f=this.options.icons;if(f){d("<span>").addClass("ui-accordion-header-icon ui-icon "+f.header).prependTo(this.headers);this.active.children(".ui-accordion-header-icon").removeClass(f.header).addClass(f.activeHeader);this.headers.addClass("ui-accordion-icons")}},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var f;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role");this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){if(/^ui-accordion/.test(this.id)){this.removeAttribute("id")}});this._destroyIcons();f=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){if(/^ui-accordion/.test(this.id)){this.removeAttribute("id")}});if(this.options.heightStyle!=="content"){f.css("height","")}},_setOption:function(f,g){if(f==="active"){this._activate(g);return}if(f==="event"){if(this.options.event){this._off(this.headers,this.options.event)}this._setupEvents(g)}this._super(f,g);if(f==="collapsible"&&!g&&this.options.active===false){this._activate(0)}if(f==="icons"){this._destroyIcons();if(g){this._createIcons()}}if(f==="disabled"){this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!g)}},_keydown:function(i){if(i.altKey||i.ctrlKey){return}var j=d.ui.keyCode,h=this.headers.length,f=this.headers.index(i.target),g=false;switch(i.keyCode){case j.RIGHT:case j.DOWN:g=this.headers[(f+1)%h];break;case j.LEFT:case j.UP:g=this.headers[(f-1+h)%h];break;case j.SPACE:case j.ENTER:this._eventHandler(i);break;case j.HOME:g=this.headers[0];break;case j.END:g=this.headers[h-1];break}if(g){d(i.target).attr("tabIndex",-1);d(g).attr("tabIndex",0);g.focus();i.preventDefault()}},_panelKeyDown:function(f){if(f.keyCode===d.ui.keyCode.UP&&f.ctrlKey){d(f.currentTarget).prev().focus()}},refresh:function(){var f=this.options;this._processPanels();if((f.active===false&&f.collapsible===true)||!this.headers.length){f.active=false;this.active=d()}if(f.active===false){this._activate(0)}else{if(this.active.length&&!d.contains(this.element[0],this.active[0])){if(this.headers.length===this.headers.find(".ui-state-disabled").length){f.active=false;this.active=d()}else{this._activate(Math.max(0,f.active-1))}}else{f.active=this.headers.index(this.active)}}this._destroyIcons();this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all");this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var j,h=this.options,g=h.heightStyle,i=this.element.parent(),f=this.accordionId="ui-accordion-"+(this.element.attr("id")||++b);this.active=this._findActive(h.active).addClass("ui-accordion-header-active ui-state-active").toggleClass("ui-corner-all ui-corner-top");this.active.next().addClass("ui-accordion-content-active").show();this.headers.attr("role","tab").each(function(n){var o=d(this),m=o.attr("id"),k=o.next(),l=k.attr("id");if(!m){m=f+"-header-"+n;o.attr("id",m)}if(!l){l=f+"-panel-"+n;k.attr("id",l)}o.attr("aria-controls",l);k.attr("aria-labelledby",m)}).next().attr("role","tabpanel");this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide();if(!this.active.length){this.headers.eq(0).attr("tabIndex",0)}else{this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"})}this._createIcons();this._setupEvents(h.event);if(g==="fill"){j=i.height();this.element.siblings(":visible").each(function(){var l=d(this),k=l.css("position");if(k==="absolute"||k==="fixed"){return}j-=l.outerHeight(true)});this.headers.each(function(){j-=d(this).outerHeight(true)});this.headers.next().each(function(){d(this).height(Math.max(0,j-d(this).innerHeight()+d(this).height()))}).css("overflow","auto")}else{if(g==="auto"){j=0;this.headers.next().each(function(){j=Math.max(j,d(this).height("").height())}).height(j)}}},_activate:function(f){var g=this._findActive(f)[0];if(g===this.active[0]){return}g=g||this.active[0];this._eventHandler({target:g,currentTarget:g,preventDefault:d.noop})},_findActive:function(f){return typeof f==="number"?this.headers.eq(f):d()},_setupEvents:function(g){var f={keydown:"_keydown"};if(g){d.each(g.split(" "),function(i,h){f[h]="_eventHandler"})}this._off(this.headers.add(this.headers.next()));this._on(this.headers,f);this._on(this.headers.next(),{keydown:"_panelKeyDown"});this._hoverable(this.headers);this._focusable(this.headers)},_eventHandler:function(f){var n=this.options,i=this.active,j=d(f.currentTarget),l=j[0]===i[0],g=l&&n.collapsible,h=g?d():j.next(),k=i.next(),m={oldHeader:i,oldPanel:k,newHeader:g?d():j,newPanel:h};f.preventDefault();if((l&&!n.collapsible)||(this._trigger("beforeActivate",f,m)===false)){return}n.active=g?false:this.headers.index(j);this.active=l?d():j;this._toggle(m);i.removeClass("ui-accordion-header-active ui-state-active");if(n.icons){i.children(".ui-accordion-header-icon").removeClass(n.icons.activeHeader).addClass(n.icons.header)}if(!l){j.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top");if(n.icons){j.children(".ui-accordion-header-icon").removeClass(n.icons.header).addClass(n.icons.activeHeader)}j.next().addClass("ui-accordion-content-active")}},_toggle:function(h){var f=h.newPanel,g=this.prevShow.length?this.prevShow:h.oldPanel;this.prevShow.add(this.prevHide).stop(true,true);this.prevShow=f;this.prevHide=g;if(this.options.animate){this._animate(f,g,h)}else{g.hide();f.show();this._toggleComplete(h)}g.attr({"aria-expanded":"false","aria-hidden":"true"});g.prev().attr("aria-selected","false");if(f.length&&g.length){g.prev().attr("tabIndex",-1)}else{if(f.length){this.headers.filter(function(){return d(this).attr("tabIndex")===0}).attr("tabIndex",-1)}}f.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(f,n,j){var m,l,i,k=this,o=0,p=f.length&&(!n.length||(f.index()<n.index())),h=this.options.animate||{},q=p&&h.down||h,g=function(){k._toggleComplete(j)};if(typeof q==="number"){i=q}if(typeof q==="string"){l=q}l=l||q.easing||h.easing;i=i||q.duration||h.duration;if(!n.length){return f.animate(a,i,l,g)}if(!f.length){return n.animate(c,i,l,g)}m=f.show().outerHeight();n.animate(c,{duration:i,easing:l,step:function(r,s){s.now=Math.round(r)}});f.hide().animate(a,{duration:i,easing:l,complete:g,step:function(r,s){s.now=Math.round(r);if(s.prop!=="height"){o+=s.now}else{if(k.options.heightStyle!=="content"){s.now=Math.round(m-n.outerHeight()-o);o=0}}}})},_toggleComplete:function(g){var f=g.oldPanel;f.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all");if(f.length){f.parent()[0].className=f.parent()[0].className}this._trigger("activate",null,g)}})})(jQuery);(function(d){var b=0;function c(f,g){var e=(f.attr("aria-describedby")||"").split(/\s+/);e.push(g);f.data("ui-tooltip-id",g).attr("aria-describedby",d.trim(e.join(" ")))}function a(g){var h=g.data("ui-tooltip-id"),f=(g.attr("aria-describedby")||"").split(/\s+/),e=d.inArray(h,f);if(e!==-1){f.splice(e,1)}g.removeData("ui-tooltip-id");f=d.trim(f.join(" "));if(f){g.attr("aria-describedby",f)}else{g.removeAttr("aria-describedby")}}d.widget("ui.tooltip",{version:"@VERSION",options:{content:function(){return d(this).attr("title")},hide:true,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:true,tooltipClass:null,track:false,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"});this.tooltips={};this.parents={};if(this.options.disabled){this._disable()}},_setOption:function(e,g){var f=this;if(e==="disabled"){this[g?"_disable":"_enable"]();this.options[e]=g;return}this._super(e,g);if(e==="content"){d.each(this.tooltips,function(i,h){f._updateContent(h)})}},_disable:function(){var e=this;d.each(this.tooltips,function(h,f){var g=d.Event("blur");g.target=g.currentTarget=f[0];e.close(g,true)});this.element.find(this.options.items).andSelf().each(function(){var f=d(this);if(f.is("[title]")){f.data("ui-tooltip-title",f.attr("title")).attr("title","")}})},_enable:function(){this.element.find(this.options.items).andSelf().each(function(){var e=d(this);if(e.data("ui-tooltip-title")){e.attr("title",e.data("ui-tooltip-title"))}})},open:function(f){var e=this,g=d(f?f.target:this.element).closest(this.options.items);if(!g.length){return}if(this.options.track&&g.data("ui-tooltip-id")){this._find(g).position(d.extend({of:g},this.options.position));this._off(this.document,"mousemove");return}if(g.attr("title")){g.data("ui-tooltip-title",g.attr("title"))}g.data("ui-tooltip-open",true);if(f&&f.type==="mouseover"){g.parents().each(function(){var i=d(this),h;if(i.data("ui-tooltip-open")){h=d.Event("blur");h.target=h.currentTarget=this;e.close(h,true)}if(i.attr("title")){i.uniqueId();e.parents[this.id]={element:this,title:i.attr("title")};i.attr("title","")}})}this._updateContent(g,f)},_updateContent:function(i,h){var g,e=this.options.content,f=this;if(typeof e==="string"){return this._open(h,i,e)}g=e.call(i[0],function(j){if(!i.data("ui-tooltip-open")){return}f._delay(function(){this._open(h,i,j)})});if(g){this._open(h,i,g)}},_open:function(i,k,h){var j,g,f,l=d.extend({},this.options.position);if(!h){return}j=this._find(k);if(j.length){j.find(".ui-tooltip-content").html(h);return}if(k.is("[title]")){if(i&&i.type==="mouseover"){k.attr("title","")}else{k.removeAttr("title")}}j=this._tooltip(k);c(k,j.attr("id"));j.find(".ui-tooltip-content").html(h);function e(m){l.of=m;if(j.is(":hidden")){return}j.position(l)}if(this.options.track&&i&&/^mouse/.test(i.type)){this._on(this.document,{mousemove:e});e(i)}else{j.position(d.extend({of:k},this.options.position))}j.hide();this._show(j,this.options.show);if(this.options.show&&this.options.show.delay){f=setInterval(function(){if(j.is(":visible")){e(l.of);clearInterval(f)}},d.fx.interval)}this._trigger("open",i,{tooltip:j});g={keyup:function(m){if(m.keyCode===d.ui.keyCode.ESCAPE){var n=d.Event(m);n.currentTarget=k[0];this.close(n,true)}},remove:function(){this._removeTooltip(j)}};if(!i||i.type==="mouseover"){g.mouseleave="close"}if(!i||i.type==="focusin"){g.focusout="close"}this._on(true,k,g)},close:function(f){var e=this,h=d(f?f.currentTarget:this.element),g=this._find(h);if(this.closing){return}if(h.data("ui-tooltip-title")){h.attr("title",h.data("ui-tooltip-title"))}a(h);g.stop(true);this._hide(g,this.options.hide,function(){e._removeTooltip(d(this))});h.removeData("ui-tooltip-open");this._off(h,"mouseleave focusout keyup");if(h[0]!==this.element[0]){this._off(h,"remove")}this._off(this.document,"mousemove");if(f&&f.type==="mouseleave"){d.each(this.parents,function(j,i){d(i.element).attr("title",i.title);delete e.parents[j]})}this.closing=true;this._trigger("close",f,{tooltip:g});this.closing=false},_tooltip:function(e){var g="ui-tooltip-"+b++,f=d("<div>").attr({id:g,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));d("<div>").addClass("ui-tooltip-content").appendTo(f);f.appendTo(this.document[0].body);this.tooltips[g]=e;return f},_find:function(e){var f=e.data("ui-tooltip-id");return f?d("#"+f):d()},_removeTooltip:function(e){e.remove();delete this.tooltips[e.attr("id")]},_destroy:function(){var e=this;d.each(this.tooltips,function(h,f){var g=d.Event("blur");g.target=g.currentTarget=f[0];e.close(g,true);d("#"+h).remove();if(f.data("ui-tooltip-title")){f.attr("title",f.data("ui-tooltip-title"));f.removeData("ui-tooltip-title")}})}})}(jQuery));(function(a,b){a.widget("ui.selectmenu",{version:"@VERSION",defaultElement:"<select>",options:{dropdown:true,appendTo:"body",position:{my:"left top",at:"left bottom",collision:"none"},open:null,focus:null,select:null,close:null,change:null},_create:function(){var c=this.element.uniqueId().attr("id");this.ids={id:c,button:c+"-button",menu:c+"-menu"};this._drawButton();this._on(this.button,this._buttonEvents);this._hoverable(this.button);this._focusable(this.button);this._drawMenu();this._on(document,{click:function(d){if(this.isOpen&&!a(d.target).closest("li.ui-state-disabled, li.ui-selectmenu-optgroup, #"+this.ids.button).length){this.close(d)}}});if(this.options.disabled){this.disable()}},_drawButton:function(){var c=this.element.attr("tabindex");this.label=a("label[for='"+this.ids.id+"']").attr("for",this.ids.button);this._on(this.label,{click:function(d){this.button.focus();d.preventDefault()}});this.element.hide();this.button=a("<a />",{"class":"ui-button ui-widget ui-state-default ui-corner-all",href:"#"+this.ids.id,tabindex:(c?c:this.options.disabled?-1:0),id:this.ids.button,width:this.options.width||this.element.outerWidth(),role:"combobox","aria-expanded":false,"aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":true});this.button.prepend(a("<span />",{"class":"icon-small ui-selectmenu-icon "+((this.options.dropdown)?"icon-arrow-down":"icon-arrow-up")}));this.buttonText=a("<nobr />",{"class":"ui-selectmenu-text",html:this.element.find("option:selected").text()||"&nbsp;"}).appendTo(this.button);this.buttonWrap=a("<span />",{"class":"ui-selectmenu-button"}).append(this.button).insertAfter(this.element)},_drawMenu:function(){var c,d=this;this.menu=a("<ul />",{"aria-hidden":true,"aria-labelledby":this.ids.button,id:this.ids.menu});this.menuWrap=a("<div />",{"class":"ui-selectmenu-menu",width:(this.options.dropdown)?(this.options.menuWidth||this.button.outerWidth()):this.buttonText.width()+parseFloat(this.buttonText.css("padding-left"))||0+parseFloat(this.buttonText.css("margin-left"))||0}).append(this.menu).appendTo(this.options.appendTo);c=this.menu.menu({select:function(f,g){var e=g.item.data("ui-selectmenu-item");d._select(e,f);if(d.isOpen){f.preventDefault();d.close(f)}},focus:function(f,g){var e=g.item.data("ui-selectmenu-item");if(d.focus!==b){if(e.index!==d.focus){d._trigger("focus",f,{item:e});if(!d.isOpen){d._select(e,f)}}}d.focus=e.index;d.button.attr("aria-activedescendant",d.menuItems.eq(e.index).find("a").attr("id"))},role:"listbox"}).data("ui-menu");if(this.options.dropdown){this.menu.addClass("ui-corner-bottom").removeClass("ui-corner-all")}c.delay=999999999;c._off(this.menu,"mouseleave")},refresh:function(){this.menu.empty();var d,c=this.element.find("option");if(c.length){this._readOptions(c);this._renderMenu(this.menu,this.items);this.menu.menu("refresh");this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup");d=this._getSelectedItem();this.menu.menu("focus",null,d);this._setSelected(d.data("ui-selectmenu-item"));this._setOption("disabled",this._getCreateOptions().disabled)}},open:function(d){if(!this.options.disabled){if(this.isOpen===b){this.button.trigger("focus")}this.isOpen=true;this._toggleAttr();this.menu.menu("focus",d,this._getSelectedItem());if(this.items&&!this.options.dropdown){var c=this._getSelectedItem();if(this.menu.outerHeight()<this.menu.prop("scrollHeight")){this.menuWrap.css("left",-10000);this.menu.scrollTop(this.menu.scrollTop()+c.position().top-this.menu.outerHeight()/2+c.outerHeight()/2);this.menuWrap.css("left","auto")}a.extend(this.options.position,{my:"left top",at:"left top",offset:"0 "+(this.menu.offset().top-c.offset().top+(this.button.outerHeight()-c.outerHeight())/2)})}this.options.position.of=this.button;this.menuWrap.zIndex(this.element.zIndex()+1).position(this.options.position);this._trigger("open",d)}},close:function(c){if(this.isOpen){var d=this._getSelectedItem().find("a").attr("id");this.isOpen=false;this._toggleAttr();this.button.attr("aria-activedescendant",d);this.menu.attr("aria-activedescendant",d);this._trigger("close",c)}},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderMenu:function(e,d){var f=this,c="";a.each(d,function(g,h){if(h.optgroup!==c){a("<li />",{"class":"ui-selectmenu-optgroup"+(h.element.parent("optgroup").attr("disabled")?" ui-state-disabled":""),html:h.optgroup}).appendTo(e);c=h.optgroup}f._renderItem(e,h)})},_renderItem:function(d,e){var c=a("<li />").data("ui-selectmenu-item",e);if(e.disabled){c.addClass("ui-state-disabled")}c.append(a("<a />",{html:(a.isFunction(this.options.format)&&this.options.format(e.label,e))||e.label,href:"#"}));return c.appendTo(d)},_move:function(d,c){if(d==="first"||d==="last"){this.menu.menu("focus",c,this.menuItems[d]())}else{this.menu.menu(d,c)}},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex)},_toggle:function(c){if(this.isOpen){this.close(c)}else{this.open(c)}},_buttonEvents:{focus:function(){this.refresh();this.button.addClass("ui-state-focus");this._off(this.button,"focus")},click:function(c){this._toggle(c);c.preventDefault()},keydown:function(c){var d=true;switch(c.keyCode){case a.ui.keyCode.TAB:case a.ui.keyCode.ESCAPE:if(this.isOpen){this.close(c)}d=false;break;case a.ui.keyCode.ENTER:if(this.isOpen){this.menu.menu("select",c)}break;case a.ui.keyCode.UP:if(c.altKey){this._toggle(c)}else{this._move("previous",c)}break;case a.ui.keyCode.DOWN:if(c.altKey){this._toggle(c)}else{this._move("next",c)}break;case a.ui.keyCode.SPACE:this._toggle(c);break;case a.ui.keyCode.LEFT:this._move("previous",c);break;case a.ui.keyCode.RIGHT:this._move("next",c);break;case a.ui.keyCode.HOME:case a.ui.keyCode.PAGE_UP:this._move("first",c);break;case a.ui.keyCode.END:case a.ui.keyCode.PAGE_DOWN:this._move("last",c);break;default:this.menu.trigger(c);d=false}if(d){c.preventDefault()}}},_select:function(d,c){var e=this.element[0].selectedIndex;this.element[0].selectedIndex=d.index;this._setSelected(d);this._trigger("select",c,{item:d});if(d.index!==e){this._trigger("change",c,{item:d})}},_setSelected:function(c){this.buttonText.html(c.label);this.menuItems.find("a").attr("aria-selected",false);this._getSelectedItem().find("a").attr("aria-selected",true);this.button.attr("aria-labelledby",this.menuItems.eq(c.index).find("a").attr("id"))},_setOption:function(c,d){this._super(c,d);if(c==="appendTo"){this.menuWrap.appendTo(a(d||"body",this.element[0].ownerDocument)[0])}if(c==="disabled"){this.menu.menu("option","disabled",d);if(d){this.element.attr("disabled","disabled");this.button.attr("tabindex",-1);this.close()}else{this.element.removeAttr("disabled");this.button.attr("tabindex",0)}}},_toggleAttr:function(){if(this.options.dropdown){this.button.toggleClass("ui-corner-top",this.isOpen).toggleClass("ui-corner-all",!this.isOpen)}this.menuWrap.toggleClass("ui-selectmenu-open",this.isOpen);this.menu.attr("aria-hidden",!this.isOpen);this.button.attr("aria-expanded",this.isOpen)},_getCreateOptions:function(){return{disabled:!!this.element.attr("disabled")}},_readOptions:function(c){var d=[];a.each(c,function(f,h){var g=a(h),e=g.parent("optgroup");d.push({element:g,index:f,value:g.attr("value"),label:g.text()||"&nbsp;",optgroup:e.attr("label")||"",disabled:e.attr("disabled")||g.attr("disabled")})});this.items=d},_destroy:function(){this.menuWrap.remove();this.buttonWrap.remove();this.element.show();this.element.removeUniqueId();this.label.attr("for",this.ids.id)}})}(jQuery));(function(d){var a='<div class="colorpicker dropdown-menu"><div class="colorpicker-selector-panel"><div class="colorpicker-saturation"><i><b></b></i></div><div class="colorpicker-hue"><i></i></div><div class="colorpicker-alpha"><i></i></div></div><input type="text" maxlength="7" class="ui-input colorpicker-input" /><i class="colorpicker-transparent"></i></div>',b={saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setLightness"},hue:{maxLeft:0,maxTop:100,callLeft:false,callTop:"setHue"},alpha:{maxLeft:0,maxTop:100,callLeft:false,callTop:"setAlpha"}};var c={translateFormats:{rgb:function(){var f=this.color.toRGB();return"rgb("+f.r+","+f.g+","+f.b+")"},rgba:function(){var f=this.color.toRGB();return"rgba("+f.r+","+f.g+","+f.b+","+f.a+")"},hsl:function(){var f=this.color.toHSL();return"hsl("+Math.round(f.h*360)+","+Math.round(f.s*100)+"%,"+Math.round(f.l*100)+"%)"},hsla:function(){var f=this.color.toHSL();return"hsla("+Math.round(f.h*360)+","+Math.round(f.s*100)+"%,"+Math.round(f.l*100)+"%,"+f.a+")"},hex:function(){return this.color.toHex()}},sliders:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setLightness"},hue:{maxLeft:0,maxTop:100,callLeft:false,callTop:"setHue"},alpha:{maxLeft:0,maxTop:100,callLeft:false,callTop:"setAlpha"}},RGBtoHSB:function(m,l,f,i){m/=255;l/=255;f/=255;var k,j,h,n;h=Math.max(m,l,f);n=h-Math.min(m,l,f);k=(n==0?null:h==m?(l-f)/n:h==l?(f-m)/n+2:(m-l)/n+4);k=((k+360)%6)*60/360;j=n==0?0:n/h;return{h:k||1,s:j,b:h,a:i||1}},HueToRGB:function(i,g,f){if(f<0){f+=1}else{if(f>1){f-=1}}if((f*6)<1){return i+(g-i)*f*6}else{if((f*2)<1){return g}else{if((f*3)<2){return i+(g-i)*((2/3)-f)*6}else{return i}}}},HSLtoRGB:function(o,y,m,x){if(y<0){y=0}if(m<=0.5){var i=m*(1+y)}else{var i=m+y-(m*y)}var j=2*m-i;var u=o+(1/3);var k=o;var n=o-(1/3);var f=Math.round(c.HueToRGB(j,i,u)*255);var t=Math.round(c.HueToRGB(j,i,k)*255);var w=Math.round(c.HueToRGB(j,i,n)*255);return[f,t,w,x||1]},stringParsers:[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(f){return[f[1],f[2],f[3],f[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(f){return[2.55*f[1],2.55*f[2],2.55*f[3],f[4]]}},{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(f){return[parseInt(f[1],16),parseInt(f[2],16),parseInt(f[3],16)]}},{re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,parse:function(f){return[parseInt(f[1]+f[1],16),parseInt(f[2]+f[2],16),parseInt(f[3]+f[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(f){return[f[1]/360,f[2]/100,f[3]/100,f[4]]}}]};var e=function(f){this.value={h:1,s:1,b:1,a:1};this.setColor(f)};e.prototype={constructor:e,setColor:function(g){g=g.toLowerCase();var f=this;d.each(c.stringParsers,function(k,m){var j=m.re.exec(g),h=j&&m.parse(j),l=m.space||"rgba";if(h){if(l=="hsla"){f.value=c.RGBtoHSB.apply(null,c.HSLtoRGB.apply(null,h))}else{f.value=c.RGBtoHSB.apply(null,h)}return false}})},setHue:function(f){this.value.h=1-f},setSaturation:function(f){this.value.s=f},setLightness:function(f){this.value.b=1-f},setAlpha:function(f){this.value.a=parseInt((1-f)*100,10)/100},toRGB:function(k,o,l,m){if(!k){k=this.value.h;o=this.value.s;l=this.value.b}k*=360;var j,n,g,i,f;k=(k%360)/60;f=l*o;i=f*(1-Math.abs(k%2-1));j=n=g=l-f;k=~~k;j+=[f,i,0,0,i,f][k];n+=[i,f,f,i,0,0][k];g+=[0,0,i,f,f,i][k];return{r:Math.round(j*255),g:Math.round(n*255),b:Math.round(g*255),a:m||this.value.a}},toHex:function(k,j,f,g){var i=this.toRGB(k,j,f,g);return"#"+((1<<24)|(parseInt(i.r)<<16)|(parseInt(i.g)<<8)|parseInt(i.b)).toString(16).substr(1)},toHSL:function(m,l,g,i){if(!m){m=this.value.h;l=this.value.s;g=this.value.b}var k=m,f=(2-l)*g,j=l*g;if(f>0&&f<=1){j/=f}else{j/=2-f}f/=2;if(j>1){j=1}return{h:k,s:j,l:f,a:i||this.value.a}}};d.widget("ui.colorpicker",{_create:function(){var g=this,f=this.options;this.picker=d(a).appendTo("body");this.base=this.picker.find(".colorpicker-selector-panel div:first");this.picker.find(".colorpicker-selector-panel").mousedown(d.proxy(this.mousedown,this));this.picker.find(".colorpicker-input").on({keyup:d.proxy(this.onInp,this),mousedown:function(h){h.stopPropagation()}});this.picker.find(".colorpicker-transparent").mousedown(d.proxy(this.ontransparent,this));this.element.click(d.proxy(this.show,this));this.update()},ontransparent:function(f){this._trigger("change",f,"transparent")},onInp:function(g){var f=d(g.target).val();f.indexOf("#")!==0&&(f="#"+f);this._trigger("change",g,this.color=new e(f));this.update()},update:function(){this.color=new e(this.element.data("color"));this.picker.find("i").eq(0).css({left:this.color.value.s*100,top:100-this.color.value.b*100}).end().eq(1).css("top",100*(1-this.color.value.h)).end().eq(2).css("top",100*(1-this.color.value.a));this.previewColor()},previewColor:function(){this.base.css("backgroundColor",this.color.toHex(this.color.value.h,1,1,1))},place:function(){var g=this.element.offset(),f=this.element.height();this.picker.css({top:g.top+f,left:g.left})},mousedown:function(h){h.stopPropagation();h.preventDefault();var g=d(h.target);var f=g.closest("div");if(!f.is(".colorpicker")){if(f.is(".colorpicker-saturation")){this.slider=d.extend({},b.saturation)}else{if(f.is(".colorpicker-hue")){this.slider=d.extend({},b.hue)}else{if(f.is(".colorpicker-alpha")){this.slider=d.extend({},b.alpha)}}}var i=f.offset();this.slider.knob=f.find("i")[0].style;this.slider.left=h.pageX-i.left;this.slider.top=h.pageY-i.top;this.pointer={left:h.pageX,top:h.pageY};d(document).on({mousemove:d.proxy(this.mousemove,this),mouseup:d.proxy(this.mouseup,this)})}return false},mousemove:function(h){h.stopPropagation();h.preventDefault();var g=Math.max(0,Math.min(this.slider.maxLeft,this.slider.left+((h.pageX||this.pointer.left)-this.pointer.left)));var f=Math.max(0,Math.min(this.slider.maxTop,this.slider.top+((h.pageY||this.pointer.top)-this.pointer.top)));this.slider.knob.left=g+"px";this.slider.knob.top=f+"px";if(this.slider.callLeft){this.color[this.slider.callLeft].call(this.color,g/100)}if(this.slider.callTop){this.color[this.slider.callTop].call(this.color,f/100)}this.picker.find(".colorpicker-input").val(this.color.toHex());this.previewColor();this._trigger("change",h,this.color);return false},mouseup:function(f){f.stopPropagation();f.preventDefault();d(document).off({mousemove:this.mousemove,mouseup:this.mouseup});return false},show:function(f){if(!this.options.disabled){this.picker.show();this.place();d(document).mousedown(d.proxy(this.hide,this))}},hide:function(f){this.picker.hide();d(document).off({mousedown:this.hide})},_destroy:function(){this.picker.find(".colorpicker-selector-panel").off("mousedown",this.mousedown);this.picker.find(".colorpicker-input").unbind();this.picker.find(".colorpicker-transparent").off("mousedown",this.ontransparent);this.element.off({click:this.show});this.picker.remove()}})})(jQuery);(function(c,e){var a=0,f=/#.*$/;function d(){return ++a}function b(g){return g.hash.length>1&&g.href.replace(f,"")===location.href.replace(f,"").replace(/\s/g,"%20")}c.widget("ui.tabs",{version:"@VERSION",delay:300,options:{active:null,collapsible:false,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var h=this,g=this.options,i=g.active,j=location.hash.substring(1);this.running=false;this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",g.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(k){if(c(this).is(".ui-state-disabled")){k.preventDefault()}}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){if(c(this).closest("li").is(".ui-state-disabled")){this.blur()}});this._processTabs();if(i===null){if(j){this.tabs.each(function(k,l){if(c(l).attr("aria-controls")===j){i=k;return false}})}if(i===null){i=this.tabs.index(this.tabs.filter(".ui-tabs-active"))}if(i===null||i===-1){i=this.tabs.length?0:false}}if(i!==false){i=this.tabs.index(this.tabs.eq(i));if(i===-1){i=g.collapsible?false:0}}g.active=i;if(!g.collapsible&&g.active===false&&this.anchors.length){g.active=0}if(c.isArray(g.disabled)){g.disabled=c.unique(g.disabled.concat(c.map(this.tabs.filter(".ui-state-disabled"),function(k){return h.tabs.index(k)}))).sort()}if(this.options.active!==false&&this.anchors.length){this.active=this._findActive(this.options.active)}else{this.active=c()}this._refresh();if(this.active.length){this.load(g.active)}},_getCreateEventData:function(){return{tab:this.active,panel:!this.active.length?c():this._getPanelForTab(this.active)}},_tabKeydown:function(i){var h=c(this.document[0].activeElement).closest("li"),g=this.tabs.index(h),j=true;if(this._handlePageNav(i)){return}switch(i.keyCode){case c.ui.keyCode.RIGHT:case c.ui.keyCode.DOWN:g++;break;case c.ui.keyCode.UP:case c.ui.keyCode.LEFT:j=false;g--;break;case c.ui.keyCode.END:g=this.anchors.length-1;break;case c.ui.keyCode.HOME:g=0;break;case c.ui.keyCode.SPACE:i.preventDefault();clearTimeout(this.activating);this._activate(g);return;case c.ui.keyCode.ENTER:i.preventDefault();clearTimeout(this.activating);this._activate(g===this.options.active?false:g);return;default:return}i.preventDefault();clearTimeout(this.activating);g=this._focusNextTab(g,j);if(!i.ctrlKey){h.attr("aria-selected","false");this.tabs.eq(g).attr("aria-selected","true");this.activating=this._delay(function(){this.option("active",g)},this.delay)}},_panelKeydown:function(g){if(this._handlePageNav(g)){return}if(g.ctrlKey&&g.keyCode===c.ui.keyCode.UP){g.preventDefault();this.active.focus()}},_handlePageNav:function(g){if(g.altKey&&g.keyCode===c.ui.keyCode.PAGE_UP){this._activate(this._focusNextTab(this.options.active-1,false));return true}if(g.altKey&&g.keyCode===c.ui.keyCode.PAGE_DOWN){this._activate(this._focusNextTab(this.options.active+1,true));return true}},_findNextTab:function(h,i){var g=this.tabs.length-1;function j(){if(h>g){h=0}if(h<0){h=g}return h}while(c.inArray(j(),this.options.disabled)!==-1){h=i?h+1:h-1}return h},_focusNextTab:function(g,h){g=this._findNextTab(g,h);this.tabs.eq(g).focus();return g},_setOption:function(g,h){if(g==="active"){this._activate(h);return}if(g==="disabled"){this._setupDisabled(h);return}this._super(g,h);if(g==="collapsible"){this.element.toggleClass("ui-tabs-collapsible",h);if(!h&&this.options.active===false){this._activate(0)}}if(g==="event"){this._setupEvents(h)}if(g==="heightStyle"){this._setupHeightStyle(h)}},_tabId:function(g){return g.attr("aria-controls")||"ui-tabs-"+d()},_sanitizeSelector:function(g){return g?g.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var h=this.options,g=this.tablist.children(":has(a[href])");h.disabled=c.map(g.filter(".ui-state-disabled"),function(i){return g.index(i)});this._processTabs();if(h.active===false||!this.anchors.length){h.active=false;this.active=c()}else{if(this.active.length&&!c.contains(this.tablist[0],this.active[0])){if(this.tabs.length===h.disabled.length){h.active=false;this.active=c()}else{this._activate(this._findNextTab(Math.max(0,h.active-1),false))}}else{h.active=this.tabs.index(this.active)}}this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled);this._setupEvents(this.options.event);this._setupHeightStyle(this.options.heightStyle);this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1});this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"});if(!this.active.length){this.tabs.eq(0).attr("tabIndex",0)}else{this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0});this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})}},_processTabs:function(){var g=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist");this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1});this.anchors=this.tabs.map(function(){return c("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1});this.panels=c();this.anchors.each(function(n,l){var h,j,m,k=c(l).uniqueId().attr("id"),o=c(l).closest("li"),p=o.attr("aria-controls");if(b(l)){h=l.hash;j=g.element.find(g._sanitizeSelector(h))}else{m=g._tabId(o);h="#"+m;j=g.element.find(h);if(!j.length){j=g._createPanel(m);j.insertAfter(g.panels[n-1]||g.tablist)}j.attr("aria-live","polite")}if(j.length){g.panels=g.panels.add(j)}if(p){o.data("ui-tabs-aria-controls",p)}o.attr({"aria-controls":h.substring(1),"aria-labelledby":k});j.attr("aria-labelledby",k)});this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(g){return c("<div>").attr("id",g).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",true)},_setupDisabled:function(j){if(c.isArray(j)){if(!j.length){j=false}else{if(j.length===this.anchors.length){j=true}}}for(var h=0,g;(g=this.tabs[h]);h++){if(j===true||c.inArray(h,j)!==-1){c(g).addClass("ui-state-disabled").attr("aria-disabled","true")}else{c(g).removeClass("ui-state-disabled").removeAttr("aria-disabled")}}this.options.disabled=j},_setupEvents:function(h){var g={click:function(i){i.preventDefault()}};if(h){c.each(h.split(" "),function(j,i){g[i]="_eventHandler"})}this._off(this.anchors.add(this.tabs).add(this.panels));this._on(this.anchors,g);this._on(this.tabs,{keydown:"_tabKeydown"});this._on(this.panels,{keydown:"_panelKeydown"});this._focusable(this.tabs);this._hoverable(this.tabs)},_setupHeightStyle:function(g){var i,h=this.element.parent();if(g==="fill"){i=h.height();this.element.siblings(":visible").each(function(){var k=c(this),j=k.css("position");if(j==="absolute"||j==="fixed"){return}i-=k.outerHeight(true)});this.element.children().not(this.panels).each(function(){i-=c(this).outerHeight(true)});this.panels.each(function(){c(this).height(Math.max(0,i-c(this).innerHeight()+c(this).height()))}).css("overflow","auto")}else{if(g==="auto"){i=0;this.panels.each(function(){i=Math.max(i,c(this).height("").height())}).height(i)}}},_eventHandler:function(g){var p=this.options,k=this.active,l=c(g.currentTarget),j=l.closest("li"),n=j[0]===k[0],h=n&&p.collapsible,i=h?c():this._getPanelForTab(j),m=!k.length?c():this._getPanelForTab(k),o={oldTab:k,oldPanel:m,newTab:h?c():j,newPanel:i};g.preventDefault();if(j.hasClass("ui-state-disabled")||j.hasClass("ui-tabs-loading")||this.running||(n&&!p.collapsible)||(this._trigger("beforeActivate",g,o)===false)){return}p.active=h?false:this.tabs.index(j);this.active=n?c():j;if(this.xhr){this.xhr.abort()}if(!m.length&&!i.length){c.error("jQuery UI Tabs: Mismatching fragment identifier.")}if(i.length){this.load(this.tabs.index(j),g)}this._toggle(g,o)},_toggle:function(m,l){var k=this,g=l.newPanel,j=l.oldPanel;this.running=true;function i(){k.running=false;k._trigger("activate",m,l)}function h(){l.newTab.closest("li").addClass("ui-tabs-active ui-state-active");if(g.length&&k.options.show){k._show(g,k.options.show,i)}else{g.show();i()}}if(j.length&&this.options.hide){this._hide(j,this.options.hide,function(){l.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");h()})}else{l.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active");j.hide();h()}j.attr({"aria-expanded":"false","aria-hidden":"true"});l.oldTab.attr("aria-selected","false");if(g.length&&j.length){l.oldTab.attr("tabIndex",-1)}else{if(g.length){this.tabs.filter(function(){return c(this).attr("tabIndex")===0}).attr("tabIndex",-1)}}g.attr({"aria-expanded":"true","aria-hidden":"false"});l.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(h){var g,i=this._findActive(h);if(i[0]===this.active[0]){return}if(!i.length){i=this.active}g=i.find(".ui-tabs-anchor")[0];this._eventHandler({target:g,currentTarget:g,preventDefault:c.noop})},_findActive:function(g){return g===false?c():this.tabs.eq(g)},_getIndex:function(g){if(typeof g==="string"){g=this.anchors.index(this.anchors.filter("[href$='"+g+"']"))}return g},_destroy:function(){if(this.xhr){this.xhr.abort()}this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible");this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role");this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeData("href.tabs").removeData("load.tabs").removeUniqueId();this.tabs.add(this.panels).each(function(){if(c.data(this,"ui-tabs-destroy")){c(this).remove()}else{c(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}});this.tabs.each(function(){var g=c(this),h=g.data("ui-tabs-aria-controls");if(h){g.attr("aria-controls",h)}else{g.removeAttr("aria-controls")}});this.panels.show();if(this.options.heightStyle!=="content"){this.panels.css("height","")}},enable:function(g){var h=this.options.disabled;if(h===false){return}if(g===e){h=false}else{g=this._getIndex(g);if(c.isArray(h)){h=c.map(h,function(i){return i!==g?i:null})}else{h=c.map(this.tabs,function(i,j){return j!==g?j:null})}}this._setupDisabled(h)},disable:function(g){var h=this.options.disabled;if(h===true){return}if(g===e){h=true}else{g=this._getIndex(g);if(c.inArray(g,h)!==-1){return}if(c.isArray(h)){h=c.merge([g],h).sort()}else{h=[g]}}this._setupDisabled(h)},load:function(i,m){i=this._getIndex(i);var l=this,j=this.tabs.eq(i),h=j.find(".ui-tabs-anchor"),g=this._getPanelForTab(j),k={tab:j,panel:g};if(b(h[0])){return}this.xhr=c.ajax(this._ajaxSettings(h,m,k));if(this.xhr&&this.xhr.statusText!=="canceled"){j.addClass("ui-tabs-loading");g.attr("aria-busy","true");this.xhr.success(function(n){setTimeout(function(){g.html(n);l._trigger("load",m,k)},1)}).complete(function(o,n){setTimeout(function(){if(n==="abort"){l.panels.stop(false,true)}j.removeClass("ui-tabs-loading");g.removeAttr("aria-busy");if(o===l.xhr){delete l.xhr}},1)})}},_ajaxSettings:function(g,j,i){var h=this;return{url:g.attr("href"),beforeSend:function(l,k){return h._trigger("beforeLoad",j,c.extend({jqXHR:l,ajaxSettings:k},i))}}},_getPanelForTab:function(g){var h=c(g).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+h))}})})(jQuery);(function(c){var h="ui-widget ui-panel",j=h+"-header ui-widget-header",d=h+"-body",f=h+"-min",i=h+"-minisize",e=h+"-close",a=h+"-content",b=2048,g=0;c.widget("ui.Panel",{_create:function(){var m=this,k=this.options,l=this.element.children();this.header=c("<h3>").addClass(j).html(k.title).appendTo(this.element).click(function(){m.toTop()});this.body=c("<div/>").addClass(d).append(l).appendTo(this.element);if(k.miniButton){this.min=c('<button class="ui-button ui-state-default">-</button>').addClass(f).appendTo(this.header).click(function(){m.element.toggleClass(i)})}if(k.closeButton){this.close=c('<button class="ui-button">x</button>').addClass(e).appendTo(this.header).click(function(){m.hide()})}this.element.css({width:k.width,zIndex:b+(g++)}).addClass(h).draggable({containment:k.containment,handle:this.header});if(k.height){this.body.height(k.height-this.header.height())}else{this.maxHeight();c(window).resize(function(){m.maxHeight()})}k.hide&&this.hide()},_destroy:function(){this.close&&this.close.unbind().remove();this.header.unbind().remove();this.min&&this.min.unbind().remove()},maxHeight:function(){!this.options.height&&this.body.css("max-height",this.options.containment.height()-40)},show:function(){this.element.css({display:""})},hide:function(){this.element.hide()},toTop:function(){this.element.css("zIndex",b+(g++))}})})(jQuery);(function(d,e){var b="ui-dialog ui-widget ui-widget-content ui-corner-all ui-front ",a={buttons:true,height:true,maxHeight:true,maxWidth:true,minHeight:true,minWidth:true,width:true},c={maxHeight:true,maxWidth:true,minHeight:true,minWidth:true};d.widget("ui.dialog",{version:"@VERSION",options:{autoOpen:true,buttons:{},closeOnEscape:true,closeText:"close",closeButton:true,dialogClass:"",draggable:true,hide:null,height:"auto",maxHeight:false,maxWidth:false,minHeight:150,minWidth:150,modal:false,position:{my:"center",at:"center",of:window,collision:"fit",using:function(g){var f=d(this).css(g).offset().top;if(f<0){d(this).css("top",g.top-f)}}},resizable:true,show:null,title:"",width:300},_create:function(){this.originalTitle=this.element.attr("title");if(typeof this.originalTitle!=="string"){this.originalTitle=""}this.oldPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)};this.options.title=this.options.title||this.originalTitle;var k=this,j=this.options,m=j.title||"&#160;",h,l,f,i,g;h=(this.uiDialog=d("<div>")).addClass(b+j.dialogClass).hide().mousedown(function(n){k.moveToTop(n)}).appendTo(this.document[0].body);this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(h);l=(this.uiDialogTitlebar=d("<div>")).addClass("ui-dialog-titlebar  ui-widget-header  ui-corner-all  ui-helper-clearfix").bind("mousedown",function(){h.focus()}).prependTo(h);if(this.options.closeButton){f=d("<a href='#'></a>").addClass("ui-dialog-titlebar-close  ui-corner-all").attr("role","button").click(function(n){n.preventDefault();k.close(n)}).appendTo(l);(this.uiDialogTitlebarCloseText=d("<span>")).addClass("ui-icon ui-icon-closethick").text(j.closeText).appendTo(f);this._hoverable(f);this._focusable(f);h.attr("tabIndex",-1).keydown(function(n){if(j.closeOnEscape&&!n.isDefaultPrevented()&&n.keyCode&&n.keyCode===d.ui.keyCode.ESCAPE){k.close(n);n.preventDefault()}})}i=d("<span>").uniqueId().addClass("ui-dialog-title").html(m).prependTo(l);g=(this.uiDialogButtonPane=d("<div>")).addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix");(this.uiButtonSet=d("<div>")).addClass("ui-dialog-buttonset").appendTo(g);h.attr({role:"dialog","aria-labelledby":i.attr("id")});l.find("*").add(l).disableSelection();if(j.draggable&&d.fn.draggable){this._makeDraggable()}if(j.resizable&&d.fn.resizable){this._makeResizable()}this._createButtons(j.buttons);this._isOpen=false;this._on(h,{keydown:function(p){if(p.keyCode!==d.ui.keyCode.TAB){return}var o=d(":tabbable",h),q=o.filter(":first"),n=o.filter(":last");if((p.target===n[0]||p.target===h[0])&&!p.shiftKey){q.focus(1);return false}else{if((p.target===q[0]||p.target===h[0])&&p.shiftKey){n.focus(1);return false}}}})},_init:function(){if(this.options.autoOpen){this.open()}},_destroy:function(){var g,f=this.oldPosition;if(this.overlay){this.overlay.destroy()}this.uiDialog.hide();this.element.removeClass("ui-dialog-content ui-widget-content").hide().appendTo("body");this.uiDialog.remove();if(this.originalTitle){this.element.attr("title",this.originalTitle)}g=f.parent.children().eq(f.index);if(g.length&&g[0]!==this.element[0]){g.before(this.element)}else{f.parent.append(this.element)}},widget:function(){return this.uiDialog},close:function(g){var f=this;if(!this._isOpen){return}if(false===this._trigger("beforeClose",g)){return}this._isOpen=false;if(this.overlay){this.overlay.destroy()}if(!this.opener.filter(":focusable").focus().length){d(this.document[0].activeElement).blur()}this._hide(this.uiDialog,this.options.hide,function(){f._trigger("close",g)})},isOpen:function(){return this._isOpen},moveToTop:function(h,f){var g=this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog);if(!f&&g.length){this._trigger("focus",h)}},open:function(){if(this._isOpen){return}var h,g=this.options,f=this.uiDialog;this.opener=d(this.document[0].activeElement);this._size();this._position(g.position);this.overlay=g.modal?new d.ui.dialog.overlay(this):null;this.moveToTop(null,true);this._show(f,g.show);h=this.element.find(":tabbable");if(!h.length){h=this.uiDialogButtonPane.find(":tabbable");if(!h.length){h=f}}h.eq(0).focus();this._isOpen=true;this._trigger("open");this._trigger("focus");return this},_keepFocus:function(f){function g(){var i=this.document[0].activeElement,h=this.uiDialog[0]===i||d.contains(this.uiDialog[0],i);if(!h){this.uiDialog.focus()}}f.preventDefault();g.call(this);this._delay(g)},_createButtons:function(h){var g=this,f=false;this.uiDialogButtonPane.remove();this.uiButtonSet.empty();if(typeof h==="object"&&h!==null){d.each(h,function(){return !(f=true)})}if(f){d.each(h,function(i,k){var j,l;k=d.isFunction(k)?{click:k,text:i}:k;k=d.extend({type:"button"},k);l=k.click;k.click=function(){l.apply(g.element[0],arguments)};j=d("<button></button>",k).appendTo(g.uiButtonSet);if(d.fn.button){j.button()}});this.uiDialog.addClass("ui-dialog-buttons");this.uiDialogButtonPane.appendTo(this.uiDialog)}else{this.uiDialog.removeClass("ui-dialog-buttons")}},_makeDraggable:function(){var h=this,g=this.options;function f(i){return{position:i.position,offset:i.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,j){d(this).addClass("ui-dialog-dragging");h._trigger("dragStart",i,f(j))},drag:function(i,j){h._trigger("drag",i,f(j))},stop:function(i,j){g.position=[j.position.left-h.document.scrollLeft(),j.position.top-h.document.scrollTop()];d(this).removeClass("ui-dialog-dragging");h._trigger("dragStop",i,f(j))}})},_makeResizable:function(j){j=(j===e?this.options.resizable:j);var k=this,i=this.options,f=this.uiDialog.css("position"),h=typeof j==="string"?j:"n,e,s,w,se,sw,ne,nw";function g(l){return{originalPosition:l.originalPosition,originalSize:l.originalSize,position:l.position,size:l.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:h,start:function(l,m){d(this).addClass("ui-dialog-resizing");k._trigger("resizeStart",l,g(m))},resize:function(l,m){k._trigger("resize",l,g(m))},stop:function(l,m){d(this).removeClass("ui-dialog-resizing");i.height=d(this).height();i.width=d(this).width();k._trigger("resizeStop",l,g(m))}}).css("position",f).find(".ui-resizable-se").addClass("ui-icon ui-icon-grip-diagonal-se")},_minHeight:function(){var f=this.options;if(f.height==="auto"){return f.minHeight}else{return Math.min(f.minHeight,f.height)}},_position:function(g){var h=[],i=[0,0],f;if(g){if(typeof g==="string"||(typeof g==="object"&&"0" in g)){h=g.split?g.split(" "):[g[0],g[1]];if(h.length===1){h[1]=h[0]}d.each(["left","top"],function(k,j){if(+h[k]===h[k]){i[k]=h[k];h[k]=j}});g={my:h[0]+(i[0]<0?i[0]:"+"+i[0])+" "+h[1]+(i[1]<0?i[1]:"+"+i[1]),at:h.join(" ")}}g=d.extend({},d.ui.dialog.prototype.options.position,g)}else{g=d.ui.dialog.prototype.options.position}f=this.uiDialog.is(":visible");if(!f){this.uiDialog.show()}this.uiDialog.position(g);if(!f){this.uiDialog.hide()}},_setOptions:function(h){var i=this,f={},g=false;d.each(h,function(j,k){i._setOption(j,k);if(j in a){g=true}if(j in c){f[j]=k}});if(g){this._size()}if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option",f)}},_setOption:function(h,i){var g,j,f=this.uiDialog;switch(h){case"buttons":this._createButtons(i);break;case"closeText":this.uiDialogTitlebarCloseText&&this.uiDialogTitlebarCloseText.text(""+i);break;case"dialogClass":f.removeClass(this.options.dialogClass).addClass(b+i);break;case"disabled":if(i){f.addClass("ui-dialog-disabled")}else{f.removeClass("ui-dialog-disabled")}break;case"draggable":g=f.is(":data(ui-draggable)");if(g&&!i){f.draggable("destroy")}if(!g&&i){this._makeDraggable()}break;case"position":this._position(i);break;case"resizable":j=f.is(":data(ui-resizable)");if(j&&!i){f.resizable("destroy")}if(j&&typeof i==="string"){f.resizable("option","handles",i)}if(!j&&i!==false){this._makeResizable(i)}break;case"title":d(".ui-dialog-title",this.uiDialogTitlebar).html(""+(i||"&#160;"));break}this._super(h,i)},_size:function(){var f,h,g=this.options;this.element.show().css({width:"auto",minHeight:0,height:0});if(g.minWidth>g.width){g.width=g.minWidth}f=this.uiDialog.css({height:"auto",width:g.width}).outerHeight();h=Math.max(0,g.minHeight-f);if(g.height==="auto"){this.element.css({minHeight:h,height:"auto"})}else{this.element.height(Math.max(g.height-f,0))}if(this.uiDialog.is(":data(ui-resizable)")){this.uiDialog.resizable("option","minHeight",this._minHeight())}}});d.extend(d.ui.dialog,{uuid:0,getTitleId:function(f){var g=f.attr("id");if(!g){this.uuid+=1;g=this.uuid}return"ui-dialog-title-"+g},overlay:function(f){this.$el=d.ui.dialog.overlay.create(f)}});d.extend(d.ui.dialog.overlay,{instances:[],oldInstances:[],create:function(g){var f=(this.oldInstances.pop()||d("<div>").addClass("ui-widget-overlay ui-front"));f.appendTo(document.body);f.bind("mousedown",function(h){g._keepFocus(h)});this.instances.push(f);return f},destroy:function(f){var g=d.inArray(f,this.instances);if(g!==-1){this.oldInstances.push(this.instances.splice(g,1)[0])}if(this.instances.length===0){d([document,window]).unbind(".dialog-overlay")}f.remove()}});d.extend(d.ui.dialog.overlay.prototype,{destroy:function(){d.ui.dialog.overlay.destroy(this.$el)}})}(jQuery));(function(a){var b="ui-minipager";a.widget("ui.minipager",{options:{total:1,page:0},_create:function(){var d=this,c=this.options;this.element.append(a('<button><i class="icon-small icon-small-first"></i></button><button><i class="icon-small icon-small-prev"></i></button><button><i class="icon-small icon-small-next"></i></button><button><i class="icon-small icon-small-last"></i></button>')).buttonset();this.element.data("widgetName",this.widgetFullName);this.first=this.element.children().first().click(function(f){d._trigger("change",f,{page:d.options.page=0});d.setState()});this.pre=this.first.next().click(function(g){var f=d.options.page;if(f>0){d._trigger("change",g,{page:d.options.page=f-1})}d.setState()});this.nxt=this.pre.next().click(function(g){var f=d.options.page;if(f<d.options.total-1){d._trigger("change",g,{page:d.options.page=f+1})}d.setState()});this.last=this.nxt.next().click(function(f){d._trigger("change",f,{page:d.options.page=d.options.total-1});d.setState()});this.setState()},setState:function(){this.pre.button("option","disabled",this.options.page<=0);this.first.button("option","disabled",this.options.page<=0);this.nxt.button("option","disabled",this.options.page>=this.options.total-1);this.last.button("option","disabled",this.options.page>=this.options.total-1)},_setOption:function(d,c){a.Widget.prototype._setOption.call(this,d,c);if(d==="total"||d==="page"){this.setState()}}})})(jQuery);(function(a){a.widget("ui.formdialog",{_create:function(){var c=this,b=this.options;this.widgetEventPrefix="formdialog";this.form=a("form",this.element).append('<input style="position:absolute;top:-1000px" type="submit" value=""/>').submit(function(f){f.preventDefault();var g=a(this).serializeArray(),d={};a.each(g,function(e,h){if(d[h.name]){if(d[h.name] instanceof Array){d[h.name].push(h.value)}else{d[h.name]=[v,h.value]}}else{d[h.name]=h.value}});c._trigger("ok",null,d);c.element.dialog("close")});this.element.data("widgetName",this.widgetFullName).dialog({autoOpen:false,modal:true,resizable:false,width:b.width||300,buttons:[{text:"",click:function(){c.form.submit()},"class":"ui-state-em"},{text:"",click:function(d){a(this).dialog("close")}}]})},_destroy:function(){this.form.unbind().remove()},open:function(){this.form[0].reset();this._trigger("open",null);this.element.dialog("open")}})})(jQuery);(function(e){var a="http://adbox.sina.com.cn/assets/images/fClipboard.swf",f="ui-copybutton",d=f+"-flash",c=f+"-btn",b=0;e.widget("ui.copybutton",{_create:function(){this.flashid="uiCopybutton"+(b++);this.element.addClass(c).button();this.flash=e('<div class="'+d+'" >'+e.createSwfHTML({url:a,width:this.options.width||40,height:this.options.height||20,wmode:"transparent",allowscriptaccess:"always",id:this.flashid})+"</div>");this.copy=e("<div/>").addClass(f).appendTo(this.element.parent()).append(this.element).append(this.flash);this.timer=setInterval(e.proxy(e.ui.copybutton.initHandler,this),500);e.ui.copybutton["copyScript"+this.flashid]=e.proxy(e.ui.copybutton.copyScript,this);e.ui.copybutton["mouseEventHandler"+this.flashid]=e.proxy(e.ui.copybutton.mouseEventHandler,this)},_destroy:function(){delete e.ui.copybutton["copyScript"+this.flashid]}});e.ui.copybutton.initHandler=function(){var g=e.swf.getMovie(this.flashid);if(g&&g.flashInit&&g.flashInit()){g.setHandCursor(true);g.setContentFuncName("jQuery.ui.copybutton.copyScript"+this.flashid);g.setMEFuncName("jQuery.ui.copybutton.mouseEventHandler"+this.flashid);clearInterval(this.timer)}};e.ui.copybutton.copyScript=function(){var g=this.options.content?this.options.content.val():"";this._trigger("copy",null,{content:g});return g};e.ui.copybutton.mouseEventHandler=function(h){var g=this.element;switch(h){case"mouse_over":g.addClass("ui-state-hover");break;case"mouse_out":g.removeClass("ui-state-hover");g.removeClass("ui-state-active");break;case"mouse_down":g.addClass("ui-state-active");break;case"mouse_up":g.removeClass("ui-state-active");break;default:break}}})(jQuery);$.fn.extend({getInstance:function(){var a=this.data("widgetName");return a?this.data($.camelCase(a)):null}});
/*
 * 
 * author : acelan(xiaobin8[at]staff.sina.com.cn)
 */
(function(a){var b=0;a.widget("pandora.ObjBase",{prop:{w:{type:"number",label:""},h:{type:"number",label:""},x:{type:"number",label:"x",level:"base"},y:{type:"number",label:"y",level:"base"},z:{label:"z",level:"base"},interactive:{type:"objarray",map:{effect:{type:"interactive",label:""}},min:0,max:3,label:"",buttonText:" + "}},options:{resizable:true,x:0,y:0,w:60,h:40},_create:function(){var d=this.options,c=d.container||this.element.parent()||a("body"),e=d.z||(e++);this.widgetEventPrefix="obj";this.view=a('<div class="obj-view"/>').appendTo(this.element);this.element.css({"z-index":e,position:"absolute"}).addClass("obj").data("widgetName",this.widgetFullName).draggable({containment:c,start:a.proxy(this._dragstartHandler,this),drag:a.proxy(this._draggingHandler,this),stop:a.proxy(this._dragendHandler,this)});d.resizable&&this.element.resizable({minWidth:this.options.minWidth||60,minHeight:this.options.minHeight||20,zIndex:e,helper:"ui-resizable-helper",handles:"n, e, s, w, ne, se, sw, nw",resize:a.proxy(this._resizingHandler,this),stop:a.proxy(this._resizeendHandler,this)});d.tag&&this.element.append(a('<div class="obj-tag">'+d.tag+"</div>"));this.setSize(this.options.w,this.options.h);this.setPos(this.options.x,this.options.y);this._setOption("disabled",d.disabled)},_destroy:function(){this.view.removeClass("obj-view").unbind().removeData().remove()},_setOption:function(d,c){a.Widget.prototype._setOption.call(this,d,c);if(d==="disabled"){c?this.element.addClass("obj-disabled"):this.element.removeClass("obj-disabled");this.element.draggable("option","disabled",c);this.options.resizable&&this.element.resizable("option","disabled",c)}},setSize:function(c,d){this.element.css({width:c,height:d});this.view.css({width:c,height:d})},setPos:function(c,d){this.element.css({left:c,top:d})},_renderW:function(){this.setSize(this.options.w,this.options.h)},_renderH:function(){this.setSize(this.options.w,this.options.h)},_renderX:function(){this.setPos(this.options.x,this.options.y)},_renderY:function(){this.setPos(this.options.x,this.options.y)},_renderZ:function(){this.element.css("zIndex",this.options.z)},_dragstartHandler:function(d,c){this._trigger("dragstart",d,{x:c.position.left,y:c.position.top})},_draggingHandler:function(d,c){this._trigger("dragging",d,{x:c.position.left,y:c.position.top,offsetX:c.position.left-c.originalPosition.left,offsetY:c.position.top-c.originalPosition.top})},_dragendHandler:function(d,c){this.setPos(c.position.left,c.position.top);this._trigger("dragend",d,{x:this.options.x=c.position.left,y:this.options.y=c.position.top,offsetX:c.position.left-c.originalPosition.left,offsetY:c.position.top-c.originalPosition.top})},_resizingHandler:function(d,c){this._trigger("resizing",d,{w:c.size.width,h:c.size.height,x:c.position.left,y:c.position.top})},_resizeendHandler:function(f,d){var c=this.options.x+d.position.left-d.originalPosition.left,g=this.options.y+d.position.top-d.originalPosition.top;this.setSize(d.size.width,d.size.height);this.setPos(c,g);this._trigger("resizend",f,{w:this.options.w=d.size.width,h:this.options.h=d.size.height,x:this.options.x=c,y:this.options.y=g})},getProp:a.noop,_setValue:function(d,c){var e=this[a.pandora.ObjBase.getRefreshPropHandlerName(d)];this.options[d]=c;e&&e.call(this)},setValue:function(){if(arguments.length===1){var d=arguments[0];for(var c in d){this._setValue(c,d[c])}}else{if(arguments.length===2){this._setValue(arguments[0],arguments[1])}}},getValue:function(){var d={};d.type=this.widgetName;d.options={};for(var c in this.prop){("undefined"!=typeof this.options[c])&&(d.options[c]=this.options[c])}return d}});a.pandora.ObjBase.getRefreshPropHandlerName=function(c){return"_render"+c.charAt(0).toUpperCase()+c.substring(1)}})(jQuery);(function(a){a.widget("pandora.Com",a.pandora.ObjBase,{prop:{bgcolor:{type:"color",label:""},font:{type:"font",label:""},color:{type:"color",label:""},opacity:{type:"range",range:{min:0,max:100},label:""}},options:{x:0,y:0,w:90,h:60,opacity:0,font:{"font-family":"Arial"},color:"#333"},_create:function(){a.pandora.ObjBase.prototype._create.call(this,this.options);this.options.opacity&&(this.options.opacity>0)&&(this._renderOpacity());this._renderBgcolor();this._renderColor();this._renderFont();this._renderSkin();this.element.addClass("com")},_destroy:function(){this.element.removeClass("com");a.pandora.ObjBase.prototype._destroy.call(this)},_renderBgcolor:function(){this.options.bgcolor&&this.view.css("background-color",this.options.bgcolor)},_isSkinClass:function(b){return b.indexOf(this.widgetName+"-skin-")>=0},_genSkinClass:function(){return this.widgetName+"-skin-"+this.options.skin},_renderSkin:function(){var b=this,c=this.element[0].className.split(" ");a.each(c,function(d,e){b._isSkinClass(e)&&b.element.removeClass(e)});this.element.addClass(this._genSkinClass())},_renderOpacity:function(){this.view.css("opacity",(100-this.options.opacity)/100)},_renderFont:function(){this.view.css(this.options.font)},_renderColor:function(){this.view.css("color",this.options.color)},getProp:function(){var c={};for(var b in this.prop){a.extend(c[b]={},this.prop[b],{value:this.options[b]})}return c}})})(jQuery);(function(a){a.widget("pandora.Retangle",a.pandora.Com,{prop:{color:{level:"base"},font:{level:"base"},url:{type:"text",label:""}},options:{bgcolor:"#ccc"},_create:function(){a.pandora.Com.prototype._create.call(this,this.options)}})})(jQuery);(function(b){var a="group",c="group-atom";b.widget("pandora.Group",b.pandora.ObjBase,{prop:{w:{disabled:true},h:{disabled:true},type:{type:"switchobj",label:""}},options:{resizable:false},_create:function(){b.pandora.ObjBase.prototype._create.call(this,this.options);this.element.addClass(a)},_destroy:function(){this.element.removeClass(a);b.pandora.ObjBase.prototype._destroy.call(this)},connect:function(g){var l=this,t=this.options,n,m,q,i,k,j,d=[],s=[],f=[],e=[],p,r,o;this.options.coms=g;b.each(g,function(h,u){p=b("#"+u.uid);r=p.getInstance();o=r.getValue().options;p.addClass(c);r.disable();d.push(o.x-0);s.push(o.y-0);f.push((o.w-0)+(o.x-0));e.push((o.h-0)+(o.y-0))});n=Math.min.apply(null,d);m=Math.min.apply(null,s);q=Math.max.apply(null,f)-n+2;i=Math.max.apply(null,e)-m+2,z=this.options.z;b.extend(this.options,{x:n,y:m,w:q,h:i});b.each(g,function(h,u){p=b("#"+u.uid);k=d[h]-n;j=s[h]-m;relativeZ=z+u.options.z;p.getInstance().setValue({x:k,y:j,z:relativeZ});p.data({relativeX:k,relativeY:j,relativeZ:relativeZ});l.view.append(p)});if(t.resizable){this.element.resizable("option",{minHeight:i,minWidth:q})}this.setPos(n,m);this.setSize(q,i)},unconnect:function(){var e=this.element.parent(),d=this.options.x,h=this.options.y,g=this.options.z,f=[];b.each(this.options.coms,function(l,m){f.push(m);var k=b("#"+m.uid),j=k.getInstance();k.removeClass(c);k.appendTo(e);j.enable();j.setValue({x:k.data("relativeX")+d,y:k.data("relativeY")+h,z:k.data("relativeZ")-g})});this.options.coms=null;return f},getProp:function(){var e={},d=this;b.map(this.prop,function(g,f){g.value=d.options[f];e[f]=g});return e},_setValue:function(e,d){if(this.prop[e]){var f=this[b.pandora.ObjBase.getRefreshPropHandlerName(e)];this.options[e]=d;f&&f.call(this)}},setValue:function(){if(arguments.length===1){var e=arguments[0];for(var d in e){this._setValue(d,e[d])}}else{if(arguments.length===2){this._setValue(arguments[0],arguments[1])}}},getValue:function(){var e={},f;e.type=this.widgetName;e.options={coms:[]};for(var d in this.prop){("undefined"!=typeof this.options[d])&&(e.options[d]=this.options[d])}b.each(this.options.coms,function(g,h){f=b("#"+h.uid).getInstance().getValue();f.uid=h.uid;e.options.coms.push(f)});return e}});b.pandora.Group.isGroup=function(d){return b(d).hasClass(a)};b.pandora.Group.isGroupAtom=function(d){return b(d).hasClass(c)}})(jQuery);(function(a){a.widget("pandora.Btn",a.pandora.Com,{prop:{text:{type:"string",label:""},bgcolor:{level:"base"},type:{type:"select",datasource:[{name:"",value:"button"},{name:"",value:"submit"},{name:"",value:"reset"}],label:""},skin:{type:"radio",datasource:["default","lightblue","red","green","blue","gorden","black"],format:function(b,c){return'<div class="btn-skin-block"><div class="skin-btn Btn-skin-'+c+'"><div class="com-btn"></div></div></div>'},label:""},url:{type:"text",label:""}},options:{w:60,h:20,text:"",skin:"default",type:"button"},setSize:function(b,c){a.pandora.Com.prototype.setSize.call(this,b,c);a("table",this.view).css({width:b-4,height:c-4})},_create:function(){a.pandora.Com.prototype._create.call(this,this.options);this.view.addClass("com-btn");this._renderFont();this._renderText()},_destroy:function(){this.view.removeClass("com-btn");a.pandora.Com.prototype._destroy.call(this)},_renderText:function(){this._renderType()},_renderType:function(){var b=this.options.text?this.options.text:{button:"",submit:"",reset:""}[this.options.type];this.view.html('<table cellpadding="0" cellspacing="0" style="width:'+this.options.w+"px;height:"+this.options.h+'px;"><tr><td>'+b+"</td></tr></table>")}})})(jQuery);(function(a){a.widget("pandora.Txt",a.pandora.Com,{prop:{text:{label:""},url:{type:"text",label:""}},options:{w:160,h:90,text:"...",url:""},_create:function(){var b=this;a.pandora.Com.prototype._create.call(this,this.options);this.view.addClass("com-txt");this.view.editable({editBy:"dblclick",type:"textarea",onSubmit:function(c){b.options.text=c.current}});this._renderFont();this._renderColor();this._renderText()},_renderText:function(){this.view.html(this.options.text)}})})(jQuery);(function(b){var a="http://adbox.sina.com.cn/maker/assets/img/adbox-default.png";b.widget("pandora.Img",b.pandora.Com,{prop:{src:{type:"picture",label:"",mtype:1},link:{type:"text",label:""},color:{level:"base"},font:{level:"base"},bgcolor:{level:"base"}},options:{w:0,h:0,src:{url:a,width:200,height:150}},setSize:function(c,d){b.pandora.Com.prototype.setSize.call(this,c,d);b("img",this.view).css({width:c,height:d})},_create:function(){b.pandora.Com.prototype._create.call(this,this.options);this.view.addClass("com-img");this._renderSrc(true)},_destroy:function(){this.view.removeClass("com-img");b.pandora.Com.prototype._destroy.call(this)},_renderSrc:function(e){var c=new Image(),d=this;if(!e){this.options.w=this.options.src.width;this.options.h=this.options.src.height}c.onload=function(){d.view.html('<img src="'+d.options.src.url+'"/>');d.setSize(d.options.w=d.options.w||d.options.src.width,d.options.h=d.options.h||d.options.src.height);c.onload=null;c=null};c.src=this.options.src.url}})})(jQuery);(function(a){a.widget("pandora.Qrcode",a.pandora.Img,{prop:{src:{type:"picture",label:"",mtype:1,source:[{type:"LocalUpload",label:"",options:{}},{type:"UrlUpload",label:"url",options:{}},{type:"QrcodeGenerator",label:"url",options:{type:2}},{type:"QrcodeGenerator",label:"",options:{type:1}}]},color:{level:"base"},font:{level:"base"},bgcolor:{level:"base"}},options:{w:0,h:0,src:{url:"http://sinastorage.com/sandbox/qr/2497.png",width:60,height:60}},_create:function(){a.pandora.Img.prototype._create.call(this,this.options)}})})(jQuery);(function(b){var a="http://adbox.sina.com.cn/maker/assets/img/adbox-default.swf";b.widget("pandora.Fla",b.pandora.Com,{prop:{src:{type:"picture",label:"",mtype:2},link:{type:"text",label:""},color:{level:"base"},font:{level:"base"},bgcolor:{level:"base"}},options:{w:0,h:0,src:{url:a,width:300,height:250}},setSize:function(c,d){b.pandora.Com.prototype.setSize.call(this,c,d);b("embed",this.view).attr({width:c,height:d});b(".com-fla-view-mask",this.view).css({width:c,height:d})},_create:function(){b.pandora.Com.prototype._create.call(this,this.options);this.view.addClass("com-fla");this._renderSrc()},_destroy:function(){this.view.removeClass("com-fla");b.pandora.Com.prototype._destroy.call(this)},_renderSrc:function(){var c=this.options.w=this.options.w||this.options.src.width,d=this.options.h=this.options.h||this.options.src.height;this.view.html([b.createSwfHTML({url:this.options.src.url,width:this.options.w||this.options.src.width,height:this.options.h||this.options.src.height,scale:"exactfit",wmode:"opaque"}),'<div class="com-fla-view-mask" style="z-index:'+(this.options.z+1)+'"></div>'].join(""));this.setSize(c,d)}})})(jQuery);(function(b){var a="http://img.adbox.sina.com.cn/assets/images/player.swf?flvurl=";b.widget("pandora.Video",b.pandora.Com,{prop:{src:{type:"picture",label:"",mtype:3},link:{type:"text",label:""},color:{level:"base"},font:{level:"base"},bgcolor:{level:"base"},pic:{type:"picture",label:"",mtype:1,tips:"*400x300"},autoplay:{type:"select",label:"",datasource:[{name:"",value:0},{name:"",value:1}],value:0}},options:{w:0,h:0,src:{url:"http://img.adbox.sina.com.cn/vod/251.flv",width:300,height:250}},setSize:function(c,d){b.pandora.Com.prototype.setSize.call(this,c,d);b("embed",this.view).attr({width:c,height:d});b(".com-video-view-mask",this.view).css({width:c,height:d})},_create:function(){b.pandora.Com.prototype._create.call(this,this.options);this.view.addClass("com-video");this._renderSrc()},_renderSrc:function(){var c=this.options.w=this.options.w||this.options.src.width,d=this.options.h=this.options.h||this.options.src.height;this.view.html([b.createSwfHTML({url:a+this.options.src.url,width:this.options.w||this.options.src.width,height:this.options.h||this.options.src.height,scale:"exactfit",wmode:"opaque"}),'<div class="com-video-view-mask" style="z-index:'+(this.options.z+1)+'"></div>'].join(""));this.setSize(c,d)}});b.pandora.Video.PLAYER_URL=a})(jQuery);(function(b){var a=0;b.widget("pandora.Inputcom",b.pandora.Com,{prop:{name:{type:"string",label:""}},options:{},_create:function(){b.pandora.Com.prototype._create.call(this,this.options);this.options.name=this.options.name||this._genName();this.element.addClass("com-inputcom")},_destroy:function(){this.element.removeClass("com-inputcom");b.pandora.Com.prototype._destroy.call(this)},_genName:function(){return this.widgetName+(a++)}})})(jQuery);(function(b){var a=0;b.widget("pandora.Input",b.pandora.Inputcom,{prop:{type:{type:"select",datasource:[{name:"",value:"text"},{name:"",value:"password"}],label:""},label:{type:"string",label:""},minlength:{type:"number",label:""},maxlength:{type:"number",label:""},require:{type:"select",datasource:[{name:"",value:0},{name:"",value:1}],label:""},rule:{type:"select",datasource:[{name:"",value:"none"},{name:"",value:"intege"},{name:"",value:"intege1"},{name:"",value:"intege2"},{name:"",value:"email"},{name:"",value:"chinese"},{name:"",value:"zipcode"},{name:"",value:"mobile"},{name:"",value:"other"}],width:100,label:""},pattern:{label:""},placeholder:{type:"string",label:""}},options:{w:120,h:20,label:""},_create:function(){var d=this,c=this.options;b.pandora.Inputcom.prototype._create.call(this,c);this.view.addClass("com-input");this._renderPlaceholder()},_renderPlaceholder:function(){var c=this.options.placeholder||"";this.view.html(this.options.type==="password"?c.replace(/./g,"\u2022"):c)},_renderType:function(){this._renderPlaceholder()}})})(jQuery);(function(b){var a=0;b.widget("pandora.Radio",b.pandora.Inputcom,{prop:{value:{type:"string",label:""},items:{type:"Objarray",label:"",map:{value:{type:"string",label:""},label:{type:"string",label:""}},newItemData:function(c){return{label:""+(++a),value:""+a}},min:1,max:20}},options:{items:[{label:"0",value:"0"}]},_create:function(){b.pandora.Inputcom.prototype._create.call(this,this.options);this.view.addClass("com-radio");this._renderItems()},_destroy:function(){this.view.removeClass("com-radio");b.pandora.Inputcom.prototype._destroy.call(this)},_renderItems:function(){var c=this.options.items,e=[],d=this.options.name;b.each(c,function(f,g){e.push('<div class="com-radio-item"><nobr><input type="radio" name="'+d+'" value="'+g.value+'" /><label>'+g.label+"</label></nobr></div>")});this.view.html(e.join(""))}})})(jQuery);(function(b){var a=0;b.widget("pandora.Checkbox",b.pandora.Inputcom,{prop:{items:{type:"Objarray",label:"",map:{label:{type:"string",label:""},value:{type:"string",label:""},checked:{type:"select",label:"",datasource:[{name:"",value:0},{name:"",value:1}],value:0,width:40}},newItemData:function(c){return{label:""+(++a),value:a}},min:1,max:20}},options:{items:[{label:"0",value:0}]},_create:function(){b.pandora.Inputcom.prototype._create.call(this,this.options);this.view.addClass("com-checkbox");this._renderItems()},_destroy:function(){this.view.removeClass("com-checkbox");b.pandora.Inputcom.prototype._destroy.call(this)},_renderItems:function(){var c=this.options.items,e=[],d=this.options.name;b.each(c,function(f,g){e.push('<div class="com-checkbox-item"><input type="checkbox"'+(parseInt(g.checked,10)?' checked="checked"':"")+' name="'+d+'" value="'+g.value+'" /><label>'+g.label+"</label></div>")});this.view.html(e.join(""))}})})(jQuery);(function(b){var a=0;b.widget("pandora.Select",b.pandora.Inputcom,{prop:{value:{type:"string",label:""},items:{type:"Objarray",label:"",map:{label:{type:"string",label:""},value:{type:"string",label:""}},min:1}},options:{items:[{label:"",value:0}],value:0},_create:function(){var d=this,c=this.options;b.pandora.Inputcom.prototype._create.call(this,c);this.view.addClass("com-select");this._renderItems();this._renderW()},_renderItems:function(){var d=[],c=this.options.items;b.each(c,function(e,f){d.push('<option value="'+f.value+'">'+f.label+"</option>")});this.view.html('<select style="width:'+this.options.w+'px" name="'+this.options.name+'" value="'+this.options.value+'">'+d.join("")+"</select>")},setSize:function(c,d){b.pandora.Inputcom.prototype.setSize.call(this,c,d);this.view.children().first().width(c)},_renderW:function(){b.pandora.Inputcom.prototype._renderW.call(this);this.setSize(this.options.w,this.options.h)}})})(jQuery);(function(a){a.widget("pandora.Region",a.pandora.Com,{prop:{provname:{type:"string",label:""},cityname:{type:"string",label:""},provW:{type:"number",label:""},cityW:{type:"number",label:""}},options:{w:220,h:40,provname:"pname",cityname:"cname",provW:100,cityW:100},_create:function(){a.pandora.Com.prototype._create.call(this,this.options);this.view.addClass("com-region");this.view.html('<select style="margin-right:5px;"><option value="-1"></option></select><select><option></option></select>');this._renderProvW();this._renderCityW()},_destroy:function(){this.view.removeClass("com-region");a.pandora.Com.prototype._destroy.call(this)},_renderProvW:function(){this.view.children().first().width(this.options.provW)},_renderCityW:function(){this.view.children().last().width(this.options.cityW)}})})(jQuery);(function(a){a.widget("pandora.Imgslider",a.pandora.Com,{prop:{thumbX:{label:"x"},thumbY:{label:"y"},thumbWidth:{label:""},thumbHeight:{label:""},thumbItemWidth:{type:"number",label:""},thumbItemHeight:{type:"number",label:""},mainWidth:{label:""},mainHeight:{label:""},dir:{type:"select",datasource:[{name:"",value:0},{name:"",value:1}],label:"",width:60},delay:{type:"select",datasource:[{name:"1s",value:1},{name:"2s",value:2},{name:"3s",value:3}],label:"",width:60},items:{type:"objarray",map:{thumb:{type:"picture",label:""},main:{type:"picture",label:""},url:{type:"text",label:""}},label:"",min:5,max:10,itemHeader:""},color:{level:"base"},font:{level:"base"},bgcolor:{level:"base"},overflow:{label:"-"}},options:{delay:3,size:"300x200",w:300,h:250,thumbItemWidth:40,thumbItemHeight:40,thumbWidth:230,thumbHeight:45,thumbX:36,thumbY:199,mainWidth:300,mainHeight:250,dir:0,overflow:0},_create:function(){var b=this.options,c=this;this.prop.items.onitemselect=a.proxy(this._selectItem,this);b.items=b.items||[{thumb:{url:"http://img.adbox.sina.com.cn/pic/1081.jpg",width:300,height:350},main:{url:"http://img.adbox.sina.com.cn/pic/1076.jpg",width:300,height:350},url:"http://sina.com"},{thumb:{url:"http://img.adbox.sina.com.cn/pic/1082.jpg",width:300,height:350},main:{url:"http://img.adbox.sina.com.cn/pic/1077.jpg",width:300,height:350},url:"http://sina.com"},{thumb:{url:"http://img.adbox.sina.com.cn/pic/1083.jpg",width:300,height:350},main:{url:"http://img.adbox.sina.com.cn/pic/1078.jpg",width:300,height:350},url:"http://sina.com"},{thumb:{url:"http://img.adbox.sina.com.cn/pic/1084.jpg",width:300,height:350},main:{url:"http://img.adbox.sina.com.cn/pic/1079.jpg",width:300,height:350},url:"http://sina.com"},{thumb:{url:"http://img.adbox.sina.com.cn/pic/1085.jpg",width:300,height:350},main:{url:"http://img.adbox.sina.com.cn/pic/1080.jpg",width:300,height:350},url:"http://sina.com"}];a.pandora.Com.prototype._create.call(this,this.options);this.view.addClass("com-imgslider");this.view.append(this.main=a('<div class="com-imgslider-main">').css({width:b.mainWidth,height:b.mainHeight}).append(this.maincnt=a('<div class="com-imgslider-main-cnt">')).resizable({resize:this._resizingMainHandler()})).append(this.thumb=a('<div class="com-imgslider-thumb" style="position:absolute;">').append(this.larrow=a('<div class="com-imgslider-arrow com-imgslider-larrow">')).append(this.rarrow=a('<div class="com-imgslider-arrow com-imgslider-rarrow">')).append(this.tarrow=a('<div class="com-imgslider-arrow com-imgslider-tarrow">')).append(this.barrow=a('<div class="com-imgslider-arrow com-imgslider-barrow">')).append(a('<div class="com-imgslider-thumb-inner">').append(this.thumbcnt=a('<div style="position:relative;">'))).draggable({containment:this.view,drag:this._dragingThumbHandler()}).resizable({handles:"e, s",resize:this._resizingThumbHandler()}));this._renderItems();this._renderThumbSize();this._renderThumbPos();this._renderDir();this._renderArrowPos();this._on(this.thumb,{"click .com-imgslider-thumb-item":function(d){this._selectItem(parseInt(a(d.target).attr("data-idx"),10))}});this.larrow.click(function(g){var h=c.thumbcnt.css("left"),f=(c.options.items&&c.options.items.length)||0,d=c.options.thumbWidth-(c.options.thumbItemWidth+6)*(f-1);h=h==="auto"?0:parseInt(h,10);if(h>d){c.thumbcnt.css("left",h-c.options.thumbItemWidth-6)}});this.rarrow.click(function(f){var g=c.thumbcnt.css("left"),d=(c.options.items&&c.options.items.length)||0;g=g==="auto"?0:parseInt(g,10);if(g<0){c.thumbcnt.css("left",g+c.options.thumbItemWidth+6)}});this.tarrow.click(function(g){var h=c.thumbcnt.css("top"),f=(c.options.items&&c.options.items.length)||0,d=c.options.thumbHeight-(c.options.thumbItemHeight+6)*(f-1);h=h==="auto"?0:parseInt(h,10);if(h>d){c.thumbcnt.css("top",h-c.options.thumbItemHeight-6)}});this.barrow.click(function(f){var g=c.thumbcnt.css("top"),d=(c.options.items&&c.options.items.length)||0;g=g==="auto"?0:parseInt(g,10);if(g<0){c.thumbcnt.css("top",g+c.options.thumbItemHeight+6)}})},_destroy:function(){this.barrow.unbind().remove();this.tarrow.unbind().remove();this.larrow.unbind().remove();this.rarrow.unbind().remove()},_renderArrowPos:function(){var c=this.options.thumbHeight/2-8,b=this.options.thumbWidth/2-8;this.larrow.css("top",c);this.rarrow.css("top",c);this.tarrow.css("left",b);this.barrow.css("left",b)},_checkOverflow:function(){var c=parseInt(this.options.dir,10)||0,b=(this.options.items&&this.options.items.length)||0;this.thumb.removeClass("com-imgslider-thumb-overflow");this.options.overflow=0;if(!c){if((this.options.thumbItemWidth+6)*b>this.options.thumbWidth){this.thumb.addClass("com-imgslider-thumb-overflow");this.options.overflow=1}}else{if((this.options.thumbItemHeight+6)*b>this.options.thumbHeight){this.thumb.addClass("com-imgslider-thumb-overflow");this.options.overflow=1}}this.thumbcnt.css({left:0,top:0,width:!c?(this.options.thumbItemWidth+6)*b:this.options.thumbItemWidth+6,height:!c?this.options.thumbItemHeight+6:(this.options.thumbItemHeight+6)*b})},_dragingThumbHandler:function(){var b=this;return function(d,c){b._trigger("change",d,{thumbX:b.options.thumbX=c.position.left,thumbY:b.options.thumbY=c.position.top})}},_resizingThumbHandler:function(){var b=this;return function(d,c){b._renderThumbSize();b._trigger("change",d,{thumbWidth:b.options.thumbWidth=c.size.width,thumbHeight:b.options.thumbHeight=c.size.height})}},_resizingMainHandler:function(){var b=this;return function(d,c){b._trigger("change",d,{mainWidth:b.options.mainWidth=c.size.width,mainHeight:b.options.mainHeight=c.size.height});b._renderMainSize()}},_renderThumbItemSize:function(){var b=this.options.thumbItemWidth,c=this.options.thumbItemHeight;a(".com-imgslider-thumb-item",this.thumb).each(function(d,e){a(e).css({width:b,height:c})})},_renderThumbItemWidth:function(){this._renderThumbItemSize();this._renderDir()},_renderThumbItemHeight:function(){this._renderThumbItemSize();this._renderDir()},_renderThumbSize:function(){this.thumb.css({width:this.options.thumbWidth,height:this.options.thumbHeight});this._checkOverflow()},_renderThumbWidth:function(){this._renderThumbSize()},_renderThumbHeight:function(){this._renderThumbSize()},_renderThumbPos:function(){this.thumb.css({left:this.options.thumbX,top:this.options.thumbY})},_renderThumbX:function(){this._renderThumbPos()},_renderThumbY:function(){this._renderThumbPos()},_renderMainSize:function(){var b=this.options.mainWidth,c=this.options.mainHeight;a(".com-imgslider-main-item",this.main).each(function(d,e){a(e).css({width:b,height:c})});this.main.css({width:b,height:c})},_renderMainHeight:function(){this._renderMainSize()},_renderMainWidth:function(){this._renderMainSize()},_renderItems:function(){var d=this.options.items,c=[],g=[],f=this.options.thumbItemHeight,b=this.options.thumbItemWidth,h=this.options.mainWidth,e=this.options.mainHeight;this.main.children().first().css({top:0});d&&a.each(d,function(j,k){g.push('<img class="com-imgslider-main-item" style="width:'+h+"px;height:"+e+'px" src="'+k.main.url+'" alt="..."/>');c.push('<img data-idx="'+j+'" class="com-imgslider-thumb-item" style="width:'+b+"px;height:"+f+'px" src="'+k.thumb.url+'"/>')});this.maincnt.html(g.join(""));this.thumbcnt.html(c.join(""));this._checkOverflow()},_renderDir:function(){var d=parseInt(this.options.dir,10)||0,c=this.options.thumbWidth,e=this.options.thumbHeight,b=Math.max(c,e);this.thumb.removeClass("com-imgslider-thumb-v com-imgslider-thumb-h");this.options.thumbHeight=d?b:this.options.thumbItemHeight+6;this.options.thumbWidth=d?this.options.thumbItemWidth+6:b;this.thumb.addClass("com-imgslider-thumb-"+["h","v"][d]);this._renderThumbSize();this._renderArrowPos()},_selectItem:function(b){a(".com-imgslider-thumb-item",this.thumb).each(function(d,e){var c=a(e);parseInt(c.attr("data-idx"),10)===b?c.addClass("com-imgslider-thumb-item-selected"):c.removeClass("com-imgslider-thumb-item-selected")});this.main.children().first().css({top:-this.options.mainHeight*b})}})})(jQuery);(function(f){var h="com-tabslider",e=h+"-tab",c=e+"-item",d=h+"-main",b=d+"-item",g=60,a=30;f.widget("pandora.Tabslider",f.pandora.Com,{prop:{layout:{type:"select",datasource:[{name:"",value:"010"},{name:"",value:"001"},{name:"",value:"110"},{name:"",value:"101"},{name:"",value:"0110"},{name:"",value:"0011"},{name:"",value:"1110"},{name:"",value:"1011"},{name:"",value:"0101"},{name:"",value:"1101"}],format:function(j,i){return'<i class="icon icon-t-layout-'+i.value+'"></i>'+j},menuWidth:100,label:"",width:100},delay:{type:"select",datasource:[{name:"1s",value:1},{name:"2s",value:2},{name:"3s",value:3}],label:"",width:60},items:{type:"objarray",map:{text:{type:"string",label:""},pic:{type:"picture",label:""},url:{type:"text",label:""}},label:"",min:4,max:12,itemHeader:""},mainWidth:{label:""},mainHeight:{label:""}},options:{w:300,h:100,delay:3,layout:"1101"},_create:function(){var i=this.options;this.prop.items.onitemselect=f.proxy(this._selectItem,this);i.items=i.items||[{text:"",pic:{url:"http://img.adbox.sina.com.cn/pic/1076.jpg",width:300,height:250},url:"http://sina.com"},{text:"",pic:{url:"http://img.adbox.sina.com.cn/pic/1077.jpg",width:300,height:250},url:"http://sina.com"},{text:"",pic:{url:"http://img.adbox.sina.com.cn/pic/1078.jpg",width:300,height:250},url:"http://sina.com"},{text:"",pic:{url:"http://img.adbox.sina.com.cn/pic/1079.jpg",width:300,height:250},url:"http://sina.com"},{text:"",pic:{url:"http://img.adbox.sina.com.cn/pic/1080.jpg",width:300,height:250},url:"http://sina.com"},{text:"",pic:{url:"http://img.adbox.sina.com.cn/pic/1080.jpg",width:300,height:250},url:"http://sina.com"}];f.pandora.Com.prototype._create.call(this,this.options);this.view.addClass("com-tabslider");this.view.append(f('<ul class="com-tabslider-main"></ul>'));this._renderLayout();this._on(this.element,{"click .com-tabslider-tab-item":function(j){this._selectItem(parseInt(f(j.target).attr("data-idx"),10))}})},_renderLayout:function(){var k=["v","h"][parseInt(this.options.layout.charAt(0),10)],j=this.options.layout.substring(1).split(""),i=[];this.view.removeClass(h+"-layout-v");this.view.removeClass(h+"-layout-h");f.each(j,function(l,m){if(m==="0"){i.push('<div class="'+d+'"><ul class="'+d+'-inner"></div>')}else{i.push('<ul class="'+e+'"></ul>')}});this.view.addClass(h+"-layout-"+k).html(i.join(""));this._renderItems()},_resize:function(i,j){var m=this.options.layout.charAt(0)==="0",l=this.options.layout.substring(1).replace("0","").length,k=this;f("."+b+", ."+b+" img, ."+d,this.view).each(function(o,q){var p=(m?i:(i-(g)*l)),n=(m?(j-(a)*l):j);f(q).css({width:k.options.mainWidth=p,height:k.options.mainHeight=n})});f("."+e,this.view).each(function(p,r){var o=parseInt(f(r).attr("data-tablen")),q=m?(i/o-1):g,n=m?a:(j/o-1);f("."+c,f(r)).each(function(s,t){f(t).css({width:q,height:n,lineHeight:n+"px"})})});this.view.find("."+d+"-inner").css("top",0)},setSize:function(i,j){f.pandora.Com.prototype.setSize.call(this,i,j);this._resize(i,j)},_renderItems:function(){var o=this,l=this.options.items.slice(0),n=[],k=[],j=this.options.layout.substring(1).replace("0","").length,m=Math.ceil(l.length/j),p=[],i=0;while(l.length>0){p.push(l.splice(0,m))}f.each(p,function(s,q){var r=[];f.each(q,function(t,u){k.push('<li class="com-tabslider-main-item com-tabslider-main-item-'+i+'"><img src="'+u.pic.url+'"/></li>');r.push('<li class="com-tabslider-tab-item com-tabslider-tab-item-'+i+'" data-idx="'+(i++)+'">'+u.text+"</li>")});n.push(r.join(""))});f("."+e,this.view).each(function(q,r){f(r).attr("data-tablen",p[q].length).html(n[q])});f("."+d+"-inner",this.view).html(k.join(""));this._resize(this.options.w,this.options.h)},_selectItem:function(i){f(".com-tabslider-tab-item",this.element).each(function(k,l){var j=f(l);parseInt(j.attr("data-idx"),10)===i?j.addClass("com-tabslider-tab-item-active"):j.removeClass("com-tabslider-tab-item-active")});this.view.find(".com-tabslider-main-inner").css({top:-this.options.mainHeight*i})}})})(jQuery);(function(b){var c="http://weibo.com",a={id:2738910765,idstr:"2738910765",screen_name:"",name:"",province:"11",city:"8",location:" ",description:"",url:"",profile_image_url:"http://tp2.sinaimg.cn/2738910765/50/5632534588/1",profile_url:"u/2738910765",domain:"",weihao:"",gender:"m",followers_count:33,friends_count:42,statuses_count:16,favourites_count:0,created_at:"Fri Apr 27 14:22:41 +0800 2012",following:true,allow_all_act_msg:false,geo_enabled:true,verified:true,verified_type:2,remark:"",status:{created_at:"Tue May 22 17:11:21 +0800 2012",id:3448533338240896,mid:"3448533338240896",idstr:"3448533338240896",text:"#### ",source:'<a href="http://e.weibo.com" rel="nofollow"></a>',favorited:false,truncated:false,in_reply_to_status_id:"",in_reply_to_user_id:"",in_reply_to_screen_name:"",geo:null,reposts_count:0,comments_count:0,attitudes_count:0,mlevel:0,visible:{type:0,list_id:0}},allow_all_comment:true,avatar_large:"http://tp2.sinaimg.cn/2738910765/180/5632534588/1",verified_reason:"",follow_me:true,online_status:0,bi_followers_count:7,lang:"zh-cn"};b.widget("pandora.Wbcom",b.pandora.Com,{prop:{nick:{type:"string",label:""},wid:{label:"id"},verified:{label:""},verified_type:{label:""},pic:{label:""},domain:{label:""}},options:{wid:"2738910765",nick:"",resizable:false},_create:function(){var e=this,d=this.options;this._initInfo(a);b.pandora.Com.prototype._create.call(this,this.options);this.element.addClass("com-wbcom")},_setValue:function(e,d){var f=this;if(e==="nick"){this._getInfoByNick(d,function(g){b.pandora.Com.prototype._setValue.call(f,e,d)})}else{b.pandora.Com.prototype._setValue.call(f,e,d)}},_initInfo:function(d){this.options.nick=d.screen_name;this.options.wid=d.id;this.options.verified=d.verified;this.options.verified_type=d.verified_type;this.options.domain=d.domain||d.profile_url},_getInfoByNick:function(d,g,e){var f=this;b.pandora.Wbcom.getInfoByNick(d,function(h){b.pandora.Wbcom.user=a=h;f._initInfo(h);g&&g(h)},function(h){f._initInfo(h);e&&e(h)})}});b.pandora.Wbcom.getInfoByNick=function(d,f,e){b.ajax("/wapi/getuser",{cache:false,data:{username:d},dataType:"script",success:function(){if(getuser&&!getuser.data.error){f&&f(getuser.data)}else{pandora.tipBox.show((getuser&&getuser.data.error)||"",2);e&&e(a)}}})};b.pandora.Wbcom.getInfoByWid=function(e,f,d){b.ajax("/wapi/getinfo",{cache:false,data:{wid:e},dataType:"script",success:function(){if(getinfo&&!getinfo.data.error){f&&f(getinfo.data)}else{pandora.tipBox.show((getinfo&&getinfo.data.error)||"",2);d&&d(a)}}})};b.pandora.Wbcom.user=a;b.pandora.Wbcom.genUserUrl=function(d){return c+"/"+(d.domain||d.profile_url)};b.pandora.Wbcom.genAvatarHTML=function(f,d,e){return'<span class="com-wbnick-url" title="'+b.pandora.Wbcom.genUserUrl(f)+'"><img class="com-wbavatar-img" src="'+(f.avatar_large||f.profile_image_url)+'" alt="'+f.screen_name+'" '+((d&&e)?'style="width:'+d+"px;height:"+e+'px;"':"")+"/></span>"};b.pandora.Wbcom.genVerifiedHTML=function(e){var d=e.verified?["approve_yellow","approve_blue","approve_blue","approve_blue","approve_blue","approve_blue","approve_blue","approve_blue"][e.verified_type]:"";return d?'<img src="/assets/images/blank.gif" alt="" class="com-wbnick-v '+d+'" />':""};b.pandora.Wbcom.genNickHTML=function(d){return['<span class="com-wbnick-txt" title="'+b.pandora.Wbcom.genUserUrl(d)+'">'+d.screen_name+"</span>",b.pandora.Wbcom.genVerifiedHTML(d)].join("")};b.pandora.Wbcom.genRelationHTML=function(e,f,d){return""};b.pandora.Wbcom.getChainById=function(f,e,d){b.ajax("/wapi/getchain",{cache:false,data:{wid:f},dataType:"script",success:function(){if(getchain&&!getchain.data.error){e&&e(getchain.data)}else{pandora.tipBox.show((getchain&&getchain.data.error)||"",2);d&&d()}}})};b.pandora.Wbcom.changDefaultUser=function(d){b.pandora.Wbcom.user=a=d}})(jQuery);(function(a){a.widget("pandora.Wbfocus",a.pandora.Wbcom,{prop:{skin:{type:"radio",datasource:["default","v3"],label:"",format:function(b,c){return'<div class="wbfocus-skin-block"><div style="padding:4px 10px" class="com-wbfocus skin-wbfocus Wbfocus-skin-'+c+'-h"><span class="add-icon">+</span></div></div>'}}},options:{w:46,h:20,skin:"default",resizable:true},setSize:function(b,c){a.pandora.Wbcom.prototype.setSize.call(this,b,c);a("table",this.view).css({width:b-2,height:c-2})},_create:function(){a.pandora.Wbcom.prototype._create.call(this,this.options);this.view.addClass("com-wbfocus");this._renderNick()},_renderNick:function(){var b=a.pandora.Wbcom.user;this.view.attr("title",""+b.screen_name).html('<table cellpadding="0" cellspacing="0" style="width:'+this.options.w+"px;height:"+this.options.h+'px;"><tr><td><span class="add-icon">+</span> </td></tr></table>')},_renderFont:function(){this.view.css(this.options.font);a(".add-icon",this.view).css("font-size",parseInt(this.options.font["font-size"],10)+4||16)}})})(jQuery);(function(a){a.widget("pandora.Wbavatar",a.pandora.Wbcom,{prop:{w:{disabled:true},h:{disabled:true},size:{type:"select",label:"",datasource:[{name:"30x30",value:"30x30"},{name:"50x50",value:"50x50"},{name:"150x150",value:"150x150"}],width:80},pic:{label:""},color:{level:"base"},font:{level:"base"},bgcolor:{level:"base"}},options:{w:40,h:40,skin:"default",size:"30x30"},_create:function(){a.pandora.Wbcom.prototype._create.call(this,this.options);this.view.addClass("com-wbavatar");this._renderSize();this._renderNick()},_renderNick:function(){var b=a.pandora.Wbcom.user;this.options.pic=(this.options.w>50||this.options.h>50)?b.avatar_large:b.profile_image_url;this.view.html(a.pandora.Wbcom.genAvatarHTML(b,this.options.w,this.options.h))},_renderSize:function(){var b=this.options.size.split("x");this.options.w=parseInt(b[0],10);this.options.h=parseInt(b[1],10);this._renderNick();a.pandora.Wbcom.prototype.setSize.call(this,this.options.w,this.options.h)}})})(jQuery);(function(a){a.widget("pandora.Wbnick",a.pandora.Wbcom,{options:{w:120,h:20,resizable:true},_create:function(){a.pandora.Wbcom.prototype._create.call(this,this.options);this.view.addClass("com-wbnick");this._renderNick()},_renderNick:function(){var b=a.pandora.Wbcom.user;this.view.html(a.pandora.Wbcom.genNickHTML(b))},_renderFont:function(){this.view.css(this.options.font)}})})(jQuery);(function(a){a.widget("pandora.Wbrelation",a.pandora.Wbcom,{prop:{showAvatar:{type:"select",datasource:[{name:"",value:0},{name:"",value:1}],label:""},max:{type:"number",label:"",min:1,max:20}},options:{w:200,h:60,showAvatar:0,resizable:true,max:4},_create:function(){var c=this,b=this.options;a.pandora.Wbcom.prototype._create.call(this,b);this.view.addClass("com-wbrelation");this._renderNick()},_renderNick:function(){this._renderDes()},_renderDes:function(){var e=a.pandora.Wbcom.user,d=this,c=this.options.max,b=parseInt(this.options.showAvatar,10);a.pandora.Wbcom.getChainById(e.id,function(m){var o=(m.content_type?"${nick}":"${nick}"),n=m.users,l=0,h=0,g,k=[],f=[];if(n instanceof Array){if(n.length>0){for(var l=0;l<c;l++){if(n[l]){k.push(a.pandora.Wbcom.genNickHTML(n[l]));b&&f.push(a.pandora.Wbcom.genAvatarHTML(n[l],30,30))}}}else{k.push("")}d.view.html([o.replace(/\$\{nick\}/g,k.join("")),a.pandora.Wbcom.genNickHTML(e),'<div class="com-wbrelation-avatar">'+f.join("")+"</div>"].join(""))}})},_renderFont:function(){this.view.css(this.options.font)},_renderShowAvatar:function(){this._renderDes()},_renderMax:function(){this._renderDes()}})})(jQuery);(function(a){a.widget("pandora.Wbshare",a.pandora.Wbcom,{prop:{text:{type:"text",label:""},pic:{type:"picture",label:""}},options:{w:40,h:20,text:"",pic:"",resizable:true},_create:function(){a.pandora.Wbcom.prototype._create.call(this,this.options);this.view.addClass("com-wbshare").html("")},_renderFont:function(){this.view.css(this.options.font)},_renderColor:function(){this.view.css("color",this.options.color)}})})(jQuery);(function(a){a.widget("pandora.Wbrepos",a.pandora.Wbcom,{prop:{post:{type:"wbpost",label:"url"}},options:{w:40,h:20,post:{id:""},resizable:true},_create:function(){a.pandora.Wbcom.prototype._create.call(this,this.options);this.view.addClass("com-wbrepos").html("")},_renderFont:function(){this.view.css(this.options.font)},_renderPost:function(){this.options.articalId=this.options.post.id},_renderColor:function(){this.view.css("color",this.options.color)}})})(jQuery);(function(a){a.widget("pandora.SSOcom",a.pandora.Com,{_create:function(){}});a.pandora.SSOcom.checkLogin=function(b,c){if("undefined"!==typeof sinaSSOController){sinaSSOController.autoLogin(function(d){if(d==null){c&&c()}else{b&&b(d)}})}else{c()}}})(jQuery);(function(a){a.widget("pandora.Usernick",a.pandora.Com,{prop:{beforelogin:{type:"text",label:""},afterlogin:{type:"insert",label:""}},options:{w:120,h:20,resizable:true,beforelogin:"",afterlogin:"${nick}"},_create:function(){var b=this;a.pandora.Com.prototype._create.call(this,this.options);this.element.addClass("com-usernick");this._renderContent()},_renderContent:function(){var b=this;a.pandora.SSOcom.checkLogin(function(c){var d=c.uid;a.pandora.Wbcom.getInfoByWid(d,function(f){var e=a.pandora.Wbcom.genNickHTML(f);b.view.html(b.options.afterlogin?b.options.afterlogin.replace(/\$\{nick\}/g,e):e)},function(){b.view.html(b.options.beforelogin||"")})},function(){b.view.html(b.options.beforelogin||"")})},_renderFont:function(){this.view.css(this.options.font)},_renderBeforelogin:function(){this._renderContent()},_renderAfterlogin:function(){this._renderContent()}})})(jQuery);(function(b){var a="http://adbox.sina.com.cn/maker/assets/img/weibo180x180.jpg";b.widget("pandora.Useravatar",b.pandora.Com,{prop:{size:{type:"select",label:"",datasource:[{name:"30x30",value:"30x30"},{name:"50x50",value:"50x50"},{name:"150x150",value:"150x150"}]},pic:{label:""},color:{level:"base"},font:{level:"base"},bgcolor:{level:"base"}},options:{w:50,h:50,skin:"default",size:"50x50",resizable:false},_create:function(){var c=this;b.pandora.Com.prototype._create.call(this,this.options);this.element.addClass("com-useravatar");this._renderSize()},_renderNick:function(){var c=this;b.pandora.SSOcom.checkLogin(function(d){var e=d.uid;b.pandora.Wbcom.getInfoByWid(e,function(f){c.options.pic=(c.options.w>50||c.options.h>50)?f.avatar_large:f.profile_image_url;c.view.html(b.pandora.Wbcom.genAvatarHTML(f,c.options.w,c.options.h))},function(){c.view.html('<img src="'+a+'" style="width:'+c.options.w+"px;height:"+c.options.h+'px;" />')})},function(){c.view.html('<img src="'+a+'" style="width:'+c.options.w+"px;height:"+c.options.h+'px;" />')})},_renderSize:function(){var c=this.options.size.split("x");this.options.w=parseInt(c[0],10);this.options.h=parseInt(c[1],10);this._renderNick();b.pandora.Com.prototype.setSize.call(this,this.options.w,this.options.h)}})})(jQuery);
/*
 * 
 * author : acelan(xiaobin8[at]staff.sina.com.cn)
 */
(function(b){var c=0,a=0;b.widget("pandora.BaseEditor",{options:{value:0},_create:function(){this.widgetEventPrefix="editor";this.options.value=this._formatValue(this.options.value);this.element.data("widgetName",this.widgetFullName).addClass("editor")},_destroy:function(){this.element.removeClass("editor").removeData()},_getName:function(){return this.widgetName+"Name"+(c++)},_getUID:function(){return this.widgetName+"UID"+(a++)},_formatValue:function(d){return d},setValue:function(d){if(!this.options.disabled){var d=this._formatValue(d);this._setValue&&this._setValue(d)}},getValue:function(){return this._getValue()}})})(jQuery);(function(a){a.widget("pandora.NumberEditor",a.pandora.BaseEditor,{options:{value:0},_create:function(){var c=this,b=this.options;a.pandora.BaseEditor.prototype._create.call(this,b);this.editor=a("<input/>").attr({type:"text"}).addClass("ui-input").val(this.options.value).width(b.width).blur(function(f){var d=c._getValue();if(b.value!==d){c._trigger("change",f,{value:b.value=d})}});this.element.addClass("number-editor").append(this.editor).keydown(function(f){if(!c.disabled){var d=c._getValue();if(f.which==13&&b.value!==d){c._trigger("change",f,{value:b.value=d})}}});this.editor.spinner({min:this.options.min,max:this.options.max,spin:function(f,d){if(b.value!==d.value){c._trigger("change",f,{value:b.value=d.value})}}});this._setOption("disabled",b.disabled)},_destroy:function(){this.element.removeClass("number-editor");this.editor.unbind("blur");this.element.unbind("keydown");a.pandora.BaseEditor.prototype._destroy.call(this)},_setOption:function(c,b){a.pandora.BaseEditor.prototype._setOption.call(this,c,b);if(c==="disabled"){this.editor.attr("disabled",b)}},_formatValue:function(b){return parseInt(b,10)||0},_setValue:function(b){this.editor.val(this.options.value=b)},_getValue:function(){return this._formatValue(this.editor.val())}})})(jQuery);(function(a){a.widget("pandora.StringEditor",a.pandora.BaseEditor,{options:{value:""},_create:function(){var b=this.options;a.pandora.BaseEditor.prototype._create.call(this,b);this.editor=a("<input/>").attr({type:"text"}).addClass("ui-input").val(this.options.value).width(b.width).blur(a.proxy(this._blurHandler,this));this.element.addClass("string-editor").append(this.editor).keyup(a.proxy(this._keyupHandler,this));this._setOption("disabled",b.disabled)},_blurHandler:function(c){var b=this._getValue();if(this.options.value!==b){this._trigger("change",c,{value:this.options.value=b})}},_keyupHandler:function(c){if(!this.options.disabled){if(c.which==13){var b=this._getValue();if(this.options.value!==b){this._trigger("change",c,{value:this.options.value=b})}c.target.blur()}}},_setOption:function(c,b){a.pandora.BaseEditor.prototype._setOption.call(this,c,b);if(c==="disabled"){this.editor.attr("disabled",b)}},_formatValue:function(b){return b+""},_setValue:function(b){this.editor.val(this.options.value=b)},_getValue:function(){return this._formatValue(this.editor.val())},_destroy:function(){this.element.removeClass("string-editor");this.editor.unbind("blur",this._blurHandler);this.element.unbind("keyup",this._keyupHandler);a.pandora.BaseEditor.prototype._destroy.call(this)}})})(jQuery);(function(a){a.widget("pandora.TextEditor",a.pandora.BaseEditor,{options:{value:""},_create:function(){var c=this,b=this.options;a.pandora.BaseEditor.prototype._create.call(this,b);this.element.addClass("text-editor").append(this.editor=a("<textarea>").val(this.options.value).width(b.width)).keyup(a.proxy(this._keyupHandler,this));this._setOption("disabled",b.disabled)},_keyupHandler:function(c){var b=this._getValue();if(this.options.value!==b){this._trigger("change",c,{value:this.options.value=b})}},_setOption:function(c,b){a.pandora.BaseEditor.prototype._setOption.call(this,c,b);if(c==="disabled"){this.editor.attr("disabled",b)}},_formatValue:function(b){return b+""},_setValue:function(b){this.editor.val(this.options.value=b)},_getValue:function(){return this._formatValue(this.editor.val())},_destroy:function(){this.element.removeClass("text-editor");this.element.unbind("keyup",this._keyupHandler)}})})(jQuery);(function(a){a.widget("pandora.RangeEditor",a.pandora.BaseEditor,{options:{value:0,min:0,max:100,format:function(b){return b}},_create:function(){var b=this.options;a.pandora.BaseEditor.prototype._create.call(this,b);this.slider=a('<div class="range-editor-slider"/>').appendTo(this.element).slider({min:b.min,max:b.max,value:b.value,change:a.proxy(this._changeHandler,this),slide:a.proxy(this._slideHandler,this)});this.editor=a('<span style="padding:0px 6px;line-height:20px;">').html(b.value).appendTo(this.element);this.element.addClass("range-editor");this._setOption("disabled",b.disabled)},_slideHandler:function(c,b){this.editor.html(b.value)},_changeHandler:function(c,b){this._trigger("change",c,{value:this.options.value=b.value})},_destroy:function(){this.element.removeClass("range-editor");a.pandora.BaseEditor.prototype._destroy.call(this)},_setOption:function(c,b){a.pandora.BaseEditor.prototype._setOption.call(this,c,b);if(c==="disabled"){this.slider.slider("option","disabled",b)}},_formatValue:function(b){return parseInt(b,10)},_getValue:function(){return this._formatValue(this.editor.val())},_setValue:function(b){this.editor.val(this.options.value=b)}})})(jQuery);(function(a){a.widget("pandora.RadioEditor",a.pandora.BaseEditor,{_create:function(){var c=this,b=this.options;a.pandora.BaseEditor.prototype._create.call(this,b);this.editor=this.element.html(this._getMainHTML()).buttonset().change(a.proxy(this._changeHandler,this));this._setOption("disabled",b.disabled)},_changeHandler:function(b){this._trigger("change",b,{value:this.options.value=b.srcElement.value})},_destroy:function(){this.editor.unbind("change",this._changeHandler);a.pandora.BaseEditor.prototype._destroy.call(this)},_setOption:function(c,b){a.pandora.BaseEditor.prototype._setOption.call(this,c,b);if(c==="disabled"){this.editor.buttonset(b?"disable":"enable")}},_getMainHTML:function(){var d=this,c=[],e=this.options.datasource,f=this.options.format,b=this.options.name||this._getName();a.each(e,function(g,k){var h=d._getUID(),j=(k==d.options.value?'checked="checked"':"");c.push('<input type="radio" '+j+' value="'+k+'" id="'+h+'" name="'+b+'"/><label for="'+h+'">'+(f?f(g,k):k)+"</label>")});return c.join("")},_formatValue:function(b){return b+""},_setValue:function(b){var c=this,d=this._formatValue(b);a('input[type="radio"]',this.element).each(function(e,f){if(c._formatValue(f.value)===b){c.options.value=d;f.checked=true}});this.element.buttonset()},_getValue:function(){var b=this,c;a('input[type="radio"]',this.element).each(function(d,e){if(e.checked){return c=b._formatValue(e.value)}});return c}})})(jQuery);(function(c){var b=["Arial ","SimSun ","SimHei ","FangSong_GB2312 _GB2312","KaiTi_GB2312 _GB2312"];var a=[10,12,14,16,18,20,22,24,26,28,30,32,34,36,38,40,42,44,46,48,50,52,54,56,58,60,62,64,66,68,70,72];c.widget("pandora.FontEditor",c.pandora.BaseEditor,{options:{value:{"font-family":"SimSun"}},_create:function(){var d=this.options;c.pandora.BaseEditor.prototype._create.call(this,d);this._fontFamily=c("<select/>").html(this._getFontFamilyHTML()).val(d.value["font-family"]).appendTo(this.element).selectmenu({width:35,menuWidth:120,change:c.proxy(this._changeHandler,this),format:function(f,e){return'<span style="font-family:'+e.value+'">'+f+"</span>"}});this._fontSize=c("<select/>").html(this._getFontSizeHTML()).val(d.value["font-size"]).appendTo(this.element).selectmenu({width:28,menuWidth:70,change:c.proxy(this._changeHandler,this)});this._fontStyle=c("<div>").addClass("font-editor-style").html(this._getFontStyleHTML(d.value)).appendTo(this.element).buttonset().change(c.proxy(this._changeHandler,this));this.element.addClass("font-editor");this._setOption("disabled",d.disabled)},_changeHandler:function(f,d){this._trigger("change",f,{value:this.options.value=this._getValue()})},_destroy:function(){this.element.removeClass("font-editor");c.pandora.BaseEditor.prototype._destroy.call(this)},_setOption:function(e,d){c.pandora.BaseEditor.prototype._setOption.call(this,e,d);if(e==="disabled"){this._fontFamily.selectmenu(d?"disable":"enable");this._fontStyle.buttonset(d?"disable":"enable");this._fontSize.selectmenu(d?"disable":"enable")}},_getFontFamilyHTML:function(){var d=[];c.each(b,function(f,g){var e=g.split(" ");d.push('<option value="'+e[0]+'">'+e[1]+"</option>")});return d.join("")},_getFontSizeHTML:function(){var d=[];c.each(a,function(e,f){d.push('<option value="'+f+'">'+f+"px</option>")});return d.join("")},_getFontStyleHTML:function(e){var d=this._getUID()+"Style";return['<input type="checkbox" name="font-weight"'+(e["font-weight"]==="bold"&&' checked="checked"')+' value="bold" id="'+d+'B" /><label for="'+d+'B"><b>B</b></label>','<input type="checkbox" name="font-style"'+(e["font-style"]==="italic"&&' checked="checked"')+' value="italic" id="'+d+'I" /><label for="'+d+'I"><i>I</i></label>','<input type="checkbox" name="text-decoration"'+(e["text-decoration"]==="underline"&&' checked="checked"')+' value="underline" id="'+d+'U" /><label for="'+d+'U"><u>U</u></label>'].join("");d=null},_getValue:function(){var e={},d=this._fontStyle.children('input[type="checkbox"]');e["font-family"]=this._fontFamily.val();e["font-size"]=parseInt(this._fontSize.val());d.each(function(f,g){e[g.name]=(g.checked?g.value:(g.name=="text-decoration"?"none":"normal"))});return e},_setValue:function(f){var i=f["font-weight"],e=f["font-style"],j=f["text-decoration"],d=f["font-family"],h=f["font-size"]+"";this._fontFamily.selectmenu("value",d);this._fontSize.selectmenu("value",h);var g=this._fontStyle.children('input[type="checkbox"]');g[0].checked=i&&i!=="normal";g[1].checked=e&&e!=="normal";g[2].checked=j&&j!=="none";this._fontStyle.buttonset();this.options.value=f}})})(jQuery);(function(a){a.widget("pandora.SelectEditor",a.pandora.BaseEditor,{options:{value:0,datasource:[]},_create:function(){var b=this.options;a.pandora.BaseEditor.prototype._create.call(this,b);this.element.html(this._getMainHTML());this.editor=this.element.children("select").selectmenu({width:b.width,menuWidth:b.menuWidth,format:b.format,change:a.proxy(this._changeHandler,this)});this._setOption("disabled",b.disabled)},_changeHandler:function(c,b){this._trigger("change",c,{value:this.options.value=this._formatValue(b.item.value)})},_destroy:function(){a.pandora.BaseEditor.prototype._destroy.call(this)},_getMainHTML:function(){var c=this,b=[],d=this.options.datasource;a.each(d,function(e,g){var f=(g.value==c.options.value?'selected="selected" ':"");b.push("<option "+f+'value="'+g.value+'">'+g.name+"</option>")});return'<select name="'+(this.options.name||this._getName())+'">'+b.join("")+"</select>"},_setOption:function(c,b){a.pandora.BaseEditor.prototype._setOption.call(this,c,b);if(c==="disabled"){this.editor.selectmenu(b?"disable":"enable")}},_formatValue:function(b){return b+""},_setValue:function(b){var e=false,c=this,d=this._formatValue(b);a.each(this.options.datasource,function(f,g){if(c._formatValue(g.value)===d){e=true;return false}});e&&this.editor.selectmenu("value",this.options.value=d);return e},_getValue:function(){return this._formatValue(this.editor.selectmenu("value"))}})})(jQuery);(function(a){a.widget("pandora.ColorEditor",a.pandora.BaseEditor,{options:{value:""},_create:function(){var c=this,b=this.options;a.pandora.BaseEditor.prototype._create.call(this);this.editor=a('<div class="color-editor"><div class="color-editor-btn" style="background-color:'+b.value+'"></div><i class="icon-arrow-down"></i></div>').addClass("ui-state-default").data("color",b.value).appendTo(this.element);this._hoverable(this.editor);this.editor.colorpicker({change:function(g,f){var d="transparent";if(f!=="transparent"){d=f.toHex()}c.setValue(d);c._trigger("change",g,{value:d})}});this._setOption("disabled",b.disabled)},_destroy:function(){a.pandora.BaseEditor.prototype._destroy.call(this)},_setOption:function(c,b){a.pandora.BaseEditor.prototype._setOption.call(this,c,b);if(c=="disabled"){this.editor.attr("disabled",b);this.editor.colorpicker("option","disabled",b)}},_setValue:function(b){this.editor.find(".color-editor-btn").css("background-color",b);this.editor.data("color",this.options.value=b)}})})(jQuery);(function(c){var e="objarray-editor-item",d="objarray-editor-block",b="objarray-editor-panel",a=0;c.widget("pandora.ObjarrayEditor",c.pandora.BaseEditor,{options:{value:[],map:{},max:10,min:0,itemHeader:"",buttonText:" + ",onitemselect:c.noop},add:function(i){var h=this._copy();if(h.length<this.options.max){var g=h[h.length-1],f=(this.options.newItemData&&this.options.newItemData(g))||c.extend({},g);this._addBlock(h.length,f);h.push(f)}this._trigger("change",i,{value:this.options.value=h});this._changeState()},_create:function(){var g=this,f=this.options;this.currentIndex=0;c.pandora.BaseEditor.prototype._create.call(this,f);this.addBtn=c("<button>"+this.options.buttonText+"</button>").button().click(c.proxy(this.add,this));this.element.addClass("objarray-editor").append(this.addBtn).append(c('<div class="'+b+'"><div class="editor-panel-arrow">\u25C6</div><div class="editor-panel-content"></div></div>'));this.editor=c(".editor-panel-content",this.element);this._on(this.editor,function(){var i={};i["editorchange ."+e]=function(n,m){var l=this._copy(),k=c(n.currentTarget),h=parseInt(k.attr("data-idx"),10),j=k.attr("data-pn");l[h][j]=m.value;this._trigger("change",n,{value:this.options.value=l});n.stopPropagation();this.options.onitemselect(this.currentIndex)};i["mouseover ."+d]=function(h){c(h.currentTarget).addClass(d+"-hover")};i["mouseout ."+d]=function(h){c(h.currentTarget).removeClass(d+"-hover")};i["click ."+d+"-remove"]=function(k){var j=this._copy();if(j.length>this.options.min){var l=c(k.currentTarget).parent()[0],h=this._getIndex(l);c(l).remove();j.splice(h,1)}if(j.length===0){this.element.removeClass(d+"-open")}this._trigger("change",k,{value:this.options.value=j});this._changeState();this._refreshIndex();k.stopPropagation()};i["click ."+d+"-header"]=function(k){var j=c(k.target),h=parseInt(j.attr("data-idx"),10);this.currentIndex=h||0;c("."+d+"-table",this.editor).hide();j.next().show();this.options.onitemselect(h)};return i}());!this.options.itemHeader&&this.element.addClass("objarray-editor-expend");this._setValue(this.options.value);this._setOption("disabled",f.disabled)},_changeState:function(){this.addBtn.button("option","disabled",this.options.value.length>=this.options.max);if(this.options.value.length>this.options.min){this.editor.addClass(d+"-canremove")}else{this.editor.removeClass(d+"-canremove")}},_destroy:function(){this.element.removeClass("objarray-editor");this.addBtn.unbind("click",this.add);c.pandora.BaseEditor.prototype._destroy.call(this)},_setOption:function(g,f){c.pandora.BaseEditor.prototype._setOption.call(this,g,f);if(g==="disabled"){this.addBtn.button("option","disabled",f)}},_addBlock:function(h,j){var g=[],l=this.options.map,m;for(var f in l){l[f].value=j[f];g.push(["<tr>",(l[f].label?"<th><nobr>"+l[f].label+"</nobr></th>":""),'<td><div data-idx="'+h+'" data-pn="'+f+'" class="'+e+'"></div></td>',"</tr>"].join(""))}this.editor.append(m=c(['<div class="'+d+'">',(this.options.itemHeader?'<h4 data-idx="'+h+'" class="'+d+'-header">'+this.options.itemHeader+"</h4>":""),'<table class="'+d+'-table">'+g.join("")+"</table>",'<div class="'+d+'-remove ui-corner-all"></div>',"</div>"].join("")));c("."+e,m).each(function(p,q){var o=c(q),n=o.attr("data-pn");o[c.upperCaseFirst(l[n].type)+"Editor"](l[n])});this.element.addClass(d+"-open")},_genId:function(){return"ObjarrayEditor"+(a++)},_copy:function(){return this.options.value.slice(0)},_getIndex:function(f){return c.inArray(f,c("."+d,this.editor))},_refreshIndex:function(){c("."+d+"-header",this.editor).each(function(f,g){c(g).attr("data-idx",f)});c("."+d,this.editor).each(function(f,g){c(g).attr("data-idx",f)})},_setValue:function(f){var g=this;this.options.value=f.slice(0,this.options.max);c.each(this.options.value,function(h,j){g._addBlock(h,j)});this._changeState()},_getValue:function(){return this.options.value}})})(jQuery);(function(b){var d="obj-editor-item",c="obj-editor-block",a="obj-editor-panel";b.widget("pandora.ObjEditor",b.pandora.BaseEditor,{options:{value:{},map:{}},_create:function(){var f=this,e=this.options,h=e.map,g=e.value;b.pandora.BaseEditor.prototype._create.call(this,e);this.element.addClass("obj-editor").append(b('<div class="'+a+'"><div class="editor-panel-arrow">\u25C6</div><div class="editor-panel-content"></div></div>'));this.editor=b(".editor-panel-content",this.element);this._on(this.editor,function(){var i={};i["editorchange ."+d]=function(n,m){var l=this._copy();var k=b(n.currentTarget),j=k.attr("data-pn");l[j]=m.value;this._trigger("change",n,{value:this.options.value=l});n.stopPropagation()};return i}());this._setValue(this.options.value)},_destroy:function(){this.element.removeClass("obj-editor");b.pandora.BaseEditor.prototype._destroy.call(this)},_copy:function(){return b.extend({},this.options.value)},_setValue:function(f){var h=this.options.map,g=[];this._remove();for(var e in h){h[e].value=f[e];g.push("<tr><th><nobr>"+h[e].label+'</nobr></th><td><div data-pn="'+e+'" class="'+d+'"></div></td></tr>')}this.editor.append(b("<table>"+g.join("")+"</table>"));b("."+d,this.editor).each(function(m,n){var l=b(n),j=l.attr("data-pn");l[b.upperCaseFirst(h[j].type)+"Editor"](h[j])});this.options.value=f},_getValue:function(){return this.option.value},_remove:function(){b(".editor",this.editor).remove()}})})(jQuery);(function(c){var d="switchobj-editor",a=0;function b(e,f){return"SwitchobjEditorPanel"+e+f}c.widget("pandora.SwitchobjEditor",c.pandora.BaseEditor,{options:{datasource:[{name:"",value:"common"},{name:"",value:"form",map:{action:{type:"string",label:""}}}],value:{select:"common",map:{common:"",form:{action:"http://adbox.sina.com.cn/form/testdrive"}}}},_create:function(){var h=this,g=this.options,i={},e=[],f=g.datasource||[];c.pandora.BaseEditor.prototype._create.call(this,g);this.uid=a++;c.each(f,function(j,k){e.push({name:k.name,value:k.value});k.map&&(i[k.value]=k.map)});this.editor=c('<div class="'+d+'-select">').appendTo(this.element).SelectEditor({datasource:g.datasource,width:g.width,change:function(l,k){var j={};j.select=k.value;j.map=h.options.value.map;h._showPanel(k.value);h._trigger("change",l,{value:h.options.value=j});l.preventDefault()}});this.panel=c('<div class="'+d+'-panel">').appendTo(this.element);c.map(i,function(k,j){h.panel.append(c('<div id="'+b(h.uid,j)+'">').addClass(d+"-panel-block").ObjEditor({map:k,value:h.options.value.map[h.options.value.select],change:function(n,m){var l={};l.select=h.options.value.select;!l.map&&(l.map={});l.map[l.select]=m.value;h._trigger("change",n,{value:h.options.value=l});n.preventDefault()}}))});this._on(this.panel,(function(){var j={};j["editorchange ."+d+"-panel-block"]=function(l,k){l.stopPropagation()};j["editorchange ."+d+"-select"]=function(l,k){l.stopPropagation()};return j})());this._showPanel(this.options.value.select)},_showPanel:function(e,f){c("."+d+"-panel-block",this.element).hide();c("#"+b(this.uid,e)).show()}})})(jQuery);(function(b){var c=["always ","click ","mouseover ","mouseout "],a=["none ","show ","hide "];b.widget("pandora.InteractiveEditor",b.pandora.BaseEditor,{options:{value:{type:"always",animate:"none",target:"none"}},_create:function(){var e=this,d=this.options;b.pandora.BaseEditor.prototype._create.call(this,d);this._interType=b("<select/>").html(this._getTypeHTML()).val(d.value.type).appendTo(this.element).selectmenu({width:35,menuWidth:100,change:b.proxy(this._changeHandler,this)});this._interTarget=b("<select/>").html(this._getTargetHTML()).val(d.value.target).appendTo(this.element).selectmenu({width:35,menuWidth:100,change:b.proxy(this._changeHandler,this)});this._interAnimate=b("<select>").html(this._getAnimateHTML()).val(d.value.animate).appendTo(this.element).selectmenu({width:35,menuWidth:100,change:b.proxy(this._changeHandler,this)});this.element.addClass("interactive-editor");this._setOption("disabled",d.disabled)},_changeHandler:function(d){this._trigger("change",d,{value:this.options.value=this._getValue()})},_destroy:function(){this.element.removeClass("interactive-editor");b.pandora.BaseEditor.prototype._destroy.call(this)},_setOption:function(e,d){b.pandora.BaseEditor.prototype._setOption.call(this,e,d);if(e==="disabled"){this._interType.selectmenu(d?"disable":"enable");this._interTarget.selectmenu(d?"disable":"enable");this._interAnimate.selectmenu(d?"disable":"enable")}},_getTypeHTML:function(){var d=[];b.each(c,function(f,g){var e=g.split(" ");d.push('<option value="'+e[0]+'">'+e[1]+"</option>")});return d.join("")},_getTargetHTML:function(){var d=[],e=("function"==typeof b.pandora.InteractiveEditor.getObjectList)?b.pandora.InteractiveEditor.getObjectList():b.pandora.InteractiveEditor.getObjectList;e.unshift("none ");b.each(e,function(g,h){var f=h.split(" ");d.push('<option value="'+f[0]+'">'+f[1]+"</option>")});return d.join("")},_getAnimateHTML:function(e){var d=[];b.each(a,function(g,h){var f=h.split(" ");d.push('<option value="'+f[0]+'">'+f[1]+"</option>")});return d.join("")},_getValue:function(){return{type:this._interType.val(),target:this._interTarget.val(),animate:this._interAnimate.val()}},_setValue:function(d){this._interType.selectmenu("value",d.type);this._interTarget.selectmenu("value",d.target);this._interAnimate.selectmenu("value",d.animate);this.options.value=d}});b.pandora.InteractiveEditor.getObjectList=function(){return[]}})(jQuery);(function(a){a.widget("pandora.BaseUpload",a.pandora.BaseEditor,{options:{value:""},_create:function(){a.pandora.BaseEditor.prototype._create.call(this);this._setOption("disabled",this.options.disabled);this.element.addClass("baseupload-editor");this.mask=a('<div class="baseupload-editor-mask">...</div>').appendTo(this.element)},_destroy:function(){this.mask.remove()},_getValue:function(){return this.options.value},showLoadingState:function(){this.element.addClass("baseupload-editor-busy")},hideLoadingState:function(){this.element.removeClass("baseupload-editor-busy")},getImgHtml:function(e,b,d){var c=a.imageScale(e.width,e.height,b,d);return'<img alt="" src="'+e.url+'" width="'+c.width+'" height="'+c.height+'" />'},handleStatus:function(c,d,b){a.responseParser(c,d,b)}})})(jQuery);(function(e){var d="...";var a='<table><tbody><tr><td><form enctype="multipart/form-data" target="localUploadTemp" method="post"><div style="position:relative;display:inline-block;*display:inline;*zoom:1;"><button class="ui-button ui-state-default choosefilebtn" type="button">'+d+'</button><input class="ui-input file" type="file" name="filename" style="width:60px;opacity:0;*filter:Alpha(opacity=0);position:absolute;left:0px;top:0px;"/></div><button type="submit"></button></form></td></tbody></table>',c=["","/pic/upload","/flash/upload","/vod/upload"];var b=e('<iframe name="localUploadTemp" style="display:none;" src="about:blank"></iframe>').load(function(j){var i=e(this),k=i.contents(),h=i.data("uploader"),g=k.text();if(h){if(g.indexOf("<code>")!==-1){var f=g.match("<code>(.*)</code>");g=(f&&f[1]?f[1]:"")}if(g){e.responseParser(e.json.parse(g),function(l){h.doneUpload(h.options.value={url:l.url,width:l.width||300,height:l.height||250})})}h.hideLoadingState()}});e("body").append(b);e.widget("pandora.LocalUpload",e.pandora.BaseUpload,{options:{value:"",mtype:1},_create:function(){var g=this,f=this.options;e.pandora.BaseUpload.prototype._create.call(this);this.element.append(e(a)).find("form").attr("action",f.action||c[f.mtype]);this.element.find(".file").change(function(h){g.element.find(".choosefilebtn").html(e(this).val().substring(0,8)+"...")});this.element.find('button[type="submit"]').button().click(function(h){g.showLoadingState();b.data("uploader",g)})},_destroy:function(){e("iframe",this.element).unbind("load",this._iframeloadHandler);e("file",this.element).unbind();this.element.find('button[type="submit"]').unbind().remove();e.pandora.BaseUpload.prototype._destroy.call(this)},_setOption:function(g,f){},doneUpload:function(g){var f=this;pandora.tipBox.show("");this.element.find(".choosefilebtn").html(d);this._trigger("upload",null,{value:g});f.setValue(g)},_formatValue:function(f){return f},_setValue:function(f){this.options.value=this._formatValue(f)}})})(jQuery);(function(b){var a='<table><tbody><tr><td><input class="ui-input" type="text" style="width:45%"/><button></button></td></tr></tbody></table>',c=["","/pic/fetch","/flash/fetch","/vod/fetch"];b.widget("pandora.UrlUpload",b.pandora.BaseUpload,{options:{value:"",mtype:1},_create:function(){var d=this;b.pandora.BaseUpload.prototype._create.call(d);this.textElement=b(a).appendTo(this.element).find('input[type="text"]').val(this.options.value);this.element.find("button").button().click(function(g){var f=d.element.find('input[type="text"]').val();d.showLoadingState();d.fetch(f)})},_destroy:function(){this.textElement.remove();this.element.find("button").unbind().remove()},fetch:function(d){var e=this;e.showLoadingState();b.ajax(this.options.fetchUrl||c[this.options.mtype],{data:{url:d},dataType:"json",type:"POST",success:function(f){e.hideLoadingState();b.responseParser(f,function(g){pandora.tipBox.show("URL");e._trigger("upload",null,{value:e.options.value=g})})}})},_setOption:function(e,d){},_formatValue:function(d){return d},_setValue:function(d){this.textElement.val(this._formatValue(d));this.fetch(d);return false}})})(jQuery);(function(e){var b="",g="/mid/get_list",h="history-upload-editor",f=h+"-item",d=f+"-hover",a=f+"-selected",c=9;e.widget("pandora.HistoryUpload",e.pandora.BaseUpload,{options:{value:"history"},_create:function(){var i=this;e.pandora.BaseUpload.prototype._create.call(i);this.element.addClass(h);this.list=e("<div/>").addClass(h+"-list").appendTo(this.element);this.pager=e("<span>").minipager({change:function(k,j){i.loadData(j.page,c,i.options.mtype)}}).appendTo(e('<div class="'+h+'-pagerbar">').appendTo(this.element));this._on(this.list,(function(){var j={};j["hover ."+f]=function(k){e(k.currentTarget).toggleClass(f+"-hover")};j["click ."+f]=function(o){var l=e(o.currentTarget),m=l.attr("data-url"),n=parseInt(l.attr("data-w"),10),k=parseInt(l.attr("data-h"),10);e("."+a,this.element).removeClass(a);l.addClass(a);this._trigger("upload",null,{value:this.options.value={url:m,width:n,height:k}})};return j})())},_destroy:function(){this.list.remove();this.pager.unbind().remove();e.pandora.BaseUpload.prototype._destroy.call(this)},renderImg:function(j,i){return'<img src="'+j.url+'" style="width:'+i.w+"px;height:"+i.h+"px;margin:"+i.hp+"px "+i.wp+'px;" />'},renderFlash:function(j,i){return['<div style="position:relative;margin:'+i.hp+"px "+i.wp+'px;">',e.createSwfHTML({url:j.url,width:i.w,height:i.h,scale:"exactfit"}),'<div class="com-fla-view-mask" style="z-index:1;width:'+i.w+"px;height:"+i.h+'px;"></div>',"</div>",].join("")},renderVideo:function(j,i){return['<div style="position:relative;margin:'+i.hp+"px "+i.wp+'px;">',e.createSwfHTML({url:e.pandora.Video.PLAYER_URL+j.url,width:i.w,height:i.h,scale:"exactfit"}),'<div class="com-video-view-mask" style="z-index:1;width:'+i.w+"px;height:"+i.h+'px;"></div>',"</div>",].join("")},render:function(l){if(!(l&&l.recordlist instanceof Array&&l.recordlist.length>0)){this.list.html('<div style="text-align:center;line-height:40px"></div>');return}var j=[],k=this,i=Math.max(this.element.width()/3-11,30);e.each(l.recordlist,function(o,p){var n=e.centerImage(p.width,p.height,i,i),m;switch(parseInt(p.type,10)){case 1:m=k.renderImg(p,n);break;case 2:m=k.renderFlash(p,n);break;case 3:m=k.renderVideo(p,n);break;default:break}j.push('<li data-url="'+p.url+'" data-w="'+p.width+'" data-h="'+p.height+'" class="'+f+'">'+m+"</li>")});this.list.html("<ul>"+j.join("")+"</ul>")},loadData:function(l,i,j){var k=this,m={page_size:i||c,page:(l||0)+1,type:j||k.options.mtype||1};k.showLoadingState();e.ajax(g,{dataType:"json",data:m,success:function(n){k.hideLoadingState();e.responseParser(n,function(o){k.pager.minipager("option","total",Math.ceil(o.recordcount/c));k.render(o)},function(o){})}})},_setValue:function(i){}})})(jQuery);(function(b){var a=["","tel","url"],c="/qr/create";b.widget("pandora.QrcodeGenerator",b.pandora.BaseUpload,{options:{value:{url:"http://sinastorage.com/sandbox/qr/2497.png",width:60,height:60},type:1},_create:function(){var e=this,d=this.options;b.pandora.BaseUpload.prototype._create.call(this);this.inputEl=b('<input type="text" class="ui-input" style="width:45%"/>').appendTo(this.element);this.buttonEl=b("<button></button>").button().appendTo(this.element).click(function(f){e.generate(e.inputEl.val())})},_destroy:function(){this.inputEl.remove();this.buttonEl.unbind().remove()},generate:function(f){var e=this,d={};e.showLoadingState();b.ajax(c,{data:{text:this.options.type===1?("TEL:"+f):f},dataType:"json",type:"POST",success:function(g){b.responseParser(g,function(h){pandora.tipBox.show("");e._trigger("change",null,{value:e.options.value={url:h.url,width:h.width,height:h.height}});e.hideLoadingState()})}})},_setValue:function(d){this.options.value=this._formatValue(d)},_getValue:function(){return this.options.value}})})(jQuery);(function(d){var e="picture-editor",a=e+"-editing",b=0;var c=[{type:"LocalUpload",label:"",options:{}},{type:"UrlUpload",label:"url",options:{}},{type:"HistoryUpload",label:"",options:{onactive:function(){this.loadData()}}}];d.widget("pandora.PictureEditor",d.pandora.BaseEditor,{_create:function(){var g=this,f=this.options,h=this.options.source||c;d.pandora.BaseEditor.prototype._create.call(this,f);this.element.addClass(e);this.editor=d('<input class="ui-input" type="text"/>').val(f.value.url).appendTo(this.element).click(d.proxy(this._showPanel,this));this.element.append(d('<div class="'+e+'-panel"><div class="editor-panel-arrow">\u25C6</div><div class="editor-panel-content"></div></div>'));this._setOption("disabled",f.disabled)},_setOption:function(g,f){d.pandora.BaseEditor.prototype._setOption.call(this,g,f);if(g=="disabled"){this.editor.attr("disabled",f)}},_showPanel:function(f){if(this.options.disabled){return}if(!this.isRenderTabs){this.renderTabs(this.options.source||c);this.isRenderTabs=true}d(f.target).attr("disabled","disabled");this.element.addClass(a)},_destroy:function(){this.element.removeClass(e);if(this.isRenderTabs){d(".editor",this.editor).unbind("editorupload")}this.editor.unbind("click",this._showPanel);d.pandora.BaseEditor.prototype._destroy.call(this)},_genTabsId:function(){return"PictureEditorTabs"+(b++)},renderTabs:function(h){var g=this._genTabsId(),j=this,i=[],k=[],f={};d.each(h,function(m,n){var l=g+"-"+m;n.options.mtype=j.options.mtype;f[l]=n;i.push('<li><a href="#'+l+'">'+n.label+"</a></li>");k.push('<div id="'+l+'"></div>')});d(".editor-panel-content",this.element).html('<div id="'+g+'"><ul>'+i.join("")+"</ul>"+k.join("")+"</div>");d("#"+g).tabs({activate:function(n,m){var l=d(m.newPanel).getInstance();l&&l.options.onactive&&l.options.onactive.call(l)}});d.map(f,function(m,l){d("#"+l)[m.type](m.options).on({editorupload:function(o,n){j.editor.val(n.value.url);j._trigger("change",o,n)}})})}})})(jQuery);(function(a){var b="wbpost-editor";a.widget("pandora.WbpostEditor",a.pandora.BaseEditor,{_create:function(){var d=this,c=this.options;a.pandora.BaseEditor.prototype._create.call(this,c);this.element.addClass(b);this.editor=a('<input type="text" style="width:80px;"/>').val(c.value.url).appendTo(this.element);this.ok=a("<button></button>").appendTo(this.element).button().click(a.proxy(this._getpostHandler,this));this.panel=a('<div class="'+b+'-panel"></div>').appendTo(this.element)},_getpostHandler:function(f){var c=this.editor.val(),d=this;this._getPost(c,function(e){d._trigger("change",null,{value:d.options.value={id:e,url:c}})})},_destroy:function(){this.element.removeClass(b);this.ok.unbind("click",this._getpostHandler);a.pandora.BaseEditor.prototype._destroy.call(this)},_getPost:function(d,c){var e=this;a.ajax("/wapi/getweibo",{data:{url:d},dataType:"script",success:function(){a.responseParser(getweibo,function(g){var f=g.text;g.thumbnail_pic&&(f+='<br><img src="'+g.thumbnail_pic+'" />');e.panel.html(['<div class="editor-panel-arrow">\u25C6</div>','<div class="editor-panel-content">','<div class="'+b+'-panel-inner">',f,"</div>","</div>"].join("")).show();c&&c(g.id)},function(){alert("")})}})}})})(jQuery);(function(a){a.widget("pandora.InsertEditor",a.pandora.TextEditor,{options:{value:"",btnText:"",insertContent:" ${nick} "},_create:function(){var c=this,b=this.options;a.pandora.TextEditor.prototype._create.call(this,this.options);this.textarea=this.element.addClass("insert-editor").find("textarea");this.insertBtn=a("<button>").html(b.btnText).appendTo(a('<div style="text-align:right;">').appendTo(this.element)).button().click(a.proxy(this._insert,this))},_insert:function(b){this.textarea.insertAtCaret(this.options.insertContent).keyup()},_destroy:function(){this.element.removeClass("insert-editor");this.insertBtn.off("click",this._insert);a.pandora.TextEditor.prototype._destroy.call(this)}})})(jQuery);(function(c){var d="login",a=d+"-dialog",b=d+"-info";c.widget("pandora.LoginBox",{_create:function(){var f=this,e=this.options;this.needPin=false;this.element.data("widgetName",this.widgetFullName).addClass(d);this.infobar=c("<div>").addClass(b).html("...").appendTo(this.element);this.dialog=c("<div>").addClass(a).html(['<form action="#" method="post">',"<table>",'<tr><th></th><td><input class="ui-input username-input" type="text" style="width:120px;"/></td></tr>','<tr><th></th><td><input class="ui-input pwd-input" type="password" style="width:120px;"/></td></tr>','<tr class="pin-block" style="display:none;">',"<th></th>",'<td><input class="ui-input pin-input" type="text" style="float:left;width:50px"/><span class="pin-pic" style="margin-left:5px;"></span></td>',"</tr>","</table>",'<input style="position:absolute;top:-1000px" type="submit" value=""/>',"</form>"].join("")).appendTo(c("body")).dialog({title:"",autoOpen:false,modal:true,resizable:false,buttons:[{text:"",click:function(){f.form.submit()},"class":"ui-state-em"},{text:"",click:function(){f.form[0].reset()}}]});this.form=c("form",this.dialog).submit(function(g){g.preventDefault();f._login()});this.usernameInput=c(".username-input",this.dialog);this.pwdInput=c(".pwd-input",this.dialog);this.pinInput=c(".pin-input",this.dialog);this.pinPic=c(".pin-pic",this.dialog).click(function(){f._pinCode(1)});this._on(this.element,{"click .login-btn":function(){f.open()},"click .logout-btn":function(){f.logout()}});this.checkSSO(this.autoLogin)},_destroy:function(){this.pinPic.unbind().remove()},_info:function(e){this.element.html(e)},_reset:function(){var e=c.cookie("adboxuser");this.usernameInput.val(e||"");this.pwdInput.val("");this.pinInput.val("");this._pinCode(false)},_pinCode:function(e){var f=c(".pin-block",this.dialog);this.needPin=e;if(e){this.pinPic.html('<img src="'+sinaSSOController.getPinCodeUrl()+'" alt="">');this.pinInput.val();f.show()}else{sinaSSOController.loginExtraQuery.door="";f.hide()}},_submit:function(){this.form.submit()},_login:function(){var e=this.usernameInput.val(),g=this.pwdInput.val(),f=this.pinInput.val();this._info("...");if(!e){pandora.tipBox.show("",2);this._setNoLogin();return}if(!g){pandora.tipBox.show("",2);this._setNoLogin();return}if(this.needPin){if(!f){pandora.tipBox.show("",2);this._setNoLogin();return}else{sinaSSOController.loginExtraQuery.door=f}}sinaSSOController.login(e,g);c.cookie("adboxuser",e)},_setLogin:function(e){this._info('<a href="http://adbox.sina.com.cn/#/mycreative/add">'+e.nick+'</a> | <a href="#" class="logout-btn"></a>')},_setNoLogin:function(){this._info('<a href="#" class="login-btn"></a> | <a href="http://sina.com" target="_blank"></a>')},checkSSO:function(e){var f=this;if("undefined"===typeof sinaSSOController){c.getScript("http://i.sso.sina.com.cn/js/ssologin.js",function(){(function(){this.entry="adbox";this.setDomain=false;this.customLoginCallBack=function(g){if(g&&g.result){f._setLogin(g.userinfo);f.dialog.dialog("close")}else{f._setNoLogin();if(g.errno=="4049"){pandora.tipBox.show(g.reason,1);f._pinCode(1)}else{if(g.errno=="2070"){f._pinCode(1)}pandora.tipBox.show(g.reason||"",2)}}};this.customLogoutCallBack=function(g){if(g&&g.result){f._setNoLogin()}else{}}}).call(sinaSSOController);e.call(f)})}else{e.call(f)}},logout:function(){this._info("...");sinaSSOController.logout()},autoLogin:function(){var e=this;this._info("...");sinaSSOController.autoLogin(function(f){if(f==null){e._setNoLogin()}else{e._setLogin(f)}})},open:function(){this._reset();this.dialog.dialog("open")}})})(jQuery);(function(h){var c="stage-obj",f=c+"-selected",a=c+"-hover",i="stage-com",l="stage-group",j=1,m=1,e=0,d=0,b=10,g=1,k=2047;h.widget("pandora.Stage",h.ui.mouse,{options:{canvasWidth:360,canvasHeight:250,canvasBgcolor:"#fff",canvasBordercolor:"#000",canvasBorder:0,tolerance:"touch",distance:20},_create:function(){var o=this,n=this.options;n.width=n.width||this.element.parent().width();n.height=n.height||this.element.parent().height();this.widgetEventPrefix="stage";this.element.data("widgetName",this.widgetFullName).addClass("stage").css({width:n.width,height:n.height}).disableSelection();this._mouseInit();this.helper=h('<div class="stage-helper"></div>').css("z-index",k);this.canvas=h('<div class="stage-canvas">').css({"background-color":n.canvasBgcolor,position:"absolute","z-index":g}).appendTo(this.element);this.editor=h('<div class="stage-canvas-editor">').css("position","absolute").appendTo(this.canvas);this.preview=h('<iframe scrolling="no" frameborder="0" class="stage-canvas-preview" id="'+n.previewId+'" name="'+n.previewId+'" src="about:blank" style="border:none;"></iframe>').css("position","absolute").appendTo(this.canvas);this._renderCanvasSize();this.centerCanvas();h(document).keydown(h.proxy(this._doKey,this));this._on({click:function(p){h("textarea",this.editor).blur();this.unselectAll();this._trigger("unselect",null)}});this._on(this.editor,function(){var p={};p["click ."+c]=function(s){var r=s.currentTarget,q=h(r);if(q.hasClass(f)&&(s.ctrlKey||s.shiftKey)){this.unselect(r);this._trigger("unselectone",s,{uid:q.attr("id")})}else{this._select(r,s,s.ctrlKey||s.shiftKey)}s.stopPropagation();s.preventDefault()};p["mouseenter ."+c]=function(q){h(q.currentTarget).addClass(a)};p["mouseleave ."+c]=function(q){h(q.currentTarget).removeClass(a)};p["objdragstart ."+c]=function(r,q){var s=this.dragObjs=[];!h(r.currentTarget).hasClass(f)&&this._select(r.currentTarget,r);this._getSelected().each(function(u,w){var t=h(w);if(w!==r.currentTarget){s.push(w);t.data({dragOLeft:parseInt(t.css("left"),10),dragOTop:parseInt(t.css("top"),10)})}})};p["objdragging ."+c]=function(r,q){var s=this.dragObjs;s&&h.each(s,function(u,w){var t=h(w);t.getInstance().setPos(q.offsetX+t.data("dragOLeft"),q.offsetY+t.data("dragOTop"))});this._trigger("objdragging",r,q)};p["objdragend ."+c]=function(s,q){var t=this.dragObjs,r={};t&&h.each(t,function(B,C){var A=h(C),w=A.getInstance(),u=q.offsetX+A.data("dragOLeft"),D=q.offsetY+A.data("dragOTop");w.setValue({x:u,y:D});r[A.attr("id")]={x:u,y:D}});r[s.target.id]={x:q.x,y:q.y};this._trigger("change",s,r);this.dragObjs=[]};p["objresizing."+c]=function(r,q){this._trigger("objresizing",r,q)};p["objresizend."+c]=function(s,q){var r={};r[s.target.id]={w:q.w,h:q.h,x:q.x,y:q.y};this._trigger("change",s,r)};return p}())},_doKey:function(s){var q=this,o,t={},p=this._getSelected(),n,r;switch(s.which){case h.ui.keyCode.UP:o="y";t.y=-1;break;case h.ui.keyCode.DOWN:o="y";t.y=1;break;case h.ui.keyCode.LEFT:o="x";t.x=-1;break;case h.ui.keyCode.RIGHT:o="x";t.x=1;break;default:break}o&&h.each(p,function(u,w){n=h(w).getInstance(),r=n.getValue().options;n.setValue(o,t[o]+r[o]);q._trigger("objdragging",s,n.getValue().options)});q=null},_renderCanvasSize:function(){this.canvas.css({width:this.options.canvasWidth,height:this.options.canvasHeight});this.editor.css({width:this.options.canvasWidth,height:this.options.canvasHeight});this.preview.css({width:this.options.canvasWidth,height:this.options.canvasHeight})},_destroy:function(){h(document).off("keydown",this._doKey);h(window).off("resize",this.centerCanvas);this._mouseDestroy()},_mouseStart:function(o){var n=this.options;if(n.disabled){return}this.opos=[o.pageX,o.pageY];h("body").append(this.helper);this.selectees=this._getObjs();this._cache(this.selectees);(!o.ctrlKey||!o.shiftKey)&&this.unselectAll();this.helper.css({left:o.clientX,top:o.clientY,width:0,height:0})},_mouseDrag:function(u){var t=this,p=this.options;if(p.disabled){return}this.dragged=true;var o=this.opos[0],s=this.opos[1],n=u.pageX,r=u.pageY;if(o>n){var q=n;n=o;o=q}if(s>r){var q=r;r=s;s=q}this.helper.css({left:o,top:s,width:n-o,height:r-s});this.selectees.each(function(){var w=h.data(this,"selectable-item"),x=false;if(!w||w.element==t.element[0]){return}if(p.tolerance=="touch"){x=(!(w.left>n||w.right<o||w.top>r||w.bottom<s))}else{if(p.tolerance=="fit"){x=(w.left>o&&w.right<n&&w.top>s&&w.bottom<r)}}x&&(!w.$element.hasClass("obj-disabled"))&&w.$element.addClass(f)});return false},_mouseStop:function(q){var p=this,n=this.options;if(n.disabled){return}this.dragged=false;this.helper.remove();var o=this._getSelectedProp();if(!h.isEmptyObject(o)){this._trigger("mutiselect",q,o)}return false},_cache:function(n){n.each(function(){var o=h(this);var p=o.offset();h.data(this,"selectable-item",{element:this,$element:o,left:p.left,top:p.top,right:p.left+o.outerWidth(),bottom:p.top+o.outerHeight()})})},_select:function(o,p,n){if(!h(o).hasClass(f)){if(!n){this.unselectAll();this._trigger("select",p,this.select(o))}else{this.select(o);this._trigger("mutiselect",p,this._getSelectedProp())}}},_getObjs:function(){return h(">."+c,this.editor)},_getSelected:function(){return h(">."+f,this.editor)},_getSelectedProp:function(){var o={},n;this._getSelected().each(function(p,q){n=h(q).getInstance();o[q.id]=n.getProp()});return o},_genId:function(){return c+(j++)+(+new Date())},_genTag:function(n){return(n==="Group"?(""+(d++)):(""+(e++)))},_addCom:function(r,p,q){var r=r||"ObjBase",p=p||{},o={},q=q||this._genId(),n=this._genTag(r);h.extend(o,p);o.tag=p.tag=n;o.z=p.z=(p.z||b+(m++));o.container=this.element;h('<div id="'+q+'" data-tag="'+n+'">').addClass(c).appendTo(this.editor)[r](o);return{uid:q,type:r,options:p}},_addGroup:function(n,o){h.map(n.coms,function(q,r){q.options.x+=n.x;q.options.y+=n.y});var p=this.group([{uid:o,objs:this.add(n.coms),options:n}]);return p[0]},resetCanvasSize:function(n,o){this.options.canvasWidth=n;this.options.canvasHeight=o;this._renderCanvasSize();this.centerCanvas()},resetCanvasBgcolor:function(n){n=n||this.options.canvasBgcolor||"transparent";this.options.canvasBgcolor=n;this.editor.css({backgroundColor:n})},resetCanvasBorder:function(n,o){n=parseInt(n,10)||0;o=o||this.options.canvasBordercolor||"transparent";this.options.canvasBordercolor=o;this.options.canvasBorder=n;this.editor.css({borderWidth:n,borderStyle:"solid",borderColor:o})},resize:function(n,o){this.options.width=n;this.options.height=o;this.element.css({width:n,height:o});this.centerCanvas()},centerCanvas:function(){var n=this.options;this.canvas.css({left:(n.width-n.canvasWidth)/2,top:(n.height-n.canvasHeight)/2})},togglePreview:function(){h("body").toggleClass("preview");this.element.toggleClass("stage-preview")},resetPreview:function(){this.preview.attr("src","about:blank")},toggleTag:function(){h("body").toggleClass("stage-hide-tag")},reIndex:function(n){var o={};h.each(n,function(q,p){o[p]={z:b+q}});this.changeValue(o);return o},remove:function(s){var o=this,r=[],q,n,t;h.each(s,function(p,u){t=h("#"+u.uid);n=t.getInstance();q=n.getValue();q.uid=u.uid;r.push(q);if(h.pandora.Group.isGroup(u)){o.remove(n.unconnect)}t.remove()});return r},removeSelected:function(){var n=this._getSelected(),o=[];h.each(n,function(p,q){o.push({uid:q.id})});return this.remove(o)},group:function(u){var s=this,q=[],p,n,t,o;h.each(u,function(r,w){o=w.objs;p=w.uid||s._genId();n=s._genTag("Group"),options=h.extend(w.options||{},{tag:n,z:b+(m++)});options.container=s.element;t=h('<div id="'+p+'" data-tag="'+n+'">').addClass(c).appendTo(s.editor).Group(options);h.each(o,function(y,A){var x=h("#"+A.uid);s.unselect(x[0]);x.removeClass(a)});t.getInstance().connect(o);q.push({uid:p,type:"Group",objs:o,options:options})});return q},groupSelected:function(){var s=this,p=this._getSelected(),n,o=[],q=[];if(p.length>=2){h.each(p,function(t,r){n=h(r).getInstance();o.push({uid:r.id,type:n.widgetName,options:n.getValue().options})});q=this.group([{objs:o}])}return q},ungroup:function(s){var q=this,o,p=[],n;h.each(s,function(r,t){n=h("#"+t.uid);if(h.pandora.Group.isGroup(n)){o=n.getInstance().unconnect();n.remove();d--;p.push({uid:t.uid,objs:o})}});return p},ungroupSelected:function(){var p=this,o=[],q=[],n=this._getSelected();h.each(n,function(s,t){if(h.pandora.Group.isGroup(t)){var r=h(t).getInstance();q.push({uid:t.id,type:r.widgetName})}});return p.ungroup(q)},selectAll:function(){var n=this;this._getObjs().each(function(o,p){n.select(p)});return this._getSelectedProp()},unselectAll:function(){var n=this;this._getSelected().each(function(o,p){n.unselect(p)})},select:function(p){var o={},n=h(p);n.addClass(f);o[n.attr("id")]=n.getInstance().getProp();return o},unselect:function(n){h(n).removeClass(f)},changeValue:function(o){var p=this,n;h.map(o,function(r,q){n=h("#"+q).getInstance();if(n){n.setValue(r)}if(n.widgetName.indexOf("Wb")===0&&r.nick){h(".com-wbcom",p.element).each(function(s,t){h(t).getInstance().setValue({nick:r.nick})})}})},add:function(n){var p=this,r=[],o=[],q;if(arguments.length>1){n={type:arguments[0],options:arguments[1]||{},uid:arguments[2]||null}}if(("object"===typeof n)&&!h.isArray(n)&&!n.type){h.map(n,function(t,s){t.uid=s;o.push(t)})}else{if(!h.isArray(n)){o=[n]}else{o=n}}h.each(o,function(s,t){if("string"===typeof t){t={type:t}}if(t.type==="Group"){q=p._addGroup(t.options,t.uid)}else{q=p._addCom(t.type,t.options,t.uid)}r.push(q)});return r},getSelectedValue:function(){var n=[];this._getSelected().each(function(p,q){var o=h(q).getInstance().getValue();o.uid=q.id;n.push(o)});return n},setValue:function(n){this.add(n)},getValue:function(){var n=[],o=0;this._getObjs().each(function(q,r){var p=h(r).getInstance().getValue();p.uid=r.id;if(p.type.indexOf("Wb")===0){o=p.options.nick}n.push(p)});return{wb:o,width:this.options.canvasWidth,height:this.options.canvasHeight,bgcolor:this.options.canvasBgcolor,border:this.options.canvasBorder?"1|1|1|1":"",borderColor:this.options.canvasBordercolor,objs:n}}})})(jQuery);(function(b){var a=3000;b.widget("pandora.Sidebar",{_create:function(){var d=this,c=this.options;c.height=c.height||this.sidebar.parent().height;this.widgetEventPrefix="sidebar";this.isShow=1;this.element.data("widgetName",this.widgetFullName).addClass("sidebar-content");this.sidebar=b("<div/>").addClass("sidebar").css({"z-index":a,height:c.height}).appendTo(this.element.parent()).disableSelection();this.toggleBtn=b('<div class="toolpanel-toggle-split" />').appendTo(this.sidebar).html('<div class="toolpanel-toggle-button"><div class="toolpanel-right-arrow">\u25C6</div></div><div class="toolpanel-toggle-button-mask"></div>');this.view=this.element.css("width",c.width).appendTo(this.sidebar).appendTo(this.sidebar);this.toggleBtn.click(b.proxy(this._toggleHandler,this))},_resizeHandler:function(){this.resize(this.sidebar.parent().height())},resize:function(c){this.sidebar.height(this.options.height=c)},_toggleHandler:function(c){this.element.parent().toggleClass("sidebar-close")},_destroy:function(){this.element.removeClass().removeData();this.toggleBtn.unbind("click",this._toggleHandler)}})})(jQuery);(function(b){var a="prop-editor-item";b.widget("pandora.PropPanel",b.ui.Panel,{options:{props:[]},_create:function(){var c=this.options;b.extend(c,{title:"",width:300,hide:true,miniButton:true});b.ui.Panel.prototype._create.call(this,c);this.widgetEventPrefix="proppanel";this.element.addClass("prop-panel").data("widgetName",this.widgetFullName);this._on(this.element,function(){var d={};d["editorchange ."+a]=function(k,i){var h=b(k.currentTarget),g=h.attr("data-uid"),f=h.attr("data-pn");var j={};j[g]={};j[g][f]=i;this._trigger("change",k,j)};return d}());this.element.keydown(function(d){d.stopPropagation()})},_genId:function(d,c){return d+c},_genBlockId:function(c){return c+"PropBlock"},fill:function(c){var e=this,d=[],f;this.clear();this.show();b.map(c,function(i,h){f=[];for(var g in i){if(i[g].type&&i[g].level!=="base"){var j=e._genId(h,g);e.curdata["#"+j]={type:b.upperCaseFirst(i[g].type)+"Editor",value:i[g]};f.push("<tr><th><nobr>"+i[g].label+'</nobr></th><td class="prop-block-td"><div id="'+j+'" class="'+a+'" data-uid="'+h+'" data-pn="'+g+'"></div>'+(i[g].tips?'<div class="prop-tips">'+i[g].tips+"</div>":"")+"</td></tr>")}}d.push('<div id="'+e._genBlockId(h)+'" class="prop-block"><table>'+f.join("")+"</table></div>")});this.body.html(d.join(""));b.map(e.curdata,function(h,g){b(g)[h.type](h.value)})},changeValue:function(d){var c,e=this;b.map(d,function(h,g){for(var f in h){c=b("#"+e._genId(g,f),e.body).getInstance();c&&c.setValue(h[f])}})},clear:function(){if(this.curdata){for(var c in this.curdata){delete this.curdata[c]}}b("*",this.body).remove();this.curdata={};this.hide()}})})(jQuery);(function(a){a.widget("pandora.ToolPanel",{_create:function(){var b=this.options;b.height=b.height||this.element.parent().height();this.widgetEventPrefix="toolpanel";this.element.data("widgetName",this.widgetFullName).append(a('<div class="ui-widget-header"></div>')).css("height",b.height);this.view=a("<div>").appendTo(this.element).html(['<h3><i class="icon-small icon-arrow-down"></i></h3>',"<ul>",'<li data-tip="" data-type="Retangle"><a href="#"><i class="icon-big icon-big-retangle"></i><br></a></li>','<li data-tip="" data-type="Txt"><a href="#"><i class="icon-big icon-big-text"></i><br></a></li>','<li data-tip="" data-type="Btn"><a href="#"><i class="icon-big icon-big-button"></i><br></a></li>','<li data-tip="" data-type="Img"><a href="#"><i class="icon-big icon-big-image"></i></i><br></a></li>','<li data-tip="" data-type="Qrcode"><a href="#"><i class="icon-big icon-big-qrcode"></i></i><br></a></li>','<li data-tip="" data-type="Video"><a href="#"><i class="icon-big icon-big-video"></i></i><br></a></li>','<li data-tip="" data-type="Fla"><a href="#"><i class="icon-big icon-big-fla"></i></i><br>flash</a></li>',"</ul>",'<h3><i class="icon-small icon-arrow-down"></i></h3>',"<ul>",'<li data-tip="" data-type="Wbfocus"><a href="#"><i class="icon-big icon-big-wbfocus"></i><br></a></li>','<li data-tip="" data-type="Wbavatar"><a href="#"><i class="icon-big icon-big-wbavatar"></i><br></li>','<li data-tip="" data-type="Wbnick"><a href="#"><i class="icon-big icon-big-wbnick"></i><br></a></a></li>','<li data-tip="" data-type="Wbrelation"><a href="#"><i class="icon-big icon-big-wbrelation"></i><br></a></li>','<li data-tip="" data-type="Wbrepos"><a href="#"><i class="icon-big icon-big-wbrepos"></i><br></a></li>','<li data-tip="" data-type="Wbshare"><a href="#"><i class="icon-big icon-big-wbshare"></i><br></a></li>','<li data-tip="" data-type="Usernick"><a href="#"><i class="icon-big icon-big-usernick"></i><br></a></li>','<li data-tip="" data-type="Useravatar"><a href="#"><i class="icon-big icon-big-useravatar"></i><br></a></li>',"</ul>",'<h3><i class="icon-small icon-arrow-down"></i></h3>',"<ul>",'<li data-tip="" data-type="Imgslider"><a href="#"><i class="icon-big icon-big-slider"></i></i><br></a></li>','<li data-tip="" data-type="Tabslider"><a href="#"><i class="icon-big icon-big-tabslider"></i></i><br></a></li>',"</ul>",'<h3><i class="icon-small icon-arrow-down"></i></h3>',"<ul>",'<li data-tip="" data-type="Input"><a href="#"><i class="icon-big icon-big-input"></i><br></a></li>','<li data-tip="" data-type="Radio"><a href="#"><i class="icon-big icon-big-radio"></i><br></a></li>','<li data-tip="" data-type="Checkbox"><a href="#"><i class="icon-big icon-big-checkbox"></i><br></a></li>','<li data-tip="" data-type="Select"><a href="#"><i class="icon-big icon-big-select"></i><br></a></li>','<li data-tip="" data-type="Region"><a href="#"><i class="icon-big icon-big-region"></i><br></a></li>',"</ul>"].join("")).accordion({heightStyle:"fill",animate:false});this._on(this.view,{"click li":function(c){this._trigger("select",null,a(c.currentTarget).attr("data-type"))}})},_destroy:function(){this.element.removeClass("toolpanel").removeData()},resize:function(b){this.options.height=b;this.element.css("height",b);this.view.accordion("refresh")}})})(jQuery);(function(b){var a="obj-panel-item",c=30;ITEM_SELECTED_FILTER=a+"-selected",ICON_MAP={Com:"icon-star-empty",Txt:"icon-text",Img:"icon-image",Btn:"icon-button",Imgslider:"icon-slider",Tabslider:"icon-tabslider",Formlist:"icon-form",Input:"icon-input",Radio:"icon-radio",Checkbox:"icon-checkbox",Select:"icon-select",Region:"icon-region",Wbnick:"icon-wbnick",Wbavatar:"icon-wbavatar",Wbfocus:"icon-wbfocus",Wbrelation:"icon-wbrelation",Group:"icon-group",Wbrepos:"icon-wbrepos",Video:"icon-video",Fla:"icon-flash",Qrcode:"icon-qrcode",Retangle:"icon-retangle",Useravatar:"icon-useravatar",Usernick:"icon-usernick",Wbshare:"icon-wbshare"};b.widget("pandora.ObjPanel",{_create:function(){var d=this.options;this.widgetEventPrefix="objpanel";this.element.data("widgetName",this.widgetFullName).addClass("obj-panel").css("height",d.height).append(b('<div class="ui-widget-header"></div>'));this.body=b('<div class="obj-panel-body">').css("height",d.height-c).appendTo(this.element).sortable({placeholder:"ui-state-highlight",axis:"y",stop:b.proxy(this._sortHandler,this)});this._on(function(){var e={};e["click ."+a]=function(f){!b(f.currentTarget).hasClass(ITEM_SELECTED_FILTER)&&this._select(f.currentTarget,f);f.stopPropagation()};e["hover ."+a]=function(f){b(f.currentTarget).toggleClass("ui-state-hover")};e.click=function(f){f.stopPropagation()};return e}())},resize:function(d){this.element.css("height",d);this.body.css("height",d-c)},_destroy:function(){this.element.removeClass("obj-panel").removeData()},_sortHandler:function(g,f){var d=[];b("."+a,this.element).each(function(e,h){d.push(h.id.replace("ObjItem",""))});this._trigger("sort",g,{order:d.reverse()})},_genId:function(d){return d+"ObjItem"},_select:function(d,f){this.unselectAll();b(d).addClass(ITEM_SELECTED_FILTER+" ui-state-selected");this._trigger("select",f,this._getSelectedId())},_getSelectedId:function(){var d={};this._getSelected().each(function(e,f){d[f.id.replace("ObjItem","")]=1});return d},_getSelected:function(){return b("."+ITEM_SELECTED_FILTER,this.body)},add:function(d,e){this.body.prepend(b('<li id="'+this._genId(d)+'" class="'+a+'">').html('<i class="icon '+ICON_MAP[e]+'"></i><span> '+b("#"+d).attr("data-tag")+"</span>"))},remove:function(d){b("#"+this._genId(d)).remove()},select:function(d){b("#"+this._genId(d)).addClass(ITEM_SELECTED_FILTER+" ui-state-selected")},unselect:function(d){b("#"+this._genId(d)).removeClass(ITEM_SELECTED_FILTER+" ui-state-selected")},_unselectAll:function(){b("."+a,this.body).each(function(d,e){b(e).removeClass(ITEM_SELECTED_FILTER+" ui-state-selected")})},unselectAll:function(){b("."+a,this.body).each(function(d,e){b(e).removeClass(ITEM_SELECTED_FILTER+" ui-state-selected")});this._trigger("unselect",null)}})})(jQuery);(function(c){var d=0,b=100,a=[];c.widget("pandora.Recorder",{_create:function(){this.widgetEventPrefix="recorder";this.element.data("widgetName",this.widgetFullName);this.restoreBtn=this.element.children().first().button({disabled:true}).click(c.proxy(this.restore,this));this.redoBtn=this.restoreBtn.next().button({disabled:true}).click(c.proxy(this.redo,this));this.element.buttonset()},_destroy:function(){this.restoreBtn.unbind("click",this._restore);this.redoBtn.unbind("click",this._redo);this.element.removeData()},restore:function(){if(d>0){var e=a[--d];this.restoreBtn.button("option","disabled",!this.getRestoreState());this.redoBtn.button("option","disabled",!this.getRedoState());this._trigger("restore",null,{data:e,canRedo:this.getRedoState(),canRestore:this.getRestoreState()})}},redo:function(){if(d<=a.length-1){var e=a[d++];this.redoBtn.button("option","disabled",!this.getRedoState());this.restoreBtn.button("option","disabled",!this.getRestoreState());this._trigger("redo",null,{data:e,canRedo:this.getRedoState(),canRestore:this.getRestoreState()})}},record:function(e){if(d<b){a[d++]=e;a.splice(d)}else{a.shift();a[d-1]=e}this.redoBtn.button("option","disabled",true);this.restoreBtn.button("option","disabled",false);return{data:e,stack:a,pointer:d,len:b}},clear:function(){d=-1;a.length=0},getRestoreState:function(){return d>0},getRedoState:function(){return d<=a.length-1},getPointerPos:function(){return d}})})(jQuery);
/*
 * 
 * author : acelan(xiaobin8[at]staff.sina.com.cn)
 */
$.extend(pandora,(function(){var o="http://adbox.sina.com.cn/",b=o+"#/mycreative/add",i="http://amp.ad.sina.com.cn/client/idea/idea!callBack.action?";var m=null;$.extend($.ui.keyCode,{DEL:46,A:65,Z:90,G:71,I:73,P:80,C:67,V:86});var u=(function(){var F,y,e=$("#XNav").height(),E,B=150,A,x;function D(){y=$("body").height();F=$("body").width();E=y-e;A=Math.floor(E*0.6);x=E-A-14}function C(){D();r.resize(F,E);k.resize(E);l.resize(A);q.resize(x)}$(window).resize(C);D();return{winW:F,winH:y,navH:e,mainH:E,sideW:B,sideH:E,toolH:A,objH:x}})();var k=$("#XSidebar").Sidebar({width:u.sideW,height:u.sideH}).getInstance(),r=$("#XStage").Stage({previewId:"XPreviewIframe",width:u.winW,height:u.mainH}).getInstance(),c=$("#XProp").PropPanel({containment:$("#XMain")}).getInstance(),l=$("#XToolPanel").ToolPanel({height:u.toolH}).getInstance(),q=$("#XObjPanel").ObjPanel({height:u.objH}).getInstance(),f=$("#XRecorder").Recorder().getInstance(),j=$("#XToolbar"),g=$("#XConfigDialog").formdialog({width:450}).getInstance(),d;function s(y){var e={},x=d;if(x){$.map(y,function(B,A){e[A]={};$.map(B,function(D,C){if(x[A]){e[A][C]=x[A][C].value;x[A][C].value=D}})})}return e}var a=(function(){function e(x){if(x.which===$.ui.keyCode.DEL){w.removeSelected(x);x.preventDefault()}else{if(x.which!=$.ui.keyCode.BACKSPACE||(x.which==$.ui.keyCode.BACKSPACE&&(x.target.nodeName==="INPUT"||x.target.nodeName==="TEXTAREA"))){if((x.metaKey||x.ctrlKey)&&x.shiftKey&&(x.which===$.ui.keyCode.G)){w.ungroupSelected(x)}else{if((x.metaKey||x.ctrlKey)&&(x.which===$.ui.keyCode.G)){x.preventDefault();w.groupSelected(x)}else{if((x.metaKey||x.ctrlKey)&&x.shiftKey&&(x.which===$.ui.keyCode.A)){x.preventDefault();stageEvemt.unselectAll()}else{if((x.metaKey||x.ctrlKey)&&(x.which===$.ui.keyCode.A)){x.preventDefault();w.selectAll()}else{if((x.metaKey||x.ctrlKey)&&(x.which===$.ui.keyCode.I)){r.toggleTag()}else{if((x.metaKey||x.ctrlKey)&&x.shiftKey&&(x.which===$.ui.keyCode.P)){r.togglePreview()}else{if((x.metaKey||x.ctrlKey)&&x.shiftkey&&(x.which===$.ui.keyCode.Z)){x.preventDefault();f.redo()}else{if((x.metaKey||x.ctrlKey)&&(x.which===$.ui.keyCode.Z)){x.preventDefault();f.restore()}else{if((x.metaKey||x.ctrlKey)&&(x.which===$.ui.keyCode.C)){if(!(x.target.nodeName==="INPUT"||x.target.nodeName==="TEXTAREA")){x.preventDefault();w.copySelected(x)}}else{if((x.metaKey||x.ctrlKey)&&(x.which===$.ui.keyCode.V)){if(!(x.target.nodeName==="INPUT"||x.target.nodeName==="TEXTAREA")){x.preventDefault();w.pasteSelected(x)}}}}}}}}}}}}else{w.removeSelected(x);x.preventDefault()}}}$(document).keydown(e)})();var w=(function(){function D(K,J){d=J;q._unselectAll();for(var I in J){q.select(I)}$("#DelBtn, #UngroupBtn").button("option","disabled",false);c.fill(J)}function G(K,J){d=J;for(var I in J){q.select(I)}$("#GroupBtn, #UngroupBtn, #DelBtn").button("option","disabled",false);c.clear()}function F(J,I){q.unselect(I.uid);c.clear()}function E(J,I){$("input, textarea",c.element).blur();$("#GroupBtn, #UngroupBtn, #DelBtn").button("option","disabled",true);q._unselectAll();c.clear()}function A(J,I){c.changeValue(I);J&&f.record({type:"change",before:s(I),after:I})}function C(I,J){J.sort(function(L,K){return L.options.z-K.options.z});$.each(J,function(K,L){q.add(L.uid,L.type)});I&&f.record({type:"add",before:J,after:J})}function x(I,J){$.each(J,function(K,L){q.remove(L.uid)});c.clear();I&&f.record({type:"remove",before:J,after:J})}function H(I,J){$.each(J,function(K,L){$.each(L.objs,function(M,N){q.remove(N.uid)});q.add(L.uid,"Group")});c.clear();I&&f.record({type:"group",before:J,after:J})}function e(I,J){J.sort(function(L,K){return L.options.z-K.options.z});$.each(J,function(K,L){L.objs.sort(function(N,M){return N.options.z-M.options.z});$.each(L.objs,function(M,N){q.add(N.uid,N.type)});q.remove(L.uid)});c.clear();I&&f.record({type:"ungroup",before:J,after:J})}function B(J,I){pandora.tipBox.show(""+I.w+" "+I.h+""+I.x+","+I.y,1,1000)}function y(J,I){pandora.tipBox.show(""+I.x+","+I.y,1,1000)}$("#XStage").bind({stageselect:D,stagemutiselect:G,stageunselect:E,stageunselectone:F,stagechange:A,stageobjresizing:B,stageobjdragging:y});return{selectAll:function(){G(r.selectAll())},unselectAll:function(){r.unselectAll();c.clear()},change:function(J,I){r.changeValue(I);A(J,I)},add:function(K,J,I){C(K,r.add.apply(r,Array.prototype.slice.call(arguments,1)))},remove:function(I,J){x(I,r.remove(J))},removeSelected:function(I){x(I,r.removeSelected());$("#DelBtn").button("option","disabled",true);$("#GroupBtn, #UngroupBtn").button("option","disabled",true)},group:function(J,I){H(J,r.group(I))},ungroup:function(J,I){e(J,r.ungroup(I))},groupSelected:function(I){var J=r.groupSelected();H(I,J);$.each(J,function(K,L){q.select(L.uid);r.select($("#"+L.uid))})},ungroupSelected:function(I){var J=r.ungroupSelected();e(I,J);$.each(J,function(K,L){$.each(L.objs,function(M,N){r.select($("#"+N.uid));q.select(N.uid)})})},copySelected:function(J){function I(N){var L=0,M,O;while(M=N[L++]){if(M.type==="Group"){O=M.options.coms;O&&(O.length>0)&&I(O)}delete M.uid}}var K=r.getSelectedValue();I(K);m=K},pasteSelected:function(I){m&&C(I,r.add(m))}}})();(function(){function e(B,A){var y=A.data.type,A=A.data.after;switch(y){case"add":w.add(null,A);break;case"remove":w.remove(null,A);break;case"change":w.change(null,A);break;case"group":w.group(null,A);break;case"ungroup":w.ungroup(null,A);break;default:break}d=r._getSelectedProp()}function x(B,A){var y=A.data.type;A=A.data.before;switch(y){case"add":w.remove(null,A);break;case"remove":w.add(null,A);break;case"change":w.change(null,A);break;case"ungroup":w.group(null,A);break;case"group":w.ungroup(null,A);break;default:break}d=r._getSelectedProp()}$("#XRecorder").bind({recorderredo:e,recorderrestore:x})})();(function(){function e(B,y){for(var A in y){for(var x in y[A]){y[A][x]=y[A][x].value}}r.changeValue(y);f.record({type:"change",before:s(y),after:y})}$("#XProp").bind({proppanelchange:e})})();(function(){function e(C,B){var A=r.reIndex(B.order);f.record({type:"change",before:s(A),after:A})}function y(){r.unselectAll();c.clear()}function x(C,B){for(var A in B){c.fill(r.select($("#"+A)))}}$("#XObjPanel").bind({objpanelsort:e,objpanelselect:x,objpanelunselect:y})})();(function(){$("#XConfigDialog").bind({formdialogok:function(y,x){pandora.ad.width=x.canvasWidth;pandora.ad.height=x.canvasHeight;r.resetCanvasSize(x.canvasWidth,x.canvasHeight);r.resetCanvasBorder(x.canvasBorder,x.canvasBordercolor);r.resetCanvasBgcolor(x.canvasBgcolor)},formdialogopen:function(E,y){var F=$(this),H=$(".canvas-w",F),C=$(".canvas-h",F),J=$(".canvas-bgcolor",F),x=$(".canvas-border",F),D=$(".canvas-bordercolor",F),I=$(".canvas-size",F),B=$(".canvas-bgcolor-h",F).val(r.options.canvasBgcolor),G=$(".canvas-border-h",F).val(r.options.canvasBorder),A=$(".canvas-bordercolor-h",F).val(r.options.canvasBordercolor);H.spinner().val(r.options.canvasWidth);C.spinner().val(r.options.canvasHeight);J.ColorEditor({value:r.options.canvasBgcolor,change:function(L,K){B.val(K.value)}});x.SelectEditor({value:parseInt(r.options.canvasBorder),width:60,datasource:[{name:"",value:0},{name:"",value:1}],change:function(L,K){G.val(K.value)}});D.ColorEditor({value:r.options.canvasBordercolor,change:function(L,K){A.val(K.value)}});I.RadioEditor({datasource:["300x250","950x90","300x500","250x230","780x90"],format:function(L,M){var K=M.split("x"),e=$.centerImage(parseInt(K[0],10),parseInt(K[1],10),50,40);return'<div><div style="background:#fff;border:1px solid #222;margin:'+e.hp+"px "+e.wp+"px;width:"+e.w+"px;height:"+e.h+'px;"></div></div><div style="padding-top:4px;">'+M+"</div>"},change:function(M,L){var K=L.value.split("x");H.val(parseInt(K[0],10));C.val(parseInt(K[1],10))}})}})})();(function(){$("#XToolPanel").bind({toolpanelselect:function(y,x){w.add(y,x)}})})();(function(){$("#XToolbar").children().first().next().buttonset().next().buttonset();$("#FullscreenBtn").click(function(x){if(!$.toggleFullscreen()){pandora.tipBox.show("F12",1)}});$("#GroupBtn").button("option","disabled",true).click(function(x){w.groupSelected(x)});$("#UngroupBtn").button("option","disabled",true).click(function(x){w.ungroupSelected(x)});$("#ConfigBtn").click(function(x){g.open()});$("#DelBtn").button("option","disabled",true).click(function(x){w.removeSelected(x)});$("#TagBtn").button().click(function(x){r.toggleTag()});$("#PreviewBtn").button().click(function(A){if(!$("body").hasClass("preview")){r.disable();var x=$("#XPreviewForm form"),y=r.getValue();$("#XPreviewFormInput").val($.json.stringify(y));x.submit()}});$("#EditBtn").button().click(function(x){if($("body").hasClass("preview")){r.enable();r.resetPreview();$("body").removeClass("preview")}});$("#SaveBtn").button().click(function(y){var x=$(this);$.extend(pandora.ad,{tsid:(function(e,A){return{"250x230":1,"950x90":2,"300x250":3,"780x90":4,"300x500":5}[e+"x"+A]||6})(pandora.ad.width,pandora.ad.height),ttid:(function(e,A){return{"250x230":1,"950x90":2,"300x250":3,"780x90":4,"300x500":5}[e+"x"+A]||6})(pandora.ad.width,pandora.ad.height)});pandora.tipBox.show("...",1);x.button("option","disabled",true);$.ajax("/ma/save",{type:"POST",dataType:"json",data:{templete_category_id:pandora.ad.tcid,templete_standard_id:pandora.ad.tsid,templete_type_id:pandora.ad.ttid,width:pandora.ad.width,height:pandora.ad.height,content:$.json.stringify(r.getValue())},success:function(e){x.button("option","disabled",false);$.responseParser(e,function(A){n.open(A.html,A.tid,A.url)})}})});$("#XPreviewForm form").submit(function(){$("body").toggleClass("preview")});$("#XToolbar button").tooltip({hide:10,items:"[data-tip]",content:function(){return'<div><div class="ui-tooltip-arrow"><div class="ui-tooltip-arrow-inner">\u25C6</div></div>'+$(this).attr("data-tip")+"</div>"},position:{my:"center top+5",at:"center bottom"}})})();var n=(function(){var x=$("#XCodeDialog textarea"),A=$("#XCodeDialogTid"),y=$("#XCodeDialogUrl"),e;dialog=$("#XCodeDialog").dialog({autoOpen:false,modal:true,close:false,width:500,resizable:false,closeButton:false,buttons:[{text:"",id:"XCodeDialogCopyButton"},{text:"",click:function(){var B=$.getPar("ex_t");$(this).dialog("close");if(B){window.location.href=i+"t="+B+"&adboxId="+A.val()}else{window.location.href=b}},"class":"ui-state-em"}]});return{open:function(C,D,B){x.val(C);A.val(D);y.val(B);$("#XCodeDialogCopyButton").copybutton({content:x,width:60,height:40,copy:function(){pandora.tipBox.show("")}});dialog.dialog("open")}}})();var p=$("#XLoginInfo").LoginBox().getInstance();var h=(function(){var y=null,e=$("#XTip"),x=2000;return{show:function(C,B,A){B=["success","alert","error"][B||0];A=A||x;e.html(C);e.show();e.attr("class","x-tip x-tip-"+B);e.css({left:($(window).width()-e.width()-40)/2});y&&clearTimeout(y);A!==-1&&(y=setTimeout(h.hide,A))},hide:function(){y&&clearTimeout(y);e.fadeOut()}}})();try{document.execCommand("BackgroundImageCache",false,true)}catch(t){}return{tipBox:h,configDialog:g,loginBox:p,open:function(e){var x=pandora.loading;pandora.ad=e=$.extend({width:300,height:250,ttid:6,tcid:14,tsid:6},e||{});r.resetCanvasSize(e.width,e.height);r.resetCanvasBorder(e.border,e.borderColor);r.resetCanvasBgcolor(e.bgcolor);if(e.objs){if(e.wb){$.pandora.Wbcom.getInfoByNick(e.wb,function(y){$.pandora.Wbcom.changDefaultUser(y);w.add(null,e.objs);x.hide()},function(y){w.add(null,e.objs);x.hide()})}else{w.add(null,e.objs);x.hide()}}else{x.hide()}}}})());